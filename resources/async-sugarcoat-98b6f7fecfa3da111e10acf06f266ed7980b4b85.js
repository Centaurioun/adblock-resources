var _satellite;{const $___mock_d10464d93b0eabb1={};(e=>{"use strict";const t=Symbol("deferredHandle"),a=Symbol("onloadstart"),n=Symbol("onprogress"),r=Symbol("onabort"),i=Symbol("onerror"),o=Symbol("onload"),s=Symbol("ontimeout"),c=Symbol("onloadend"),l=Symbol("onreadystatechange"),d=Symbol("readyState"),u=Symbol("timeout"),p=Symbol("withCredentials"),h=Symbol("upload"),f=Symbol("responseType"),g=(e,a)=>{var t=a.description.substring(2);Object.defineProperty(e,a,{configurable:!1,enumerable:!1,value:null,writable:!0}),e.addEventListener(t,function(e){const t=this[a];t&&t.call(this,e)})},m=(e,t)=>{e[d]=t,e.dispatchEvent(new Event("readystatechange"))};let b=!0;class _ extends EventTarget{constructor(){if(super(),!(this instanceof y||this instanceof v))throw new TypeError("Illegal constructor");g(this,a),g(this,n),g(this,r),g(this,i),g(this,o),g(this,s),g(this,c)}get onloadstart(){return this[a]}set onloadstart(e){this[a]=e}get onprogress(){return this[n]}set onprogress(e){this[n]=e}get onabort(){return this[r]}set onabort(e){this[r]=e}get onerror(){return this[i]}set onerror(e){this[i]=e}get ontimeout(){return this[s]}set ontimeout(e){this[s]=e}get onloadend(){return this[c]}set onloadend(e){this[c]=e}}e.XMLHttpRequestEventTarget={configurable:!0,enumerable:!0,value:_,writable:!0};class v extends _{constructor(){if(b)throw new TypeError("Illegal constructor");super()}}e.XMLHttpRequestUpload={configurable:!0,enumerable:!0,value:v,writable:!0};class y extends _{constructor(){super(),b=!1;var e=new v;b=!0,Object.defineProperty(this,t,{configurable:!1,enumerable:!1,value:null,writable:!0}),g(this,l),Object.defineProperty(this,d,{configurable:!1,enumerable:!1,value:0,writable:!0}),Object.defineProperty(this,u,{configurable:!1,enumerable:!1,value:0,writable:!0}),Object.defineProperty(this,p,{configurable:!1,enumerable:!1,value:!1,writable:!0}),Object.defineProperty(this,h,{configurable:!1,enumerable:!1,value:e,writable:!1}),Object.defineProperty(this,f,{configurable:!1,enumerable:!1,value:"",writable:!0})}get onreadystatechange(){return this[l]}set onreadystatechange(e){this[l]=e}get readyState(){return this[d]}open(e,t){switch(this[d]){case 0:case 4:m(this,1)}}setRequestHeader(e,t){}setTrustToken(e){}get timeout(){return this[u]}set timeout(e){this[u]=e}get withCredentials(){return this[p]}set withCredentials(e){switch(this[d]){case 0:case 1:break;default:throw new DOMException("Failed to set the 'withCredentials' property on 'XMLHttpRequest': The value may only be set if the object's state is UNSENT or OPENED.")}this[p]=!!e}get upload(){return this[h]}send(){if(1!==this[d]||null!==this[t])throw new DOMException("Failed to execute 'send' on 'XMLHttpRequest': The object's state must be OPENED.");this[t]=setTimeout(()=>{this[t]=null,m(this,4),this.dispatchEvent(new ProgressEvent("error")),this.dispatchEvent(new ProgressEvent("loadend"))},0)}abort(){1===this[d]&&null!==this[t]&&(clearTimeout(this[t]),this[t]=null,m(this,0),this.dispatchEvent(new ProgressEvent("abort")),this.dispatchEvent(new ProgressEvent("loadend")))}get responseURL(){return""}get status(){return 0}get statusText(){return""}getResponseHeader(e){return null}overrideMimeType(e){}get responseType(){return this[f]}set responseType(e){if(4===this[d])throw new DOMException("Failed to set the 'responseType' property on 'XMLHttpRequest': The response type cannot be set if the object's state is LOADING or DONE.");switch(e){case"":case"arraybuffer":case"blob":case"document":case"json":case"text":this[f]=e}}get response(){var e=this[f];return""===e||"text"===e?"":null}get responseText(){var e=this[f];if(""===e||"text"===e)return"";throw new DOMException("Failed to read the 'responseText' property from 'XMLHttpRequest': The value is only accessible if the object's 'responseType' is '' or 'text' (was 'arraybuffer').")}get responseXML(){return null}}Object.defineProperty(y,"UNSENT",{configurable:!1,enumerable:!0,value:0}),Object.defineProperty(y,"OPENED",{configurable:!1,enumerable:!0,value:1}),Object.defineProperty(y,"HEADERS_RECEIVED",{configurable:!1,enumerable:!0,value:2}),Object.defineProperty(y,"LOADING",{configurable:!1,enumerable:!0,value:3}),Object.defineProperty(y,"DONE",{configurable:!1,enumerable:!0,value:4}),e.XMLHttpRequest={configurable:!0,enumerable:!0,value:y,writable:!0}})($___mock_d10464d93b0eabb1);const $___mock_68baf1e69228f27e={};(e=>{"use strict";let t=!1;class a{constructor(){if(t)throw new TypeError("Illegal constructor")}get length(){return Object.keys(this).length}key(e){var t=Object.keys(this);return e<0||e>=t.length?null:t[e]}getItem(e){return Object.prototype.hasOwnProperty.call(this,e)?this[e]:null}setItem(e,t){this[e]=String(t)}removeItem(e){delete this[e]}clear(){for(const e of Object.keys(this))delete this[e]}}e.Storage={configurable:!0,enumerable:!0,value:a,writable:!0};const n=new a;e.localStorage={configurable:!0,enumerable:!0,get(){return n}};const r=new a;e.sessionStorage={configurable:!0,enumerable:!0,get(){return r}},t=!0})($___mock_68baf1e69228f27e),function(){!function(){window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2021-11-04T11:03:48Z",turbineBuildDate:"2021-08-11T20:25:49Z",turbineVersion:"27.2.0"},environment:{id:"ENe645c6465fd24d03b3803991bd0903c3",stage:"production"},dataElements:{"[DigitalData] Quarto Livello":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.category.subCategory3"}},"[DigitalData] Terzo Livello":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.category.subCategory2"}},"[DigitalData] Secondo Livello":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.category.subCategory1"}},"[ALL] Internal filter":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return document.domain}}},"[ALL] TransactionId":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"leadId",caseInsensitive:!0}},"[DigitalData] Intcmp":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.category.intcmp"}},"[ALL] Query String Parameter Cmp":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"cmp",caseInsensitive:!0}},"[DigitalData] Channel":{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.category.primaryCategory"}},"[ALL] External Id":{defaultValue:"",forceLowerCase:!0,storageDuration:"visitor",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"ext"}},"[ALL] Server":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return document.location.hostname}}},"[ALL] Cookie Login Status":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){switch(_satellite.cookie.get("RESKYC")){case"C":return"cliente";case"P":case"R":return"non cliente";default:return"non loggato"}}}},"[VIDEO] HbConfiguration":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return HbConfiguration={PLAYER:{NAME:"JW Player",KEY:"",VIDEO_ID:"skyPlayer_jwplayer"},VISITOR:{MARKETING_CLOUD_ORG_ID:"1A124673527853290A490D45@AdobeOrg",TRACKING_SERVER:"sky.it.sc.omtrdc.net",DPID:"",DPUUID:""},APP_MEASUREMENT:{RSID:"skyitcoll",TRACKING_SERVER:"sky.it.sc.omtrdc.net",PAGE_NAME:"video-home"},HEARTBEAT:{TRACKING_SERVER:"skyitalia.hb.omtrdc.net",CHANNEL:"video",OVP:"Video Platform",SDK:"2.0.0"}},HbConfiguration}}},"[ALL] Query String Parameter Intcmp":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"intcmp",caseInsensitive:!0}},"[AOL] EntryProduct":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"window.entryproduct"}},"[DigitalData] PageName":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.pageName"}},"[AOL] Query String Parameter Codpromo":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"codPromo",caseInsensitive:!0}},"[ALL] Query String Parameter Social":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"social",caseInsensitive:!0}},"[AOL] Prodotti Intermediate":{defaultValue:"no_prod;no_prod",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"window.DataLayerIntermediate"}},"[AOL] Adform tracking":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function a(e,t){e=new RegExp(e);return t.match(e)?"1":"0"}var n=_satellite.getVar("aolrenew_promocode"),r=_satellite.getVar("[AOL] Query String Parameter Codpromo"),i=_satellite.getVar("aolrenew_offertype");return function(e){var t={sv60:n||r||"",sv61:i||"",sv31:a("netflix","seleziona"==e?DataLayer:"anagrafica"==e||"pagamento"==e?DataLayerIntermediate:DataLayerFinal),sv46:a("skyq","seleziona"==e?DataLayer:"anagrafica"==e||"pagamento"==e?DataLayerIntermediate:DataLayerFinal),sv62:a("sky famiglia","seleziona"==e?DataLayer:"anagrafica"==e||"pagamento"==e?DataLayerIntermediate:DataLayerFinal),sv64:a("sky cinema","seleziona"==e?DataLayer:"anagrafica"==e||"pagamento"==e?DataLayerIntermediate:DataLayerFinal),sv65:a("sky sport","seleziona"==e?DataLayer:"anagrafica"==e||"pagamento"==e?DataLayerIntermediate:DataLayerFinal),sv66:a("sky calcio","seleziona"==e?DataLayer:"anagrafica"==e||"pagamento"==e?DataLayerIntermediate:DataLayerFinal),sv69:a("parabola","seleziona"==e?DataLayer:"anagrafica"==e||"pagamento"==e?DataLayerIntermediate:DataLayerFinal),sv72:a("sky on demand","seleziona"==e?DataLayer:"anagrafica"==e||"pagamento"==e?DataLayerIntermediate:DataLayerFinal),sv73:a("sky hd","seleziona"==e?DataLayer:"anagrafica"==e||"pagamento"==e?DataLayerIntermediate:DataLayerFinal),sv75:a("sky multivision","seleziona"==e?DataLayer:"anagrafica"==e||"pagamento"==e?DataLayerIntermediate:DataLayerFinal),sv83:"seleziona"==e?"Pacchetti":"anagrafica"==e?"Anagrafica":"pagamento"==e?"Pagamento":""};return DataLayer.match(/fastweb/)&&(t.sv67=a("internet illimitato fastweb","seleziona"==e?DataLayer:"anagrafica"==e||"pagamento"==e?DataLayerIntermediate:DataLayerFinal),t.sv68=a("chiamate illimitate fastweb","seleziona"==e?DataLayer:"anagrafica"==e||"pagamento"==e?DataLayerIntermediate:DataLayerFinal)),"typ"==e&&(t.sv54=s.purchaseID),t}}}},"[ALL] Remove replicatd scripts":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(){for(var e=document.getElementsByTagName("script"),t=[],a=0;a<e.length;a++)e[a].getAttribute("src")&&e[a].getAttribute("src").match(/assets\.adobe/)&&t.push(e[a].getAttribute("src"));var n=[];for(i=0;i<t.length;i++)i==t.indexOf(t[i])&&t.indexOf(t[i])==t.lastIndexOf(t[i])||n.push(t[i]);n.splice(-1,1);for(var r=0;r<n.length;r++)for(a=0;a<e.length;a++)e[a].getAttribute("src")&&e[a].getAttribute("src")==n[r]&&e[a].parentNode.removeChild(e[a])}()}}},"Canale d'acquisto":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.mobileDTMcheck?"mobile site":"desktop site"}}},"[AOL] Prodotti":{defaultValue:"no_prod;no_prod",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"window.DataLayer"}},"[AOL] Prodotti Final":{defaultValue:"no_prod;no_prod",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"window.DataLayerFinal"}},"[AOL] ExitProduct":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"window.exitproduct"}},"[AOL] Adform tracking BB":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var a=_satellite.getVar("aolrenew_promocode"),n=_satellite.getVar("[AOL] Query String Parameter Codpromo"),r=_satellite.getVar("aolrenew_offertype");return function(e){var t={sv1:_satellite.getVar("[ALL] External Id"),sv3:a||n||"",sv4:r||"",sv5:s.pageName,sv6:location.href,sv8:s.channel,sv9:s.prop59,sv10:s.prop60,sv11:document.referrer,sv12:"seleziona"==e?"Pacchetti":"anagrafica"==e?"Anagrafica":"pagamento"==e?"Pagamento":"documenti"==e?"Documenti":"riepilogo"==e?"Riepilogo":"",sv13:_satellite.getVar("[ALL] External Id"),sv14:r||""};return"typ"==e&&(t.orderid=s.purchaseID),t}}}}},extensions:{core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPc18819a3ae8e447cae97937dd08e60e3/",modules:{"core/src/lib/dataElements/javascriptVariable.js":{name:"javascript-variable",displayName:"JavaScript Variable",script:function(e,t,a){"use strict";var n=a("../helpers/getObjectProperty.js");e.exports=function(e){return n(window,e.path)}}},"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,a){"use strict";var o=a("@adobe/reactor-window"),s=a("@adobe/reactor-query-string");e.exports=function(e){var t=s.parse(o.location.search);if(!e.caseInsensitive)return t[e.name];for(var a=e.name.toLowerCase(),n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];if(i.toLowerCase()===a)return t[i]}}}},"core/src/lib/dataElements/cookie.js":{name:"cookie",displayName:"Cookie",script:function(e,t,a){"use strict";var n=a("@adobe/reactor-cookie");e.exports=function(e){return n.get(e.name)}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,a,r){"use strict";var i={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var a,n=i[e];n?(a={identifier:e,detail:t},n.forEach(function(e){e(a)}),n=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")],t&&n.push(t),r.logger.log.apply(r.logger,n)):r.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){(i[e.identifier]||(i[e.identifier]=[])).push(t)}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,a,r){"use strict";var i,n,o,s,c=a("@adobe/reactor-document"),l=a("@adobe/reactor-promise"),d=a("./helpers/decorateCode"),u=a("./helpers/loadCodeSequentially"),p=a("../../../node_modules/postscribe/dist/postscribe"),h=a("./helpers/unescapeHtmlCode"),f=a("../helpers/findPageScript").getTurbine,g=(n=function(e){p(c.body,e,{beforeWriteToken:function(t){var e=t.tagName&&t.tagName.toLowerCase();return i&&"script"===e&&(t.attrs.nonce=i),"script"!==e&&"style"!==e||(Object.keys(t.attrs||{}).forEach(function(e){t.attrs[e]=h(t.attrs[e])}),t.src&&(t.src=h(t.src))),t},error:function(e){r.logger.error(e.msg)}})},o=[],s=function(){if(c.body)for(;o.length;)n(o.shift());else setTimeout(s,20)},function(e){o.push(e),s()}),m=function(){if(c.currentScript)return c.currentScript.async;var e=f();return!e||e.async}();e.exports=function(e,t){var a;i=r.getExtensionSettings().cspNonce;var n={settings:e,event:t},t=n.settings.source;if(t)return n.settings.isExternal?u(t).then(function(e){return e?(a=d(n,e),g(a.code),a.promise):l.resolve()}):(a=d(n,t),!m&&"loading"===c.readyState&&c.write&&!1===r.propertySettings.ruleComponentSequencingEnabled?c.write(a.code):g(a.code),a.promise)}}},"core/src/lib/conditions/domain.js":{name:"domain",displayName:"Domain",script:function(e,t,a){"use strict";var n=a("@adobe/reactor-document"),r=/[|\\{}()[\]^$+*?.-]/g;e.exports=function(e){var t=n.location.hostname;return e.domains.some(function(e){return t.match(new RegExp("(^|\\.)"+function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(r,"\\$&")}(e)+"$","i"))})}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/events/click.js":{name:"click",displayName:"Click",script:function(e,t,a){"use strict";var o=a("@adobe/reactor-window"),n=a("./helpers/createBubbly")(),s=new(a("./helpers/weakMap")),c=a("../helpers/stringAndNumberUtils").castToNumberIfString;document.addEventListener("click",n.evaluateEvent,!0),e.exports=function(r,i){n.addListener(r,function(e){var t,a,n=e.nativeEvent;n.s_fe||((t=c(r.anchorDelay))&&!s.has(n)&&((a=function(e){if(!e.ctrlKey&&!e.metaKey&&2!==e.button)for(var t=e.target;t;){var a=t.tagName;if(a&&"a"===a.toLowerCase()){var n=t.getAttribute("href"),a=t.getAttribute("target");return n&&(!a||"_self"===a||"_top"===a&&o.top===o||a===o.name)?t:void 0}t=t.parentNode}}(n))&&(n.preventDefault(),setTimeout(function(){o.location=a.href},t)),s.set(n,!0)),i(e))})},e.exports.__reset=n.__reset}},"core/src/lib/events/domReady.js":{name:"dom-ready",displayName:"DOM Ready",script:function(e,t,a){"use strict";var n=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){n.registerDomReadyTrigger(t)}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,a){"use strict";var n=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){n.registerLibraryLoadedTrigger(t)}}},"core/src/lib/events/pageBottom.js":{name:"page-bottom",displayName:"Page Bottom",script:function(e,t,a){"use strict";var n=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){n.registerPageBottomTrigger(t)}}},"core/src/lib/conditions/path.js":{name:"path",displayName:"Path Without Query String",script:function(e,t,a){"use strict";var n=a("@adobe/reactor-document"),r=a("../helpers/textMatch");e.exports=function(e){var t=n.location.pathname;return e.paths.some(function(e){e=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(t,e)})}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var a=t.split("."),n=e,r=0,i=a.length;r<i;r++){if(null==n)return;n=n[a[r]]}return n}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,a){"use strict";var n=a("./decorators/decorateGlobalJavaScriptCode"),r=a("./decorators/decorateNonGlobalJavaScriptCode"),i={javascript:function(e,t){return(e.settings.global?n:r)(e,t)},html:a("./decorators/decorateHtmlCode")};e.exports=function(e,t){return i[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-promise"),r=a("./getSourceByUrl"),i=n.resolve();e.exports=function(a){var e=new n(function(t){var e=r(a);n.all([e,i]).then(function(e){e=e[0];t(e)})});return i=e}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,t){var a=function(){return n=[function(e,t,a){"use strict";var n,r=(n=a(1))&&n.__esModule?n:{default:n};e.exports=r.default},function(e,t,a){"use strict";function s(){}function c(){var e,t=o.shift();t&&((e=r.last(t)).afterDequeue(),t.stream=function(e,t,n){function r(e){e=n.beforeWrite(e),h.write(e),n.afterWrite(e)}(h=new u.default(e,n)).id=p++,h.name=n.name||h.id,l.streams[h.name]=h;var a=e.ownerDocument,i={close:a.close,open:a.open,write:a.write,writeln:a.writeln};d(a,{close:s,open:s,write:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return r(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return r(t.join("")+"\n")}});var o=h.win.onerror||s;return h.win.onerror=function(e,t,a){n.error({msg:e+" - "+t+": "+a}),o.apply(h.win,[e,t,a])},h.write(t,function(){d(a,i),h.win.onerror=o,n.done(),h=null,c()}),h}.apply(void 0,t),e.afterStreamStart())}function l(e,t,a){if(r.isFunction(a))a={done:a};else if("clear"===a)return o=[],h=null,void(p=0);a=r.defaults(a,i);var n=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,a];return e.postscribe={cancel:function(){n.stream?n.stream.abort():n[1]=s}},a.beforeEnqueue(n),o.push(n),h||c(),e.postscribe}t.__esModule=!0;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a,n=arguments[t];for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=l;var n,u=(n=a(2))&&n.__esModule?n:{default:n},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(4)),i={afterAsync:s,afterDequeue:s,afterStreamStart:s,afterWrite:s,autoFix:!0,beforeEnqueue:s,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:s,error:function(e){throw new Error(e.msg)},releaseAsync:!1},p=0,o=[],h=null;d(l,{streams:{},queue:o,WriteStream:u.default})},function(e,t,a){"use strict";function n(e,t){t=e.getAttribute(d+t);return c.existy(t)?String(t):t}function r(e,t,a){a=2<arguments.length&&void 0!==a?a:null,t=d+t;c.existy(a)&&""!==a?e.setAttribute(t,a):e.removeAttribute(t)}t.__esModule=!0;var i,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a,n=arguments[t];for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=(i=a(3))&&i.__esModule?i:{default:i},c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(4)),d="data-ps-",u="ps-style",p="ps-script",l=(h.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();c.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},h.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},h.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,a=void 0,n=void 0,r=[];(t=this.parser.readToken())&&!(a=c.isScript(t))&&!(n=c.isStyle(t));)(t=this.options.beforeWriteToken(t))&&r.push(t);0<r.length&&this._writeStaticTokens(r),a&&this._handleScriptToken(t),n&&this._handleStyleToken(t)},h.prototype._writeStaticTokens=function(e){e=this._buildChunk(e);return e.actual?(e.html=this.proxyHistory+e.actual,this.proxyHistory+=e.proxy,this.proxyRoot.innerHTML=e.html,this._walkChunk(),e):null},h.prototype._buildChunk=function(e){for(var t=this.actuals.length,a=[],n=[],r=[],i=e.length,o=0;o<i;o++){var s,c=e[o],l=c.toString();a.push(l),c.attrs?/^noscript$/i.test(c.tagName)||(s=t++,n.push(l.replace(/(\/?>)/," "+d+"id="+s+" $1")),c.attrs.id!==p&&c.attrs.id!==u&&r.push("atomicTag"===c.type?"":"<"+c.tagName+" "+d+"proxyof="+s+(c.unary?" />":">"))):(n.push(l),r.push("endTag"===c.type?l:""))}return{tokens:e,raw:a.join(""),actual:n.join(""),proxy:r.join("")}},h.prototype._walkChunk=function(){for(var e,t=[this.proxyRoot];c.existy(e=t.shift());){var a=1===e.nodeType;a&&n(e,"proxyof")||(a&&r(this.actuals[n(e,"id")]=e,"id"),(a=e.parentNode&&n(e.parentNode,"proxyof"))&&this.actuals[a].appendChild(e)),t.unshift.apply(t,c.toArray(e.childNodes))}},h.prototype._handleScriptToken=function(e){var t=this,a=this.parser.clear();a&&this.writeQueue.unshift(a),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,function(){t._onScriptDone(e)}))},h.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},h.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,u),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},h.prototype._buildStyle=function(e){var a=this.doc.createElement(e.tagName);return a.setAttribute("type",e.type),c.eachKey(e.attrs,function(e,t){a.setAttribute(e,t)}),a},h.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');t=this.doc.getElementById(t);t&&t.parentNode.replaceChild(e,t)},h.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},h.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},h.prototype._writeScriptToken=function(e,t){var a=this._buildScript(e),n=this._shouldRelease(a),r=this.options.afterAsync;e.src&&(a.src=e.src,this._scriptLoadHandler(a,n?r:function(){t(),r()}));try{this._insertCursor(a,p),a.src&&!n||t()}catch(e){this.options.error(e),t()}},h.prototype._buildScript=function(e){var a=this.doc.createElement(e.tagName);return c.eachKey(e.attrs,function(e,t){a.setAttribute(e,t)}),e.content&&(a.text=e.content),a},h.prototype._scriptLoadHandler=function(t,a){function n(){t=t.onload=t.onreadystatechange=t.onerror=null}function e(){n(),null!=a&&a(),a=null}function r(e){n(),o(e),null!=a&&a(),a=null}function i(e,t){var a=e["on"+t];null!=a&&(e["_on"+t]=a)}var o=this.options.error;i(t,"load"),i(t,"error"),s(t,{onload:function(){if(t._onload)try{t._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){r({msg:"onload handler failed "+e+" @ "+t.src})}e()},onerror:function(){if(t._onerror)try{t._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){return void r({msg:"onerror handler failed "+e+" @ "+t.src})}r({msg:"remote script failed "+t.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(t.readyState)&&e()}})},h.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},h);function h(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,h),this.root=e,this.options=t,this.doc=e.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new o.default("",{autoFix:t.autoFix}),this.actuals=[e],this.proxyHistory="",this.proxyRoot=this.doc.createElement(e.nodeName),this.scriptStack=[],this.writeQueue=[],r(this.proxyRoot,"proxyof",0)}t.default=l},function(e){var t=function(){return n=[function(e,t,a){"use strict";var n,r=(n=a(1))&&n.__esModule?n:{default:n};e.exports=r.default},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}t.__esModule=!0;var r,i,o=n(a(2)),s=n(a(3)),c=(r=a(6))&&r.__esModule?r:{default:r},l=a(5),d={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},u=(p.prototype.append=function(e){this.stream+=e},p.prototype.prepend=function(e){this.stream=e+this.stream},p.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},p.prototype._peekTokenImpl=function(){for(var e in d)if(d.hasOwnProperty(e)&&d[e].test(this.stream)){e=s[e](this.stream);if(e)return"startTag"===e.type&&/script|style/i.test(e.tagName)?null:(e.text=this.stream.substr(0,e.length),e)}},p.prototype.peekToken=function(){return this._peekToken()},p.prototype.readToken=function(){return this._readToken()},p.prototype.readTokens=function(e){for(var t;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},p.prototype.clear=function(){var e=this.stream;return this.stream="",e},p.prototype.rest=function(){return this.stream},p);function p(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,p),this.stream=t;var n,r=!1,i={};for(n in o)o.hasOwnProperty(n)&&(a.autoFix&&(i[n+"Fix"]=!0),r=r||i[n+"Fix"]);r?(this._readToken=(0,c.default)(this,i,function(){return e._readTokenImpl()}),this._peekToken=(0,c.default)(this,i,function(){return e._peekTokenImpl()})):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}for(i in(t.default=u).tokenToString=function(e){return e.toString()},u.escapeAttributes=function(e){var t,a={};for(t in e)e.hasOwnProperty(t)&&(a[t]=(0,l.escapeQuotes)(e[t],null));return a},u.supports=o)o.hasOwnProperty(i)&&(u.browserHasFlaw=u.browserHasFlaw||!o[i]&&i)},function(e,t){"use strict";var a=!(t.__esModule=!0),n=!1,r=window.document.createElement("div");try{var i="<P><I></P></I>";r.innerHTML=i,t.tagSoup=a=r.innerHTML!==i}catch(e){t.tagSoup=a=!1}try{r.innerHTML="<P><i><P></P></i></P>",t.selfClose=n=2===r.childNodes.length}catch(e){t.selfClose=n=!1}r=null,t.tagSoup=a,t.selfClose=n},function(e,t,a){"use strict";function n(e){var a,n,r;if(-1!==e.indexOf(">")){e=e.match(s.startTag);if(e){e=(a={},n={},r=e[2],e[2].replace(s.attr,function(e,t){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(a[arguments[5]]="",n[arguments[5]]=!0):a[t]=arguments[2]||arguments[3]||arguments[4]||s.fillAttr.test(t)&&t||"":a[t]="",r=r.replace(e,"")}),{v:new o.StartTagToken(e[1],e[0].length,a,n,!!e[3],r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===i(e))return e.v}}}t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=function(e){var t=e.indexOf("--\x3e");if(0<=t)return new o.CommentToken(e.substr(4,t-1),t+3)},t.chars=function(e){var t=e.indexOf("<");return new o.CharsToken(0<=t?t:e.length)},t.startTag=n,t.atomicTag=function(e){var t=n(e);if(t){e=e.slice(t.length);if(e.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){e=e.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(e)return new o.AtomicTagToken(t.tagName,e[0].length+t.length,t.attrs,t.booleanAttrs,e[1])}}},t.endTag=function(e){if(e=e.match(s.endTag))return new o.EndTagToken(e[1],e[0].length)};var o=a(4),s={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,a){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var i=a(5),n=(t.Token=function e(t,a){o(this,e),this.type=t,this.length=a,this.text=""},t.CommentToken=(c.prototype.toString=function(){return"\x3c!--"+this.content},c),t.CharsToken=(r.prototype.toString=function(){return this.text},r),t.TagToken=(s.formatTag=function(e){var t,a,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r="<"+e.tagName;for(t in e.attrs)e.attrs.hasOwnProperty(t)&&(r+=" "+t,a=e.attrs[t],void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[t]||(r+='="'+(0,i.escapeQuotes)(a)+'"'));return e.rest&&(r+=" "+e.rest),e.unary&&!e.html5Unary?r+="/>":r+=">",null!=n&&(r+=n+"</"+e.tagName+">"),r},s));function s(e,t,a,n,r){o(this,s),this.type=e,this.length=a,this.text="",this.tagName=t,this.attrs=n,this.booleanAttrs=r,this.unary=!1,this.html5Unary=!1}function r(e){o(this,r),this.type="chars",this.length=e,this.text=""}function c(e,t){o(this,c),this.type="comment",this.length=t||(e?e.length:0),this.text="",this.content=e}function l(e,t){o(this,l),this.type="endTag",this.length=t,this.text="",this.tagName=e}function d(e,t,a,n,r){o(this,d),this.type="atomicTag",this.length=t,this.text="",this.tagName=e,this.attrs=a,this.booleanAttrs=n,this.unary=!1,this.html5Unary=!1,this.content=r}function u(e,t,a,n,r,i){o(this,u),this.type="startTag",this.length=t,this.text="",this.tagName=e,this.attrs=a,this.booleanAttrs=n,this.html5Unary=!1,this.unary=r,this.rest=i}t.StartTagToken=(u.prototype.toString=function(){return n.formatTag(this)},u),t.AtomicTagToken=(d.prototype.toString=function(){return n.formatTag(this,this.content)},d),t.EndTagToken=(l.prototype.toString=function(){return"</"+this.tagName+">"},l)},function(e,t){"use strict";t.__esModule=!0,t.escapeQuotes=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,function(e,t){return/\\/.test(t)?t+'"':t+'\\"'}):t}},function(e,t){"use strict";function c(e){return e&&"startTag"===e.type&&(e.unary=a.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function l(e,t){t=t.pop();e.prepend("</"+t.tagName+">")}t.__esModule=!0,t.default=function(n,a,r){function i(){var e,t,a,t=(t=r,a=(e=n).stream,t=c(r()),e.stream=a,t);t&&s[t.type]&&s[t.type](t)}var e,o=((e=[]).last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,a=0;t=this[a];a++)if(t.tagName===e)return!0;return!1},e),s={startTag:function(e){var t=e.tagName;"TR"===t.toUpperCase()&&o.lastTagNameEq("TABLE")?(n.prepend("<TBODY>"),i()):a.selfCloseFix&&d.test(t)&&o.containsTagName(t)?o.lastTagNameEq(t)?l(n,o):(n.prepend("</"+e.tagName+">"),i()):e.unary||o.push(e)},endTag:function(e){o.last()?a.tagSoupFix&&!o.lastTagNameEq(e.tagName)?l(n,o):o.pop():a.tagSoupFix&&(r(),i())}};return function(){return i(),c(r())}};var a=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,d=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}],r={},a.m=n,a.c=r,a.p="",a(0);function a(e){if(r[e])return r[e].exports;var t=r[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,a),t.loaded=!0,t.exports}var n,r};e.exports=t()},function(e,t){"use strict";function n(e){return null!=e}function r(e,t,a){for(var n=void 0,r=e&&e.length||0,n=0;n<r;n++)t.call(a,e[n],n)}function i(e,t,a){for(var n in e)e.hasOwnProperty(n)&&t.call(a,n,e[n])}function a(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}t.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=n,t.isFunction=function(e){return"function"==typeof e},t.each=r,t.eachKey=i,t.defaults=function(a,e){return a=a||{},i(e,function(e,t){n(a[e])||(a[e]=t)}),a},t.toArray=function(t){try{return Array.prototype.slice.call(t)}catch(e){t=(a=[],r(t,function(e){a.push(e)}),{v:a});if("object"===o(t))return t.v}var a},t.last=function(e){return e[e.length-1]},t.isTag=a,t.isScript=function(e){return a(e,"script")},t.isStyle=function(e){return a(e,"style")}}],r={},a.m=n,a.c=r,a.p="",a(0);function a(e){if(r[e])return r[e].exports;var t=r[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,a),t.loaded=!0,t.exports}var n,r};"object"==typeof t&&"object"==typeof e?e.exports=a():"function"==typeof define&&define.amd?define([],a):"object"==typeof t?t.postscribe=a():this.postscribe=a()}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-document").createElement("div");e.exports=function(e){return n.innerHTML=e,n.textContent||n.innerText||e}}},"core/src/lib/helpers/findPageScript.js":{script:function(e,t,a){"use strict";function n(e){for(var t=r.querySelectorAll("script"),a=0;a<t.length;a++){var n=t[a];if(e.test(n.src))return n}}var r=a("@adobe/reactor-document");e.exports={getTurbine:function(){return n(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))},byRegexPattern:n}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n<\/script>",promise:n.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,a){"use strict";var i=a("@adobe/reactor-promise"),o=0;e.exports=function(n,e){var r="_runScript"+ ++o,t=new i(function(e,a){_satellite[r]=function(t){delete _satellite[r],new i(function(e){e(t.call(n.event.element,n.event,n.event.target,i))}).then(e,a)}});return{code:'<script>_satellite["'+r+'"](function(event, target, Promise) {\n'+e+"\n});<\/script>",promise:t}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,a,n){"use strict";var r=a("@adobe/reactor-promise"),i=0,o={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=o[e];t&&(delete o[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=o[e];t&&(delete o[e],t.reject())};e.exports=function(e,t){var a;return-1!==(t=e.settings.isExternal?n.replaceTokens(t,e.event):t).indexOf("${reactorCallbackId}")?(a=new r(function(e,t){o[String(i)]={resolve:e,reject:t}}),e=i,t=t.replace(/\${reactorCallbackId}/g,e),i+=1):a=r.resolve(),{code:t,promise:a}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-load-script"),r=a("@adobe/reactor-promise"),i=a("../../helpers/findPageScript").byRegexPattern,o={},s={};_satellite.__registerScript=function(e,t){var a;a=document.currentScript?document.currentScript.getAttribute("src"):(a=new RegExp(".*"+e+".*"),i(a).getAttribute("src")),o[a]=t},e.exports=function(a){return o[a]?r.resolve(o[a]):new r(function(e){var t;s[t=a]||(s[t]=n(t)),s[t].then(function(){e(o[a])},function(){e()})})}}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,t,a){"use strict";var n=a("./weakMap"),h=a("./matchesProperties"),f=a("./matchesSelector");e.exports=function(){var u=[],p=new n;return{addListener:function(e,t){u.push({settings:e,callback:t})},evaluateEvent:function(t,e){if(u.length&&!p.has(t)){for(var a=t.target,n=!1;a;){for(var r=!1,i=!1,o=0;o<u.length;o++){var s,c=u[o],l=c.settings.elementSelector,d=c.settings.elementProperties;!1===c.settings.bubbleFireIfChildFired&&n||a!==t.target&&!1===c.settings.bubbleFireIfParent||!(a===t.target||l||d&&Object.keys(d).length)||l&&!f(a,l)||d&&!h(a,d)||(s={},e?Object.keys(t).forEach(function(e){s[e]=t[e]}):s.nativeEvent=t,s.element=a,s.target=t.target,!1!==c.callback(s)&&(i=!0,c.settings.bubbleStop&&(r=!0)))}if(r)break;i&&(n=!0),a=a.parentNode}p.set(t,!0)}},__reset:function(){u=[]}}}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,a){"use strict";var n,r,a=a("@adobe/reactor-window").WeakMap;void 0===a&&(n=Object.defineProperty,r=Date.now()%1e9,(a=function(){this.name="__st"+(1e9*Math.random()>>>0)+r+++"__"}).prototype={set:function(e,t){var a=e[this.name];return a&&a[0]===e?a[1]=t:n(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=void 0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}),e.exports=a}},"core/src/lib/helpers/stringAndNumberUtils.js":{script:function(e){"use strict";function t(e){return"number"==typeof e&&isFinite(e)}function a(e){return"string"==typeof e||e instanceof String}e.exports={isNumber:t,isString:a,castToStringIfNumber:function(e){return t(e)?String(e):e},castToNumberIfString:function(e){return a(e)?Number(e):e}}}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,a){"use strict";var r=a("./../../helpers/textMatch");e.exports=function(n,e){return!e||e.every(function(e){var t,a,a=(t=n,"@text"===(a=e.name)||"innerText"===a?t.textContent||t.innerText:a in t?t[a]:t.getAttribute?t.getAttribute(a):void 0),e=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(a,e)})}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,a,n){"use strict";e.exports=function(e,t){var a=e.matches||e.msMatchesSelector;if(a)try{return a.call(e,t)}catch(e){return n.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,a){"use strict";function n(e,t){return{element:e,target:e,nativeEvent:t}}var r=a("@adobe/reactor-window"),i=a("@adobe/reactor-document"),o=-1!==r.navigator.appVersion.indexOf("MSIE 10"),s="WINDOW_LOADED",c="DOM_READY",l="PAGE_BOTTOM",d=[l,c,s],u={};d.forEach(function(e){u[e]=[]});function p(e,a){d.slice(0,d.indexOf(e)+1).forEach(function(e){var t;t=a,u[e=e].forEach(function(e){h(t,e)}),u[e]=[]})}var h=function(e,t){var a=t.trigger,t=t.syntheticEventFn;a(t?t(e):null)};r._satellite=r._satellite||{},r._satellite.pageBottom=p.bind(null,l),i.addEventListener("DOMContentLoaded",p.bind(null,c),!0),r.addEventListener("load",p.bind(null,s),!0),r.setTimeout(function(){var e="complete"===i.readyState?s:"interactive"===i.readyState?o?null:c:void 0;e&&p(e)},0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){u[l].push({trigger:e})},registerDomReadyTrigger:function(e){u[c].push({trigger:e,syntheticEventFn:n.bind(null,i)})},registerWindowLoadedTrigger:function(e){u[s].push({trigger:e,syntheticEventFn:n.bind(null,r)})}}}}}},"adobe-target-v2":{displayName:"Adobe Target v2",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPf6d694462bf64d2fba8034e8cee23924/",settings:{targetSettings:{enabled:!0,timeout:3e3,version:"2.2.0",endpoint:"/rest/v1/delivery",imsOrgId:"1A124673527853290A490D45@AdobeOrg",clientCode:"sky",secureOnly:!1,serverState:{},optinEnabled:!1,serverDomain:"sky.tt.omtrdc.net",urlSizeLimit:2048,viewsEnabled:!0,optoutEnabled:!1,bodyHiddenStyle:"body {opacity: 0}",pageLoadEnabled:!0,analyticsLogging:"server_side",deviceIdLifetime:632448e5,bodyHidingEnabled:!0,sessionIdLifetime:186e4,visitorApiTimeout:2e3,authoringScriptUrl:"//cdn.tt.omtrdc.net/cdn/target-vec.js",overrideMboxEdgeServer:!1,selectorsPollingTimeout:5e3,defaultContentHiddenStyle:"visibility: hidden;",defaultContentVisibleStyle:"visibility: visible;",overrideMboxEdgeServerTimeout:186e4,supplementalDataIdParamTimeout:30}},modules:{"adobe-target-v2/lib/firePageLoad.js":{name:"fire-page-load",displayName:"Fire Page Load Request",script:function(e,t,a,n){"use strict";var r=a("@adobe/reactor-window"),i=a("./modules/libs/at-launch"),o=i.initConfig,s=i.initDelivery,c=a("./modules/page-load"),l=a("./messages");e.exports=function(e){e=c(e);r.adobe&&r.adobe.target&&r.adobe.target.VERSION?(o(e),s()):r.console&&n.logger.warn(l.NO_REQUEST)}}},"adobe-target-v2/lib/loadTarget.js":{name:"load-target",displayName:"Load Target",script:function(e,t,a){"use strict";var n=a("@adobe/reactor-window"),r=a("@adobe/reactor-document"),i=a("./modules/load-target"),o=i.initLibrarySettings,s=i.overridePublicApi,i=a("./modules/optin"),c=i.shouldUseOptIn,l=i.isTargetApproved,d=a("./analyticsIntegration");e.exports=function(){var e=o();e&&e.enabled?((0,a("./modules/libs/at-launch").init)(n,r,e),c()&&!l()||d()):s(n)}}},"adobe-target-v2/lib/addPageLoadParams.js":{name:"add-page-load-params",displayName:"Add Params to Page Load Request",script:function(e,t,a){"use strict";var n=a("./modules/params-store").mergePageLoadParams;e.exports=function(e){n(e.params)}}},"adobe-target-v2/lib/modules/libs/at-launch.js":{script:function(e,t,a){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function g(e){return null==e}function r(e){return eo.call(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function u(e){var t=o(e);return null!=e&&("object"===t||"function"===t)}function c(e){return!!u(e)&&r(e)===to}function i(e){return e}function l(e){return c(e)?e:i}function _(e){return g(e)?[]:Object.keys(e)}function f(e,t){return g(t)?[]:(Zi(t)?ro:io)(l(e),t)}function d(e){return g(e)?[]:[].concat.apply([],e)}function p(i){for(var o=this,s=i?i.length:0,e=s;--e;)if(!c(i[e]))throw new TypeError("Expected a function");return function(){for(var e=0,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];for(var r=s?i[e].apply(o,a):a[0];(e+=1)<s;)r=i[e].call(o,r);return r}}function v(e,t){g(t)||(Zi(t)?ao:no)(l(e),t)}function h(e){return null!=e&&"object"===o(e)}function m(e){return"string"==typeof e||!Zi(e)&&h(e)&&r(e)===oo}function b(e){if(!m(e))return-1;for(var t=0,a=e.length,n=0;n<a;n+=1)t=(t<<5)-t+e.charCodeAt(n)&4294967295;return t}function y(e){return null!=e&&("number"==typeof(t=e.length)&&-1<t&&t%1==0&&t<=9007199254740991)&&!c(e);var t}function k(e){return g(e)?[]:y(e)?m(e)?e.split(""):function(e){for(var t=0,a=e.length,n=Array(a);t<a;)n[t]=e[t],t+=1;return n}(e):(t=_(e),a=e,so(function(e){return a[e]},t));var t,a}function w(e){if(null==e)return!0;if(y(e)&&(Zi(e)||m(e)||c(e.splice)))return!e.length;for(var t in e)if(co.call(e,t))return!1;return!0}function A(e){return g(e)?"":lo.call(e)}function S(e){return m(e)?!A(e):w(e)}function E(e){return"number"==typeof e||h(e)&&"[object Number]"===r(e)}function I(e){if(h(e)&&"[object Object]"===r(e)){e=Object.getPrototypeOf(Object(e));if(null===e)return 1;e=fo.call(e,"constructor")&&e.constructor;return"function"==typeof e&&e instanceof e&&ho.call(e)===go}}function T(e,t){return Zi(t)?t.join(e||""):""}function P(e,t){return g(t)?[]:(Zi(t)?so:di)(l(e),t)}function D(){return(new Date).getTime()}function C(e,t,a){return g(a)?t:(Zi(a)?ui:pi)(l(e),t,a)}function V(e,t){return S(t)?[]:t.split(e||"")}function L(){var n=D();return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t,a,t=(n+(a=16,(t=0)+Math.floor(Math.random()*(a-t+1))))%16|0;return n=Math.floor(n/16),("x"===e?t:3&t|8).toString(16)})}function N(e,t){return setTimeout(e,Number(1<arguments.length&&void 0!==t?t:0)||0)}function O(e){clearTimeout(e)}function M(e){if(nl.test(e))return e;var t,e=null==(t=V(".",e))?t:mo.call(t),t=e.length;return 3<=t&&rl.test(e[1])?e[2]+"."+e[1]+"."+e[0]:1===t?e[0]:e[1]+"."+e[0]}function R(e,t,a){var n,r,i="";e.location.protocol===al||(i=M(e.location.hostname)),a[hc]=i,a[Ys]=(i=(i=t).compatMode)&&"CSS1Compat"===i&&(!(t=(t=t).documentMode)||10<=t),n=a,r=e[wc]||{},n[Ys]&&(g(r[Xs])||(n[Tc]=r[Xs]),v(function(e){g(r[e])||(n[e]=r[e])},ol))}function j(e){R(window,document,e);var t=window.location.protocol===al;(il=Gi({},e))[ac]=e[ac]/1e3,il[nc]=e[nc]/1e3,il[pc]=il[lc]||t?"https:":""}function x(e){try{return sl(e)}catch(e){return{}}}function B(e){try{return cl(e)}catch(e){return""}}function F(t){try{return decodeURIComponent(t)}catch(e){return t}}function H(t){try{return encodeURIComponent(t)}catch(e){return t}}function q(e){if(dl[e])return dl[e];ll.href=e;var t=ko(ll.href);return t.queryKey=x(t.query),dl[e]=t,dl[e]}function U(e,t,a){return{name:e,value:t,expires:a}}function z(e){e=V("#",e);return w(e)||e.length<3||isNaN(parseInt(e[2],10))?null:U(F(e[0]),F(e[1]),Number(e[2]))}function Y(){var e,e=P(z,S(e=ul("mbox"))?[]:V("|",e)),t=Math.ceil(D()/1e3);return C(function(e,t){return e[t.name]=t,e},{},f(function(e){return u(e)&&t<=e.expires},e))}function K(e){e=Y()[e];return u(e)?e.value:""}function Q(e){return T("#",[H(e.name),H(e.value),e.expires])}function G(e){return e.expires}function W(e,t,a){var n=k(e),e=Math.abs(1e3*(e=P(G,e=n),Math.max.apply(null,e))-D()),n=T("|",P(Q,n)),e=new Date(D()+e),a=Gi({domain:t,expires:e,secure:a},a?{sameSite:tl}:{});pl("mbox",n,a)}function $(e){var t=e.name,a=e.value,n=e.expires,r=e.domain,i=e.secure,e=Y();e[t]=U(t,a,Math.ceil(n+D()/1e3)),W(e,r,i)}function X(e,t,a){return uo(ul(a))||(n=a,e=x((e=e).location.search),uo(e[n]))||(a=a,!g(t=q((t=t).referrer).queryKey)&&uo(t[a]));var n}function J(){return il[Ys]&&(e=(t=il)[hc],t=t[lc],t=Gi({domain:e,secure:t},t?{sameSite:tl}:{}),pl(Jo,Zo,t),t=ul(Jo)===Zo,hl(Jo),t)&&!X(window,document,$o);var e,t}function Z(){return X(window,document,Wo)}function ee(){return X(window,document,Xo)}function te(e,t){e=e.console;return!g(e)&&c(e[t])}function ae(){for(var e,t,a,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e=window,t=r,a=e.console,te(e,"warn")&&a.warn.apply(a,[fl].concat(t))}function ne(){for(var e,t,a,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e=window,t=r,a=e.console,te(e,"debug")&&Z()&&a.debug.apply(a,[fl].concat(t))}function re(e,t,a){var n,r,i=e[kc]||[];e[kc]=i,a&&(n=i.push,i[Js]=gl,i[_c]=(r=t,C(function(e,t){return e[t]=r[t],e},{},ol)),i[vc]=[],i[yc]=[],i.push=function(e){i[yc].push(Gi({timestamp:D()},e)),n.call(this,e)})}function ie(e,t,a,n){t===yc&&e[kc].push(a),n&&t!==yc&&e[kc][t].push(Gi({timestamp:D()},a))}function oe(e){ie(window,vc,e,Z())}function se(){return c(bl)}function ce(e){return new bl(e)}function le(){var t=document.createTextNode(""),a=[];return ce(function(){for(var e=a.length,t=0;t<e;t+=1)a[t]();a.splice(0,e)}).observe(t,{characterData:!0}),function(e){a.push(e),t.textContent=0<t.textContent.length?"":"a"}}function de(e){return new Xi(e)}function ue(e){return Xi.resolve(e)}function pe(e){return Xi.reject(e)}function he(e){return Zi(e)?Xi.all(e):pe(new TypeError(_l))}function fe(e,a,n){var r=-1;return e=[e,de(function(e,t){r=N(function(){return t(new Error(n))},a)})],(Zi(e)?Xi.race(e):pe(new TypeError(_l))).then(function(e){return O(r),e},function(e){throw O(r),e})}function ge(e){if(g(e[Fc]))return!1;e=e[Fc];if(g(e[Hc]))return!1;e=e[Hc];return c(e[Uc])&&c(e[qc])}function me(e,t){if(!ge(e))return!0;var a=e[Fc][Hc],t=(e[Fc][Hc][zc]||{})[t];return a[qc](t)}function be(){var e,t=il[Kc];return e=window,!!t&&ge(e)}function _e(){return me(window,Yc)}function ve(){return function(e,t){if(!ge(e))return ue(!0);var a=e[Fc][Hc],n=(e[Fc][Hc][zc]||{})[t];return de(function(e,t){a[Uc](function(){a[qc](n)?e(!0):t(Qc)},!0)})}(window,Yc)}function ye(e){$({name:bc,value:e,expires:(e=il)[nc],domain:e[hc],secure:e[lc]})}function ke(){if(be()&&!_e())return xl;var e=x(window.location.search).mboxSession;if(uo(e))return ye(e),K(bc);e=K(bc);return S(e)?ye(xl):ye(e),K(bc)}function we(){return K("PC")}function Ae(e){var t,a,n,r=il;r[oc]&&(t=r[hc],a=new Date(D()+r[sc]),n=r[lc],r=ul(mc),n=Gi({domain:t,expires:a,secure:n},n?{sameSite:tl}:{}),uo(r)?pl(mc,r,n):(e=S(e=e)||w(e=Bl.exec(e))||2!==e.length?"":e[1],S(e)||pl(mc,e,n)))}function Se(e,t,a,n){n=new e.CustomEvent(a,{detail:n});t.dispatchEvent(n)}function Ee(e,t){var a,n=t.mbox,r=t.error,i=t.url,o=t.analyticsDetails,s=t.responseTokens,c=t.execution,a={type:e,tracking:(a=we,e=(t=ke)(),t=a(),(a={}).sessionId=e,uo(t)&&(a.deviceId=t),a)};return g(n)||(a.mbox=n),g(r)||(a.error=r),g(i)||(a.url=i),w(o)||(a.analyticsDetails=o),w(s)||(a.responseTokens=s),w(c)||(a.execution=c),a}function Ie(e){e=Ee(td,e);Se(window,document,td,e)}function Te(e,t){e=Ee(ad,e);e.redirect=t,Se(window,document,ad,e)}function Pe(e){e=Ee(nd,e);Se(window,document,nd,e)}function De(e){e=Ee(rd,e);Se(window,document,rd,e)}function Ce(e){e=Ee(id,e);Se(window,document,id,e)}function Ve(e){e=Ee(od,e);Se(window,document,od,e)}function Le(e){e=Ee(sd,e);Se(window,document,sd,e)}function Ne(e){e=Ee(cd,e);Se(window,document,cd,e)}function Oe(e){return h(e)&&1===e.nodeType&&!I(e)}function Me(e){var t=e.charAt(0),a=e.charAt(1),n=e.charAt(2),e={key:e};return e.val="-"===a?""+t+a+"\\3"+n+" ":t+"\\3"+a+" ",e}function Re(e){if(Oe(e))return ml(e);if(!m(e))return ml(e);var t,e=w(e=(t=e).match(ud))?t:C(function(e,t){return e.replace(t.key,t.val)},t,P(Me,e));if(-1===e.indexOf(ld))return ml(e);e=function(e){for(var t,a,n,r,i=[],o=A(e),s=o.indexOf(ld);-1!==s;)t=A(o.substring(0,s)),r=(a=A(o.substring(s))).indexOf(")"),n=A(a.substring(dd,r)),s=(o=A(a.substring(r+1))).indexOf(ld),t&&n&&i.push({sel:t,eq:Number(n)});return o&&i.push({sel:o}),i}(e);return C(function(e,t){var a=t.sel,t=t.eq;return e=e.find(a),e=E(t)?e.eq(t):e},ml(document),e)}function je(e){return 0<Re(e).length}function xe(e){return ml("<div/>").append(e)}function Be(e){return Re(e).parent()}function Fe(e,t){return Re(t).find(e)}function He(){var e;ee()&&(window[fd]=window[fd]||{},window[fd].querySelectorAll=Re,e=il[uc],ne(hd),Ji(e).then(function(){document.addEventListener(rs,function(e){c(window[fd][gd])&&window[fd][gd](e)},!0)}).catch(function(){return ae(pd)}))}function qe(e){e=parseInt(e,10);return isNaN(e)?null:e}function Ue(e){return V("_",e)}function ze(e){var t=V("_",e),a=qe(t[0]);if(g(a))return null;e={};e.activityIndex=a;t=qe(t[1]);return g(t)||(e.experienceIndex=t),e}function Ye(e){return f(Hl,P(ze,e))}function Ke(e){var t=x(e),a=t[_d];if(S(a))return null;e={};e.token=a;a=t[yd];uo(a)&&a===Zo&&(e.listedActivitiesOnly=!0);a=t[kd];uo(a)&&(e.evaluateAsTrueAudienceIds=Ue(a));a=t[wd];uo(a)&&(e.evaluateAsFalseAudienceIds=Ue(a));t=t[vd];return w(t)||(e.previewIndexes=Zi(t=t)?Ye(t):Ye([t])),e}function Qe(e){var t,a=S(t=x(t=e.location.search)[Sd])?null:{token:t};g(a)||(e=new Date(D()+186e4),t=il[lc],t=Gi({expires:e,secure:t},t?{sameSite:tl}:{}),pl(Ad,JSON.stringify(a),t))}function Ge(e){return Re(e).empty().remove()}function We(e,t){return Re(t).after(e)}function $e(e,t){return Re(t).before(e)}function Xe(e,t){return Re(t).append(e)}function Je(e){return Re(e).html()}function Ze(e,t){return'<style id="'+e+'" class="at-flicker-control">'+t+"</"+os+">"}function et(e,t){var a;w(t)||(w(t=f(function(e){return!je("#at-"+b(e))},t))||(a=e[Zs],Xe(T("\n",P(function(e){return t=a,Ze(Ed+b(e=e),e+" {"+t+"}");var t},t)),is)))}function tt(e,t){w(t)||je("#"+Pd)||Xe((e=e[Zs],t=T(", ",t),Ze(Pd,t+" {"+e+"}")),is)}function at(){var e;!0!==(e=il)[tc]||je(Td)||(e=e[ec],Xe(Ze(Id,e),is))}function nt(){!0===il[tc]&&je(Td)&&Ge(Td)}function rt(e){return!g(e.id)}function it(e){return!g(e[Pc])}function ot(e){return rt(e)||it(e)}function st(e,r){return C(function(e,t,a){var n={};return n.integrationCode=a,rt(t)&&(n.id=t.id),it(t)&&(n.authenticatedState=function(e){switch(e){default:return"unknown";case 1:return"authenticated";case 2:return"logged_out"}}(t[Pc])),n[wo]=r,t[Dc]&&(n[Dc]=!0),e.push(n),e},[],f(ot,e))}function ct(e){if(g(e))return[];if(!c(e[Od]))return[];e=e[Od](!0);return u(e)?function(e){if(!e.nameSpaces&&!e.dataSources)return st(e,"DS");var t=[];return e.nameSpaces&&t.push.apply(t,st(e.nameSpaces,"NS")),e.dataSources&&t.push.apply(t,st(e.dataSources,"DS")),t}(e):[]}function lt(e){return ne("Visitor API requests error",e),{}}function dt(e,t,a){return g(e)?ue({}):fe(function(e,t){if(!c(e.getVisitorValues))return ue({});var a=[Vd,Dd,Cd];return t&&a.push(Ld),de(function(t){e.getVisitorValues(function(e){return t(e)},a)})}(e,a),t,"Visitor API requests timed out").catch(lt)}function ut(e,t){return g(e)?{}:function(e,t){if(!c(e.getVisitorValues))return{};var a=[Vd,Dd,Cd];t&&a.push(Ld);var n={};return e.getVisitorValues(function(e){return Gi(n,e)},a),n}(e,t)}function pt(){var e=il,t=e[Qs],a=e[dc];return e=window,a=a,!S(t=t)&&!g(e[jd])&&c(e[jd][xd])&&u(a=e[jd][xd](t,{sdidParamExpiry:a}))&&c(a[Bd])&&a[Bd]()?a:null}function ht(e){return t=pt(),e=e,!g(t)&&c(t[Nd])?t[Nd](e):null;var t}function ft(e){return t=pt(),e=e,g(t)||g(e=t[e])?null:e;var t}function gt(e,t){Fd[e]=t}function mt(e){return Fd[e]}function bt(e){var t=e[Rs];if(!m(t)||w(t))return!1;t=e[Js];if(!m(t)||w(t))return!1;t=e[Ws];return!(!g(t)&&!E(t)||!c(e[qs]))}function _t(e,t,a,n,r,i){var o={};o[e]=t,o[a]=n,o[r]=i;i={};return i[Ac]=o,i}function vt(e){var t,a=e[Rs],n=e[Js],r=e[Ws]||2e3;return fe((t=e[qs],de(function(a,n){t(function(e,t){g(e)?a(t):n(e)})})),r,"timed out").then(function(e){var t=_t(Rs,a,Js,n,xs,e);return ne(Hd,Vs,t),oe(t),e}).catch(function(e){e=_t(Rs,a,Js,n,Ts,e);return ne(Hd,Ts,e),oe(e),{}})}function yt(e){e=C(function(e,t){return Gi(e,t)},{},e);return gt(Sc,e),e}function kt(e){return function(e){if(!g(e=e[wc])){e=e[Sc];return Zi(e)&&!w(e)}}(e)?he(P(vt,f(bt,e[wc][Sc]))).then(yt):ue({})}function wt(){return g(e=mt(Sc))?{}:e;var e}function At(){var e,t=S(e=x((e=window).location.search).authorization)?null:e,e=S(e=ul("mboxDebugTools"))?null:e;return t||e}function St(e){return!w(e)&&2===e.length&&uo(e[0])}function Et(e,a,n,r){v(function(e,t){u(e)?(a.push(t),Et(e,a,n,r),a.pop()):w(a)?n[r(t)]=e:n[r(T(".",a.concat(t)))]=e},e)}function It(e){e=C(function(e,t){return e.push(-1===(t=(a=t).indexOf("="))?[]:[a.substr(0,t),a.substr(t+1)]),e;var a},[],f(uo,e));return C(function(e,t){return e[F(A(t[0]))]=F(A(t[1])),e},{},f(St,e))}function Tt(e){if(!c(e))return{};var t,a,n=null;try{n=e()}catch(e){return{}}return g(n)?{}:Zi(n)?It(n):m(n)&&uo(n)?f(function(e,t){return uo(t)},x(n)):u(n)?(t=n,n={},g(a)?Et(t,[],n,i):Et(t,[],n,a),n):{}}function Pt(e){return Gi({},e,Tt(window.targetPageParamsAll))}function Dt(e){var t=il,a=t[$s],n=t[fc],t=t[gc];return a!==e?Pt(n||{}):Gi(Pt(n||{}),Gi({},t||{},Tt(window.targetPageParams)))}function Ct(e){return-1!==e.indexOf(Ud)}function Vt(e){return Ct(e)||e===zd||e===Yd||e===Kd||e===Qd||e===Gd||e===Wd||e===$d}function Lt(e){return C(function(e,t,a){if(!Ct(a))return e;a=a.substring(Ud.length);return S(a)||(e[a]=g(t)?"":t),e},{},e)}function Nt(e){var l=e.url,d=e.headers,u=e.body,p=e.timeout,h=e.async;return de(function(s,c){var e={}.constructor.getOwnPropertyDescriptor(window,"XMLHttpRequest"),t={}.constructor.getOwnPropertyDescriptor(window,"XMLHttpRequest");try{return e&&{}.constructor.defineProperty(window,"XMLHttpRequest",$___mock_d10464d93b0eabb1.XMLHttpRequest),t&&{}.constructor.defineProperty(window,"XMLHttpRequest",$___mock_d10464d93b0eabb1.XMLHttpRequest),function(){var e,t,a,n,r,i,o=new window.XMLHttpRequest;r=s,i=c,(n=o).onload=function(){var e,t=1223===n.status?204:n.status;if(t<100||599<t)i(new Error(Xd));else{try{e=JSON.parse(n.responseText)}catch(e){return void i(new Error("Malformed response JSON"))}var a=n.getAllResponseHeaders();r({status:t,headers:a,response:e})}},t=o=n,a=c,t.onerror=function(){a(new Error(Xd))},(o=t).open("POST",l,h),o.withCredentials=!0,o=function(a,e){return v(function(e,t){Zi(e)&&v(function(e){a.setRequestHeader(t,e)},e)},1<arguments.length&&void 0!==e?e:{}),a}(o,d),h&&(e=c,(t=o).timeout=p,t.ontimeout=function(){e(new Error("Request timed out"))},o=t),o.send(JSON.stringify(u))}.apply(this,arguments)}finally{e&&{}.constructor.defineProperty(window,"XMLHttpRequest",e),t&&{}.constructor.defineProperty(window,"XMLHttpRequest",t)}}).then(function(e){var t=e.response,a=t.status,e=t.message;if(!g(a)&&!g(e))throw new Error(e);return t})}function Ot(e){if(e[Ld])throw new Error("Disabled due to optout");return e}function Mt(){var e,t=dt(pt(),(e=il)[ic],e[cc]),e=kt(window);return he([t.then(Ot),e])}function Rt(){return[ut(pt(),il[cc]),wt()]}function jt(){var e,t,a,n=window.screen;return{width:n.width,height:n.height,orientation:(e=(a=window.screen).orientation,t=a.width,a=a.height,g(e)?a<t?"landscape":"portrait":g(e.type)||w(e=V("-",e.type))||g(e=e[0])?null:e),colorDepth:n.colorDepth,pixelRatio:function(){if(!g(e=window.devicePixelRatio))return e;var e=1,t=(a=window.screen).systemXDPI,a=a.logicalXDPI;return e=!g(t)&&!g(a)&&a<t?t/a:e}()}}function xt(){return{host:window.location.hostname,webGLRenderer:qd}}function Bt(e){if(!g(e)&&"web"===e.channel)return e;var t,a=(e||{}).beacon;return{userAgent:window.navigator.userAgent,timeOffsetInMinutes:-(new Date).getTimezoneOffset(),channel:"web",screen:jt(),window:{width:(t=document.documentElement).clientWidth,height:t.clientHeight},browser:xt(),address:{url:window.location.href,referringUrl:document.referrer},geo:e&&e.geo,beacon:a}}function Ft(e){var t=e.id,a=e.integrationCode,n=e.authenticatedState,r=e.type,i=e.primary,e={};return uo(t)&&(e.id=t),uo(a)&&(e.integrationCode=a),uo(n)&&(e.authenticatedState=n),uo(r)&&(e.type=r),i&&(e.primary=i),e}function Ht(e,t,a,n,r){var i={};uo(t)&&(i.tntId=t),uo(a)&&(i.thirdPartyId=a),uo(e.thirdPartyId)&&(i.thirdPartyId=e.thirdPartyId);n=n[Vd];return uo(n)&&(i.marketingCloudVisitorId=n),uo(e.marketingCloudVisitorId)&&(i.marketingCloudVisitorId=e.marketingCloudVisitorId),w(e.customerIds)?w(r)||(i.customerIds=P(Ft,r)):i.customerIds=e.customerIds,i}function qt(e,t){var a={},t=function(e,t){if(!g(e))return e;var a={};return w(t)||(e=t[Cd],e=parseInt(e,10),isNaN(e)||(a.locationHint=e),t=t[Dd],uo(t)&&(a.blob=t)),a}(e.audienceManager,t);return w(t)||(a.audienceManager=t),w(e.analytics)||(a.analytics=e.analytics),a}function Ut(e,t){if(!g(e)&&uo(e.token))return e;e={},t=t[Yd];return uo(t)&&(e.token=t),e}function zt(e){return g(e)?function(){var e=ul(Ad);if(S(e))return{};try{return JSON.parse(e)}catch(e){return{}}}():e}function Yt(e){return g(e)?function(){var e=ul(bd);if(S(e))return{};try{return JSON.parse(e)}catch(e){return{}}}():e}function Kt(e){var t={},a=e[Kd];g(a)||(t.id=a);a=e[Qd],a=parseFloat(a);isNaN(a)||(t.total=a);e=P(A,V(",",(e=e)[Gd])),e=f(uo,e);return w(e)||(t.purchasedProductIds=e),t}function Qt(e){var t={},a=e[Wd];g(a)||(t.id=a);e=e[$d];return g(e)||(t.categoryId=e),t}function Gt(e,t){var a={},n=Gi({},C(function(e,t,a){return Vt(a)||(e[a]=g(t)?"":t),e},{},t),e.parameters||{}),r=Gi({},Lt(t),e.profileParameters||{}),i=Gi({},Kt(t),e.order||{}),e=Gi({},Qt(t),e.product||{});return w(n)||(a.parameters=n),w(r)||(a.profileParameters=r),w(i)||(a.order=i),w(e)||(a.product=e),a}function Wt(e,t,a){var n=il[$s],r=e.index,i=e.name,o=e.address,a=Gt(e,Gi({},i===n?t:2<arguments.length&&void 0!==a?a:{},Dt(i)));return g(r)||(a.index=r),uo(i)&&(a.name=i),w(o)||(a.address=o),a}function $t(e,r,t){var a=e.prefetch,n=void 0===a?{}:a,e={};if(w(n))return e;a=n.mboxes;g(a)||!Zi(a)||w(a)||(e.mboxes=P(function(e){return Wt(e,r,t)},a));n=n.views;return g(n)||!Zi(n)||w(n)||(e.views=P(function(e){return t=r,a=e.name,n=e.address,t=Gt(e,t),uo(a)&&(t.name=a),w(n)||(t.address=n),t;var t,a,n},n)),e}function Xt(e,t){if(be()&&!me(window,"ANALYTICS"))return null;var a=il,n=ht(e),r=ft(Md),i=ft(Rd),o=t.experienceCloud,s=(void 0===o?{}:o).analytics,c=void 0===s?{}:s,e=c.logging,t=c.supplementalDataId,o=c.trackingServer,s=c.trackingServerSecure,c={};return g(e)?c.logging=a[Gc]:c.logging=e,g(t)||(c.supplementalDataId=t),uo(n)&&(c.supplementalDataId=n),g(o)||(c.trackingServer=o),uo(r)&&(c.trackingServer=r),g(s)||(c.trackingServerSecure=s),uo(i)&&(c.trackingServerSecure=i),w(c)?null:c}function Jt(e,t,a){var n,r,i,o=(i=il[$s],Gi({},a,Dt(i))),s=we(),c=o[zd],l=ct(pt()),d=Ht(e.id||{},s,c,t,l),u=Ut(e.property,o),p=qt(e.experienceCloud||{},t),h=function(e){if(!g(e)&&uo(e.authorizationToken))return e;var t={},e=At();return uo(e)&&(t.authorizationToken=e),t}(e.trace),i=zt(e.preview),s=Yt(e.qaMode),t=(n=o,r=a,l=(c=e).execute,c={},w(t=void 0===l?{}:l)||(g(l=t.pageLoad)||(c.pageLoad=Gt(l,n)),g(t=t.mboxes)||!Zi(t)||w(t)||(w(t=f(ql,P(function(e){return Wt(e,n,r)},t)))||(c.mboxes=t))),c),c=$t(e,o,a),o=e.notifications,a={};return a.requestId=L(),a.context=Bt(e.context),w(d)||(a.id=d),w(u)||(a.property=u),w(h)||(a.trace=h),w(p)||(a.experienceCloud=p),w(i)||(a.preview=i),w(s)||(a.qaMode=s),w(t)||(a.execute=t),w(c)||(a.prefetch=c),w(o)||(a.notifications=o),a}function Zt(e,t,a){var n=a[0],a=a[1];return Jt(e,n,Gi({},a,t))}function ea(t,a){return Mt().then(function(e){return Zt(t,a,e)})}function ta(e,t){return!E(t)||t<0?e[Ws]:t}function aa(e){var t=e[Gs];if(!e[oc])return t;e=function(){if(!il[oc])return"";var e=ul(mc);return S(e)?"":e}();return S(e)?t:"mboxedge"+e+".tt.omtrdc.net"}function na(e){return e[pc]+"//"+aa(e)+e[Ec]+"?"+B({client:e[Ks],sessionId:ke(),version:e[Js]})}function ra(e,t,a){return ne(Hs,t),oe({request:t}),n=t,r=a,Nt({url:na(a=il),headers:s({},Nc,[Oc]),body:n,timeout:ta(a,r),async:!0}).then(function(e){return Gi(e,{decisioningMethod:bo})}).then(function(e){return ne(Fs,e),oe({response:e}),{request:t,response:e}});var n,r}function ia(e,t){return{status:Vs,type:e,data:t}}function oa(e,t){return{status:Ts,type:e,data:t}}function sa(e){return u(e)}function ca(e){return!!sa(e)&&uo(e.eventToken)}function la(e){return!w(e)&&!S(e.type)&&uo(e.eventToken)}function da(e){return!!la(e)&&uo(e.selector)}function ua(e){e=e.id;return u(e)&&uo(e.tntId)}function pa(e){var t=e.response;return ua(t)&&$({name:"PC",value:t.id.tntId,expires:(t=il)[ac],domain:t[hc],secure:t[lc]}),e}function ha(e){var t=e.response;return ua(t)&&Ae(t.id.tntId),Ae(null),e}function fa(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).trace;w(e)||ie(window,yc,e,Z())}function ga(e){var t=e.response,a=t.execute,n=void 0===a?{}:a,r=t.prefetch,i=void 0===r?{}:r,a=t.notifications,r=void 0===a?{}:a,t=n.pageLoad,a=n.mboxes,n=void 0===a?[]:a,a=i.mboxes,a=void 0===a?[]:a,i=i.views,i=void 0===i?[]:i;return fa(void 0===t?{}:t),v(fa,n),v(fa,a),v(fa,i),v(fa,r),e}function ma(e){var t=e.queryKey,a=t[uu];if(!m(a))return t;if(S(a))return t;e=Math.round(D()/1e3);return t[uu]=a.replace(/\|TS=\d+/,"|TS="+e),t}function ba(e){return e.queryKey}function _a(e,t,a){var n=q(e),r=n.protocol,i=n.host,o=n.path,s=""===n.port?"":":"+n.port,e=S(n.anchor)?"":"#"+n.anchor,n=a(n),t=B(Gi({},n,t));return r+"://"+i+s+o+(S(t)?"":"?"+t)+e}function va(e,t){return _a(e,t,ma)}function ya(e){var t=e[hu]||"GET",a=e.url||function(e){throw new Error(e)}("URL is required"),n=e[fu]||{},r=e[gu]||null,i=e[mu]||!1,o=e[bu]||3e3,s=!!g(e[_u])||!0===e[_u],e={};return e[hu]=t,e.url=a,e[fu]=n,e[gu]=r,e[mu]=i,e[bu]=o,e[_u]=s,e}function ka(d,e){var e=ya(e),u=e[hu],p=e.url,h=e[fu],f=e[gu],g=e[mu],m=e[bu],b=e[_u];return de(function(e,t){var a,n,r,i,o,s,c,l=new d.XMLHttpRequest;s=e,c=t,(o=l).onload=function(){var e,t,a=1223===o.status?204:o.status;a<100||599<a?c(new Error(pu)):(e=o.responseText,t=o.getAllResponseHeaders(),s({status:a,headers:t,response:e}))},r=l=o,i=t,r.onerror=function(){i(new Error(pu))},(l=r).open(u,p,b),e=l,!0===(r=g)&&(e.withCredentials=r),n=l=e,v(function(e,t){v(function(e){return n.setRequestHeader(t,e)},e)},h),l=n,b&&(a=t,(t=l).timeout=m,t.ontimeout=function(){a(new Error("Request timed out"))},l=t),l.send(f)})}function wa(e){return ka(window,e)}function Aa(e,t,a){var n={method:"GET"};return n.url=_a(e,t,ba),n[bu]=a,n}function Sa(e){if(!(200<=(t=e.status)&&t<300||304===t))return null;var t=e.response;if(S(t))return null;e={};return e.type=as,e.content=t,e}function Ea(e){var t=e[Ao],a=S(n=(n=e)[So])||w(n=vu.exec(n))||2!==n.length?"":n[1];if(S(a)||S(t))return e;var n=e[So];return e[So]=n.replace(yu,""),e[Ao]=(n=a,a=t,(t=document.createElement("div")).innerHTML=a,g(t=t.firstElementChild)?a:(t.id=n,t.outerHTML)),e}function Ia(e){return!g(e.selector)}function Ta(e){var t,a,n,r,i,o,s,c,l,d=e[wo];if(S(d))return null;switch(d){case Io:return Ia(l=e)?m((l=Ea(l))[Ao])?l:(ne(ws,l),null):null;case Po:return Ia(c=e)?m((c=Ea(c))[Ao])?c:(ne(ws,c),null):null;case Uo:return Ia(c=e)?m((c=Ea(c))[Ao])?c:(ne(ws,c),null):null;case Yo:return Ia(s=e)?m((s=Ea(s))[Ao])?s:(ne(ws,s),null):null;case Qo:return Ia(s=e)?m((s=Ea(s))[Ao])?s:(ne(ws,s),null):null;case Ho:return Ia(o=e)?m((o=Ea(o))[Ao])?o:(ne(ws,o),null):null;case qo:return Ia(o=e)?m((o=Ea(o))[Ao])?o:(ne(ws,o),null):null;case jo:return Ia(i=e)?m(i[Ao])?i:(ne(ws,i),null):null;case Co:return Ia(i=e)?u(i[Ao])?i:(ne("Action has no attributes",i),null):null;case Vo:return Ia(r=e)?m(r[Ao])?r:(ne("Action has no image url",r),null):null;case Lo:return Ia(r=e)?u(r[Ao])?r:(ne("Action has no CSS properties",r),null):null;case Oo:return Ia(n=e)?u(n[Ao])?n:(ne("Action has no height or width",n),null):null;case Mo:return Ia(n=e)?u(n[Ao])?n:(ne("Action has no left, top or position",n),null):null;case Ro:return Ia(a=e)?a:null;case No:return Ia(t=e)?u(t[Ao])?t:(ne("Action has no from or to",t),null):null;case xo:return S(t=(a=e).content)?(ne(As,a),null):(a.content=va(t,{}),a);default:return null}}function Pa(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).options;return!Zi(e)||w(e)?[]:tu(P(ou,e))}function Da(e){var t=(0<arguments.length&&void 0!==e?e:{}).execute,e=void 0===t?{}:t,t=e.pageLoad,e=e.mboxes,e=void 0===e?[]:e,t=nu(void 0===t?{}:t)||[],e=d(tu(P(nu,e))),t=d([t,e]),e=d(P(ru,f(Ul,t))),t=f(zl,t),e=f(zl,e),t=t.concat(e),e={};if(w(t))return e;t=t[0].content;return S(t)||(e.url=t),e}function Ca(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).analytics;return w(e)?[]:[e]}function Va(e,t){e.parameters=t.parameters,e.profileParameters=t.profileParameters,e.order=t.order,e.product=t.product}function La(e,t){var a=t[0],n=t[1],r=!w(a),t=!w(n);return(r||t)&&(r&&(e.options=a),t&&(e.metrics=n)),e}function Na(e){switch(e.type){case xo:return ue(S(a=(t=e).content)?(ne(As,t),null):((t=Gi({},t)).content=va(a,{}),t));case"dynamic":return wa(Aa(e.content,{},il[bu])).then(Sa).catch(function(){return null});case Bs:return ue((t=(a=e)[Ao],!Zi(t)||w(t)||w(t=f(Gl,P(Ta,t)))?null:((a=Gi({},a)).content=t,a)));default:return ue(e)}var t,a}function Oa(e,t){if(!Zi(e))return ue([]);if(w(e))return ue([]);e=f(t,e);return w(e)?ue([]):he(P(Na,e)).then(tu)}function Ma(e,t){return!Zi(e)||w(e)?ue([]):ue(f(t,e))}function Ra(e){var t=e.name,a=e.analytics,n=e.options,e=e.metrics,r={name:t,analytics:a};return he([Oa(n,sa),Ma(e,la)]).then(function(e){return La(r,e)})}function ja(e,a,n){e=e.prefetch,e=(void 0===e?{}:e).mboxes,e=void 0===e?[]:e;return w(e)?null:(e=f(function(e){return t=n,(e=e).index===a&&e.name===t;var t},e))&&e.length?e[0]:void 0}function xa(e){var c=e.request,e=e.response.prefetch;if(!u(e))return ue([]);e=e.mboxes;return!Zi(e)||w(e)?ue([]):he(P(function(e){return a=(t=e).index,n=e.name,r=e.state,i=e.analytics,o=e.options,t=e.metrics,a=ja(c,a,n),s={name:n,state:r,analytics:i},g(a)||Va(s,a),he([Oa(o,ca),Ma(t,la)]).then(function(e){return La(s,e)});var t,a,n,r,i,o,s},f(Kl,e))).then(tu)}function Ba(e,t){var a=t.name,n=t.state,r=t.analytics,i=t.options,t=t.metrics,e=w(e=void 0===(e=(void 0===(e=(e=e).prefetch)?{}:e).views)?[]:e)?null:e[0],o={name:a.toLowerCase(),state:n,analytics:r};return g(e)||Va(o,e),he([Oa(i,ca),Ma(t,da)]).then(function(e){return La(o,e)})}function Fa(e){return g(e)||S(e.id)?ue(null):ue({id:e.id})}function Ha(e){var t=e[0],a=e[1],n=e[2],r=e[3],i=e[4],o=e[5],s=e[6],c={},e={};u(t)&&(e.pageLoad=t),w(a)||(e.mboxes=a);a={};return w(n)||(a.mboxes=n),w(r)||(a.views=r),w(i)||(a.metrics=i),w(e)||(c.execute=e),w(a)||(c.prefetch=a),w(o)||(c.meta=o),w(s)||(c.notifications=s),c}function qa(e){var t,a,n,r,i=p([ga,pa,ha])(e);return he([function(e){if(!u(t=e.response.execute))return ue(null);if(!u(a=t.pageLoad))return ue(null);var e=a.analytics,t=a.options,a=a.metrics,n={analytics:e};return he([Oa(t,sa),Ma(a,da)]).then(function(e){return La(n,e)})}(i),u(r=(r=i).response.execute)?(r=r.mboxes,!Zi(r)||w(r)?ue([]):he(P(Ra,f(Yl,r))).then(tu)):ue([]),xa(i),(n=(a=i).request,u(a=a.response.prefetch)?(a=a.views,!Zi(a)||w(a)?ue([]):he(P(function(e){return Ba(n,e)},f(Ql,a))).then(tu)):ue([])),u(t=(t=i).response.prefetch)?Ma(t.metrics,da):ue([]),(a=(r=(e=i).response).remoteMboxes,t=r.remoteViews,e=r.decisioningMethod,r={},u(a)&&(r.remoteMboxes=a),u(t)&&(r.remoteViews=t),m(e)&&(r.decisioningMethod=e),ue(r)),(i=(i=i).response.notifications,Zi(i)?he(P(Fa,i)).then(tu):ue([]))]).then(Ha)}function Ua(e){return!w(Da(e))}function za(e){var t=function(e){var t=void 0===(a=(n=0<arguments.length&&void 0!==e?e:{}).execute)?{}:a,e=n.prefetch,a=void 0===e?{}:e,n=t.pageLoad,e=t.mboxes,t=void 0===e?[]:e,e=a.mboxes,e=void 0===e?[]:e,a=void 0===(a=a.views)?[]:a,n=Pa(void 0===n?{}:n),t=d(P(Pa,t)),e=d(P(Pa,e)),a=d(P(Pa,a));return d([n,t,e,a])}(e),e={};return w(t)||(e.responseTokens=t),e}function Ya(e){var t=za(e),a=function(e){var t=void 0===(a=(r=0<arguments.length&&void 0!==e?e:{}).execute)?{}:a,e=void 0===(n=r.prefetch)?{}:n,a=t.pageLoad,n=void 0===(r=t.mboxes)?[]:r,r=void 0===(t=e.mboxes)?[]:t,t=void 0===(t=e.views)?[]:t,e=e.metrics,e=void 0===e?[]:e,a=Ca(void 0===a?{}:a),n=d(P(Ca,n)),r=d(P(Ca,r)),t=d(P(Ca,t)),e=d(P(Ca,e));return d([a,n,r,t,e])}(e);return w(a)||(t.analyticsDetails=a),ne(ys,e),Te(t,Ua(e)),ue(e)}function Ka(e){var t=il[$s],n=e.mbox,a=e.timeout,r=u(e.params)?e.params:{},i={},e={};n===t?e.pageLoad={}:e.mboxes=[{index:0,name:n}],i.execute=e;t=Xt(n,i);return w(t)||((e={}).analytics=t,i.experienceCloud=e),Ie({mbox:n}),ea(i,r).then(function(e){return ra(0,e,a)}).then(qa).then(function(e){return t=n,(e=za(a=e)).mbox=t,ne(ys,a),Te(e,Ua(a)),ue(a);var t,a}).catch(function(e){return t=n,ae(vs,e=e),Pe({mbox:t,error:e}),pe(e);var t})}function Qa(e){var t=il[$s],a=e.consumerId,n=e.request,r=e.timeout,e=Xt(void 0===a?t:a,n),t=Ya;return w(e)||((a=n.experienceCloud||{}).analytics=e,n.experienceCloud=a),Ie({}),ea(n,{}).then(function(e){return ra(0,e,r)}).then(qa).then(t).catch(function(e){return ae(vs,e=e),Pe({error:e}),pe(e)})}function Ga(e,t){return Re(t).addClass(e)}function Wa(e,t){return Re(t).css(e)}function $a(e,t){return Re(t).attr(e)}function Xa(e,t,a){return Re(a).attr(e,t)}function Ja(e,t){return Re(t).removeAttr(e)}function Za(e,t,a){var n=$a(e,a);uo(n)&&(Ja(e,a),Xa(t,n,a))}function en(e){return new Error("Could not find: "+e)}function tn(n,t,r){return de(function(a,e){(function e(){var t=r(n);w(t)?window.requestAnimationFrame(e):a(t)})(),N(function(){e(en(n))},t)})}function an(n,t,r){return de(function(a,e){(function e(){var t=r(n);w(t)?N(e,100):a(t)})(),N(function(){e(en(n))},t)})}function nn(e,t,a){var n,r,i,o=1<arguments.length&&void 0!==t?t:il[rc],t=2<arguments.length&&void 0!==a?a:Re,a=t(e);return w(a)?se()?(n=e,r=o,i=t,de(function(t,e){var a=ce(function(){var e=i(n);w(e)||(a.disconnect(),t(e))});N(function(){a.disconnect(),e(en(n))},r),a.observe(document,{childList:!0,subtree:!0})})):("visible"===document.visibilityState?tn:an)(e,o,t):ue(a)}function rn(e){return $a(es,e)}function on(e){return uo($a(es,e))}function sn(e){return v(function(e){return Za(ns,es,e)},k(Fe(ss,e))),e}function cn(e){return v(function(e){return Za(es,ns,e)},k(Fe(ss,e))),e}function ln(e){return ne("Loading image",e),$a(ns,Xa(ns,e,ml("<img/>")))}function dn(e){var t=f(on,k(Fe(ss,e)));return w(t)||v(ln,P(rn,t)),e}function un(e){e=$a(ns,e);return uo(e)?e:null}function pn(e,t){return ae(_s,t),oe({action:e,error:t}),e}function hn(e,t){var a,n,r=Re(t[So]),n=(n=xe(t[Ao]),p([sn,dn,cn])(n)),i=f(uo,P(un,k(Fe("script",n))));try{a=ue(e(r,n))}catch(e){return pe(pn(t,e))}return w(i)?a.then(function(){return t}).catch(function(e){return pn(t,e)}):a.then(function(){return e=i,C(function(e,t){return e.then(function(){return ne("Script load",t),oe({remoteScript:t}),Ji(t)})},ue(),e);var e}).then(function(){return t}).catch(function(e){return pn(t,e)})}function fn(e){var t=Gi({},e),a=t[Ao];if(S(a))return t;var n=Re(t[So]);return e=is,Re(n).is(e)&&(t[wo]=Uo,t[Ao]=T("",C(function(e,t){return e.push(Je(xe(t))),e},[],k(Fe("script,link,style",xe(a)))))),t}function gn(e){return e.indexOf("px")===e.length-2?e:e+"px"}function mn(e,t){return t=Je(t),Re(e).html(t)}function bn(e){var t=Re(e[So]),a=e[Ao];return ne(ks,e),oe({action:e}),a=a,Re(t).text(a),ue(e)}function _n(e,t){return Xe(Je(t),e)}function vn(e,t){return t=Je(t),Re(e).prepend(t)}function yn(e,t){var a=Be(e);return Ge($e(Je(t),e)),a}function kn(e,t){return Re($e(Je(t),e)).prev()}function wn(e,t){return Re(We(Je(t),e)).next()}function An(e,t){return Be($e(Je(t),e))}function Sn(e){var t,n,a=Re(e[So]),r=e[Ao],i=r.priority;return ne(ks,e),oe({action:e}),S(i)?Wa(r,a):(t=r,n=i,v(function(a){v(function(e,t){return a.style.setProperty(t,e,n)},t)},k(a))),ue(e)}function En(e){var t=Re(e[So]),a=e[Ao],n=Number(a.from),r=Number(a.to);if(isNaN(n)&&isNaN(r))return ne('Rearrange has incorrect "from" and "to" indexes',e),pe(e);a=k(Re(t).children()),t=a[n],a=a[r];return je(t)&&je(a)?(ne(ks,e),oe({action:e}),(n<r?We:$e)(t,a),ue(e)):(ne("Rearrange elements are missing",e),pe(e))}function In(e){var t,a,n,r,i,o,s,c,l,d,u,p=fn(e);switch(p[wo]){case Io:return ne(ks,u=p),hn(mn,u);case Po:return bn(p);case Uo:return ne(ks,u=p),hn(_n,u);case Yo:return ne(ks,d=p),hn(vn,d);case Qo:return ne(ks,d=p),hn(yn,d);case Ho:return ne(ks,l=p),hn(kn,l);case qo:return ne(ks,l=p),hn(wn,l);case jo:return ne(ks,c=p),hn(An,c);case Co:return c=(o=p)[Ao],s=Re(o[So]),ne(ks,o),oe({action:o}),v(function(e,t){return Xa(t,e,s)},c),ue(o);case Vo:return o=(r=p)[Ao],i=Re(r[So]),ne(ks,r),oe({action:r}),Ja(ns,i),Xa(ns,ln(o),i),ue(r);case Lo:return Sn(p);case Oo:return i=Re((n=p)[So]),(r=n[Ao]).width=gn(r.width),r.height=gn(r.height),ne(ks,n),oe({action:n}),Wa(r,i),ue(n);case Mo:return a=Re((t=p)[So]),(n=t[Ao]).left=gn(n.left),n.top=gn(n.top),ne(ks,t),oe({action:t}),Wa(n,a),ue(t);case Ro:return t=Re((a=p)[So]),ne(ks,a),oe({action:a}),Ge(t),ue(a);case No:return En(p);default:return ue(p)}}function Tn(e){e=e[So];return uo(e)||Oe(e)}function Pn(e){e=e[Eo];S(e)||Ge("#at-"+b(e))}function Dn(e){var t,a;Tn(e)?(t=e[So],(a=e)[wo]===Bo||a[wo]===Fo?Ga(zs,t):(Ga(Us,t),Pn(e))):Pn(e)}function Cn(a){return function(e){var t=e.key;if(S(t))return 1;if(e[wo]===jo)return e.page;var a=e[So];return(a=$a(ku,a))!==t||a===t&&!e.page}(a)?In(a).then(function(){return ne("Action rendered successfully",a),oe({action:a}),!S(t=(e=a).key)&&Tn(e)&&(e=e[So],Xa(ku,t,e)),Dn(a),a;var e,t}).catch(function(e){ae(_s,e),oe({action:a,error:e}),Dn(a);e=Gi({},a);return e[Ts]=!0,e}):(Dn(a),a)}function Vn(e){var t=f(function(e){return!0===e[Ts]},e);return w(t)?ue():(v(Dn,t),pe(e))}function Ln(e){return nn((t=e)[So]).then(function(){return t}).catch(function(){var e=Gi({},t);return e[Ts]=!0,e}).then(Cn);var t}function Nn(e,t,a){return Re(a).on(e,t)}function On(e){return nn(e[So]).then(function(){return oe({metric:e}),Gi({found:!0},e)}).catch(function(){return ae(wu,e),oe({metric:e,message:wu}),e})}function Mn(e){var t=e.name,a=mt(Cc)||{};a[t]=e,gt(Cc,a)}function Rn(e,t){var a=1<arguments.length&&void 0!==t?t:{},t=a.page,e=(mt(Cc)||{})[e];if(g(e))return e;a=a.impressionId;return g(a)?e:Gi({page:void 0===t||t,impressionId:a},e)}function jn(e,t){return a=window,Au in a&&Su in a[Au]?window[Au][Su](e,t):function(e,t,a){var n={};n[Nc]=[Oc];var r={method:"POST"};r.url=t,r[gu]=a,r[mu]=!0,r[_u]=!1,r[fu]=n;try{e(r)}catch(e){return}return 1}(wa,e,t);var a}function xn(e){var t=Xt(e,{}),a={context:{beacon:!0}};return w(t)||((e={}).analytics=t,a.experienceCloud=e),a}function Bn(e,t,a){t=Zt(xn(e),t,Rt());return t.notifications=a,t}function Fn(e,t,a){e={id:L(),type:t,timestamp:D(),parameters:e.parameters,profileParameters:e.profileParameters,order:e.order,product:e.product};return w(a)||(e.tokens=a),e}function Hn(e){var t=na(il);return jn(t,JSON.stringify(e))?(ne(Eu,t,e),1):(ae(Iu,t,e),0)}function qn(e,t,a){var n=Dt(il[$s]),a=Fn(Gt({},n),t,[a]),n=Bn(L(),n,[a]);ne("Event handler notification",e,a),oe({source:e,event:t,request:n}),Hn(n)}function Un(e,t,a){var n=Dt(e),a=Fn(Gt({},n),t,[a]);a.mbox={name:e};n=Bn(L(),n,[a]);ne("Mbox event handler notification",e,a),oe({mbox:e,event:t,request:n}),Hn(n)}function zn(e){var t=il[$s],o=[];v(function(e){var t,a,n,r=e.mbox,i=e.data;g(i)||(n=i.eventTokens,w(t=void 0===n?[]:n)||o.push((a="display",e=t,i=r.name,n=r.state,(e=Fn(r,a,t)).mbox={name:i,state:n},e)))},e),w(o)||(t=Bn(t,{},o),ne("Mboxes rendered notification",o),oe({source:"prefetchMboxes",event:Tu,request:t}),Hn(t))}function Yn(e,t,a){var n=Dt(il[$s]),a=Fn(Gt({},n),t,[a]);a.view={name:e};n=Bn(L(),n,[a]);ne("View event handler notification",e,a),oe({view:e,event:t,request:n}),Hn(n)}function Kn(e){var t,a=e.viewName,n=e.impressionId,r=Dt(il[$s]),e=Fn(Gt({},r),Lc,[]);e.view={name:a},ne("View triggered notification",a),r=r,t=[e],ea(xn(a),r).then(function(e){return e.notifications=t,e}).then(function(e){e.impressionId=n,oe({view:a,event:"triggered",request:e}),Hn(e)})}function Qn(e){var t,a,n,r,i,o;g(e)||(o=e.view,i=(void 0===(r=e.data)?{}:r).eventTokens,t=void 0===i?[]:i,a=o.name,n=o.impressionId,g(e=Rn(a))||((r=Bn(a,{},[(r=t,i=e.name,o=e.state,(r=Fn(e,Lc,t)).view={name:i,state:o},r)])).impressionId=n,ne("View rendered notification",a,t),oe({view:a,event:Tu,request:r}),Hn(r)))}function Gn(e,n,r){g(Pu[e])&&(w(e=_(Pu))||v(function(a){v(function(e){var t=Pu[a][e];e=n,t=t,Re(r).off(e,t)},_(Pu[a])),delete Pu[a]},e))}function Wn(e,t,a,n){function r(){return n(e,i,s)}var i=a.type,o=a.selector,s=a.eventToken,c=b(i+":"+o+":"+s);a=o,i===rs&&Ga(zs,a),t?(a=c,!g(Pu[t=e])&&!g(Pu[t][a])||(Gn(e,i,o),t=c,a=r,Pu[c=e]=Pu[c]||{},Pu[c][t]=a,Nn(i,r,o))):Nn(i,r,o)}function $n(t,a,e,n){return he(P(On,e)).then(function(e){return v(function(e){return Wn(t,a,e,n)},f(function(e){return e.found},e)),ia(Ns)}).catch(Wl)}function Xn(e){return $n(e.name,!1,Du(e),Un)}function Jn(e){return $n(e.name,!0,Du(e),Yn)}function Zn(e){return $n("pageLoadMetrics",!1,Du(e),qn)}function er(e){e=P(Vu,e);e=au(e),et(il,e)}function tr(e){e=P(Vu,e);e=tu(e),tt(il,e)}function ar(e){e=f(Ul,nu(e));return d(P(Cu,e))}function nr(e){return u(e)&&e.type!==Do}function rr(e,t,a){var n,r,i=e.eventToken,o=e.responseTokens;return e=e.content,n=t,r=a,e=P(function(e){return Gi({key:n,page:r},e)},f(nr,e)),he(P(Ln,e)).then(Vn).then(function(){return ia(Ls,{eventToken:i,responseTokens:o})}).catch($l)}function ir(e){return u(e)&&e.type!==ts}function or(e,t){return P(e,f(ir,nu(t)))}function sr(e,t,a){e=s({status:Vs},e,t),t=P(lu,f(eu,a)),a={};return w(t)||(e.status=Ts,a.errors=t),w(a)||(e.data=a),e}function cr(t,e,a){return he(or(function(e){return rr(e,!0)},t)).then(e).then(function(e){return a(t),e})}function lr(i,o,t,a){var n=o.name;return he(or(function(e){return rr(e,n,t)},o)).then(function(e){return n=e,r=s({status:Vs},t=i,a=o),e=P(lu,f(eu,n)),t=P(lu,f(Xl,n)),a=tu(P(iu,t)),n=tu(P(ou,t)),t={},w(e)||(r.status=Ts,t.errors=e),w(a)||(t.eventTokens=a),w(n)||(t.responseTokens=n),w(t)||(r.data=t),r;var t,a,n,r}).then(function(e){return a(o),e})}function dr(t){return cr(t,function(e){return sr(Os,t,e)},Xn)}function ur(e){return lr(Os,e,!0,Xn)}function pr(e,t){1<arguments.length&&void 0!==t&&t||(w(e=void 0===(e=(void 0===(e=e.execute)?{}:e).pageLoad)?{}:e)||er(ar(e)))}function hr(e){er(ar(e)),je(e="#"+Pd)&&Ge(e)}function fr(e){return he([$n("prefetchMetrics",!1,Du(e),qn)]).then(sr)}function gr(){}function mr(e,t){Ou.emit(e,t)}function br(e,t){Ou.on(e,t)}function _r(e){return{type:xo,content:e.url}}function vr(e){var t={};if(w(e))return t;var p=[],h=[],f=[];v(function(e){switch(e.action){case To:uo((u=e).selector)&&uo(u.cssSelector)?f.push((u=e,(d={}).type=Io,d.content=u.content,d.selector=u.selector,d.cssSelector=u.cssSelector,d)):p.push({type:as,content:e.content});break;case Do:w(e.content)||v(function(e){return p.push({type:ts,content:e})},e.content);break;case Po:f.push((d=e,(l={}).type=Po,l.content=d.content,l.selector=d.selector,l.cssSelector=d.cssSelector,l));break;case zo:f.push((l=e,(c={}).type=Uo,c.content=l.content,c.selector=l.selector,c.cssSelector=l.cssSelector,c));break;case Ko:f.push((c=e,(s={}).type=Yo,s.content=c.content,s.selector=c.selector,s.cssSelector=c.cssSelector,s));break;case Go:f.push((s=e,(o={}).type=Qo,o.content=s.content,o.selector=s.selector,o.cssSelector=s.cssSelector,o));break;case Ho:f.push((o=e,(i={}).type=Ho,i.content=o.content,i.selector=o.selector,i.cssSelector=o.cssSelector,i));break;case qo:f.push((i=e,(r={}).type=qo,r.content=i.content,r.selector=i.selector,r.cssSelector=i.cssSelector,r));break;case jo:f.push((r=e,(n={}).type=jo,n.content=r.content,n.selector=r.selector,n.cssSelector=r.cssSelector,n));break;case Co:f.push(function(e){var t={};if(t.selector=e.selector,t.cssSelector=e.cssSelector,e.attribute===ns)return t.type=Vo,t.content=e.value,t;t.type=Co;var a={};return a[e.attribute]=e.value,t.content=a,t}(e));break;case Lo:f.push((t=(n=e).style,a=void 0===t?{}:t,(t={}).selector=n.selector,t.cssSelector=n.cssSelector,g(a.left)||g(a.top)?g(a.width)||g(a.height)?t.type=Lo:t.type=Oo:t.type=Mo,t.content=a,t));break;case Ro:f.push((a=e,(t={}).type=Ro,t.selector=a.selector,t.cssSelector=a.cssSelector,t));break;case No:f.push(function(e){var t={};t.from=e.from,t.to=e.to;var a={};return a.type=No,a.selector=e.selector,a.cssSelector=e.cssSelector,a.content=t,a}(e));break;case xo:p.push(_r(e));break;case Bo:h.push({type:rs,selector:e.selector,eventToken:e.clickTrackId})}var t,a,n,r,i,o,s,c,l,d,u},e);var a={};if(w(f)||p.push({type:Bs,content:f}),w(p)||(a.options=p),w(h)||(a.metrics=h),w(a))return t;e={};return e.pageLoad=a,t.execute=e,t}function yr(e,t,a){return a?vr(t):function(e,t){var a={};if(w(t))return a;var n=[],r=[];return v(function(e){switch(e.action){case To:n.push({type:as,content:e.content});break;case Do:w(e.content)||v(function(e){return n.push({type:ts,content:e})},e.content);break;case xo:n.push(_r(e));break;case Fo:r.push({type:rs,eventToken:e.clickTrackId})}},t),t={name:e},w(n)||(t.options=n),w(r)||(t.metrics=r),w(t)||((e={}).mboxes=[t],a.execute=e),a}(e,t)}function kr(e){var t=e.status,e=e.data,t={status:t,pageLoad:!0};return g(e)||(t.data=e),t}function wr(e){var t=e.status,a=e.mbox,e=e.data,a={status:t,mbox:a.name};return g(e)||(a.data=e),a}function Ar(e){var t=e.status,a=e.view,e=e.data,a={status:t,view:a.name};return g(e)||(a.data=e),a}function Sr(e){var t=e.status,e=e.data,t={status:t,prefetchMetrics:!0};return g(e)||(t.data=e),t}function Er(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Qn;if(g(e))return[null];var a=P(Ar,[e]);return Nu(a)&&ae("View rendering failed",e),e.view.page&&t(e),a}function Ir(e){var t=d([function(e){if(g(e))return[null];var t=P(kr,[e]);return Nu(t)&&ae("Page load rendering failed",e),t}(e[0]),function(e){if(g(e))return[null];var t=P(wr,e);return Nu(t)&&ae(Mu,e),t}(e[1]),function(e,t){var a=1<arguments.length&&void 0!==t?t:zn;return g(e)?[null]:(t=P(wr,e),Nu(t)&&ae(Mu,e),a(e),t)}(e[2]),function(e){if(g(e))return[null];var t=P(Sr,[e]);return Nu(t)&&ae("Prefetch rendering failed",e),t}(e[3])]),e=f(Zd,t),t=f(eu,e);return w(t)?ue(e):pe(t)}function Tr(e){return pe(e)}function Pr(a,e){w(e)||(w(e=e.options)||v(function(e){var t;e.type===as&&(t=e.content,e.type=Bs,e.content=[{type:"setHtml",selector:a,content:t}])},e))}function Dr(t,e){var a,n=e.metrics;w(n)||(a=e.name,v(function(e){e.name=a,e.selector=e.selector||t},n))}function Cr(t,e){var a=Gi({},e),n=a.execute,r=void 0===n?{}:n,e=a.prefetch,n=r.pageLoad,r=r.mboxes,r=void 0===r?[]:r,e=(void 0===e?{}:e).mboxes,e=void 0===e?[]:e;return Pr(t,void 0===n?{}:n),v(function(e){return Pr(t,e)},r),v(function(e){return Dr(t,e)},r),v(function(e){return Pr(t,e)},e),v(function(e){return Dr(t,e)},e),a}function Vr(e){e=e.prefetch,e=(void 0===e?{}:e).views,e=void 0===e?[]:e;w(e)||v(Mn,e)}function Lr(e){var t,a=[],n=e.execute,r=void 0===n?{}:n,n=r.pageLoad,n=void 0===n?{}:n,r=r.mboxes,r=void 0===r?[]:r;w(n)?a.push(ue(null)):a.push(cr(t=n,function(e){return sr("pageLoad",t,e)},Zn)),w(r)?a.push(ue(null)):a.push(he(P(dr,r)));n=e.prefetch,r=void 0===n?{}:n,e=r.mboxes,n=void 0===e?[]:e,e=r.metrics,e=void 0===e?[]:e;return w(n)?a.push(ue(null)):a.push(he(P(ur,n))),Zi(e)&&!w(e)?a.push(fr(r)):a.push(ue(null)),nt(),he(a).then(Ir).catch(Tr)}function Nr(e,t){N(function(){return e.location.replace(t)})}function Or(e){return uo(e)||Oe(e)?e:is}function Mr(e){Ga(Us,e)}function Rr(e,t){var a=1<arguments.length&&void 0!==t&&t,t=e.selector,e=e.response;if(function(e){var t=void 0===(a=(r=0<arguments.length&&void 0!==e?e:{}).prefetch)?{}:a,e=void 0===(n=r.execute)?{}:n,a=e.pageLoad,n=void 0===(r=e.mboxes)?[]:r,e=t.pageLoad,r=void 0===e?{}:e,e=t.views,e=void 0===e?[]:e,t=void 0===(t=t.mboxes)?[]:t;return w(void 0===a?{}:a)&&w(n)&&w(r)&&w(e)&&w(t)}(e))return ne(Es),Mr(t),nt(),Le({}),mr(Zc),ue();t=Cr(t,e),e=Da(t);if(w(e))return De({}),Vr(t),mr(Jc),pr(t,a),Lr(t).then(function(e){w(e)||Ce({execution:e})}).catch(function(e){return Ve({error:e})});t=e.url;return ne(Is,e),Ne({url:t}),mr(el),Nr(window,t),ue()}function jr(e){ae(Ru,Mc,e),mr(Zc),oe({source:Ru,error:e}),nt()}function xr(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],a={selector:is,response:e};ne(Ru,Fs,e),oe({source:Ru,response:e}),Rr(a,t).catch(jr)}function Br(e){var t=e[Wc],a=t.request,n=t.response;ne(Ru,Bc),oe({source:Ru,serverState:t});var r,i,r=(r=e,t=Gi({},i=n),e=t.execute,n=t.prefetch,i=r[Tc],r=r[Ic],e&&(t.execute.mboxes=null),e&&!i&&(t.execute.pageLoad=null),n&&(t.prefetch.mboxes=null),n&&!r&&(t.prefetch.views=null),t);pr(r),w(t=void 0===(t=(void 0===(t=(t=r).prefetch)?{}:t).views)?[]:t)||tr(d(P(ar,t))),qa({request:a,response:r}).then(function(e){return xr(e,!0)}).catch(jr)}function Fr(){var e={};return e[Cs]=!0,e}function Hr(e){var t={};return t[Cs]=!1,t[Ts]=e,t}function qr(e){return S(e)?Hr("mbox option is required"):250<e.length?Hr("mbox option is too long"):Fr()}function Ur(e){return{action:xo,url:e.content}}function zr(e){var b=[];return v(function(e){switch(e.type){case Io:b.push((g=e,(m={}).action=To,m.content=g.content,m.selector=g.selector,m.cssSelector=g.cssSelector,m));break;case Po:b.push((m=e,(f={}).action=Po,f.content=m.content,f.selector=m.selector,f.cssSelector=m.cssSelector,f));break;case Uo:b.push((f=e,(h={}).action=zo,h.content=f.content,h.selector=f.selector,h.cssSelector=f.cssSelector,h));break;case Yo:b.push((h=e,(p={}).action=Ko,p.content=h.content,p.selector=h.selector,p.cssSelector=h.cssSelector,p));break;case Qo:b.push((p=e,(u={}).action=Go,u.content=p.content,u.selector=p.selector,u.cssSelector=p.cssSelector,u));break;case Ho:b.push((u=e,(d={}).action=Ho,d.content=u.content,d.selector=u.selector,d.cssSelector=u.cssSelector,d));break;case qo:b.push((d=e,(l={}).action=qo,l.content=d.content,l.selector=d.selector,l.cssSelector=d.cssSelector,l));break;case jo:b.push((s=e,(c={}).action=jo,c.content=s.content,c.selector=s.selector,c.cssSelector=s.cssSelector,c));break;case Co:b.push((s=_((l=e).content)[0],(c={}).action=Co,c.attribute=s,c.value=l.content[s],c.selector=l.selector,c.cssSelector=l.cssSelector,c));break;case Vo:b.push((i=e,(o={}).action=Co,o.attribute=ns,o.value=i.content,o.selector=i.selector,o.cssSelector=i.cssSelector,o));break;case Lo:b.push((i=e,(o={}).action=Lo,o.style=i.content,o.selector=i.selector,o.cssSelector=i.cssSelector,o));break;case Oo:b.push((n=e,(r={}).action=Lo,r.style=n.content,r.selector=n.selector,r.cssSelector=n.cssSelector,r));break;case Mo:b.push((n=e,(r={}).action=Lo,r.style=n.content,r.selector=n.selector,r.cssSelector=n.cssSelector,r));break;case Ro:b.push((t=e,(a={}).action=Ro,a.selector=t.selector,a.cssSelector=t.cssSelector,a));break;case No:b.push((t=e,(a={}).action=No,a.from=t.content.from,a.to=t.content.to,a.selector=t.selector,a.cssSelector=t.cssSelector,a));break;case xo:b.push(Ur(e))}var t,a,n,r,i,o,s,c,l,d,u,p,h,f,g,m},e),b}function Yr(e){if(w(e))return[];var t=[];return v(function(e){e.type===rs&&(uo(e.selector)?t.push({action:Bo,selector:e.selector,clickTrackId:e.eventToken}):t.push({action:Fo,clickTrackId:e.eventToken}))},e),t}function Kr(e){if(w(e))return[];var t=[],a=[],n=[],r=e.options,e=e.metrics,e=void 0===e?[]:e;v(function(e){switch(e.type){case as:t.push(e.content);break;case ts:a.push(e.content);break;case xo:n.push(Ur(e));break;case Bs:n.push.apply(n,zr(e.content))}},void 0===r?[]:r),w(t)||n.push({action:To,content:t.join("")}),w(a)||n.push({action:Do,content:a});e=Yr(e);return w(e)||n.push.apply(n,e),n}function Qr(e,t){var a,n,n=(n=(a=t).execute,a=(t=void 0===n?{}:n).pageLoad,t=void 0===(n=t.mboxes)?[]:n,(n=[]).push.apply(n,Kr(void 0===a?{}:a)),n.push.apply(n,d(P(Kr,t))),n);e[Vs](n)}function Gr(a){var e=function(e){if(!u(e))return Hr(ls);var t=qr(e[Os]);return t[Cs]?c(e[Vs])?c(e[Ts])?Fr():Hr(ms):Hr(gs):t}(a),t=e[Ts];if(!e[Cs])return ae(ju,t),void oe({source:ju,options:a,error:t});if(!J()&&!ee())return N(a[Ts](Ps,cs)),ae(ju,cs),void oe({source:ju,options:a,error:cs});function n(e){return Qr(a,e)}function r(e){var t;t=e[js]||Ds,a[Ts](t,e)}ne(ju,a),oe({source:ju,options:a}),be()&&!_e()?ve().then(function(){Ka(a).then(n).catch(r)}):Ka(a).then(n).catch(r)}function Wr(e){var t=function(e){if(!u(e))return Hr(ls);var t=e.request;return u(t)?(e=t.execute,t=t.prefetch,u(e)||u(t)?Fr():Hr(ps)):Hr(ds)}(e),a=t[Ts];return t[Cs]?J()||ee()?(ne(xu,e),oe({source:xu,options:e}),!be()||_e()?Qa(e):ve().then(function(){return Qa(e)})):(ae(xu,cs),oe({source:xu,options:e,error:cs}),pe(new Error(cs))):(ae(xu,a),oe({source:xu,options:e,error:a}),pe(t))}function $r(e){var t=Or(e.selector),a=function(e){if(!u(e))return Hr(ls);var t=qr(e[Os]);return t[Cs]?(e=e[Ms],Zi(e)?Fr():Hr(bs)):t}(e),n=a[Ts];return a[Cs]?J()||ee()?(e.selector=t,ne(Bu,e),oe({source:Bu,options:e}),void function(e){var t=e.mbox,a=e.selector,n=e.offer,e=t===il[$s];if(w(n))return ne(Es),Mr(a),nt(),Le({mbox:t});if(a=Cr(a,yr(t,n,e)),!w(n=Da(a))){e=n.url;return ne(Is,n),Ne({url:e}),Nr(window,e)}De({mbox:t}),pr(a),Lr(a).then(function(e){w(e)||Ce({mbox:t,execution:e})}).catch(function(e){return Ve({error:e})})}(e)):(ae(Bu,cs),oe({source:Bu,options:e,error:cs}),void Mr(t)):(ae(Bu,e,n),oe({source:Bu,options:e,error:n}),void Mr(t))}function Xr(e){var t,a=Or(e.selector),n=u(t=e)?u(t.response)?Fr():Hr(us):Hr(ls),t=n[Ts];return n[Cs]?J()||ee()?(e.selector=a,ne(Fu,e),oe({source:Fu,options:e}),Rr(e)):(ae(Fu,cs),oe({source:Fu,options:e,error:cs}),Mr(a),pe(new Error(cs))):(ae(Fu,e,t),oe({source:Fu,options:e,error:t}),Mr(a),pe(n))}function Jr(e){var t=il[$s],a=e.consumerId,n=void 0===a?t:a,r=e.request,t=function(e){if(!u(e))return Hr(ls);if(!u(a=e.request))return Hr(ds);var t=a.execute,e=a.prefetch,a=a.notifications;return u(t)||u(e)?Hr(hs):Zi(a)?Fr():Hr(fs)}(e),a=t[Ts];if(!t[Cs])return ae(Hu,a),void oe({source:Hu,options:e,error:a});if(!J()&&!ee())return ae(Hu,cs),void oe({source:Hu,options:e,error:cs});ne(Hu,e),oe({source:Hu,options:e});r=Bn(n,{},r.notifications);!be()||_e()?Hn(r):ae(Hu,Qc)}function Zr(e){if(be()&&!_e())return ae(Ss,Qc),e[Ts](Ts,Qc),0;!function(e){var t=e.mbox,a=void 0===(n=e.type)?Lc:n,n=u(e.params)?e.params:{},n=Gi({},Dt(t),n);if((a=Fn(Gt({},n),a,[])).mbox={name:t},Hn(Bn(t,n,[a])))return ne("Track event request succeeded",e),e[Vs]();ae(Ss,e),e[Ts](Ds,Ss)}(e)}function ei(t){function a(){return Zr(e=t),!e.preventDefault;var e}var e=t[So],n=t[wo],e=k(Re(e));v(function(e){return Nn(n,a,e)},e)}function ti(e){var t=u(i=e)?(i=qr(i[Os]))[Cs]?Fr():i:Hr(ls),a=t[Ts];if(!t[Cs])return ae(qu,a),void oe({source:qu,options:e,error:a});var n,r,i,r=(n=il,i=(r=e)[Os],t=Gi({},r),a=u(r.params)?r.params:{},t[xs]=Gi({},Dt(i),a),t[Ws]=ta(n,r[Ws]),t[Vs]=c(r[Vs])?r[Vs]:_o,t[Ts]=c(r[Ts])?r[Ts]:_o,t);if(!J()&&!ee())return ae(qu,cs),N(r[Ts](Ps,cs)),void oe({source:qu,options:e,error:cs});ne(qu,r),oe({source:qu,options:r}),e=(t=r)[wo],t=t[So],(uo(e)&&(uo(t)||Oe(t))?ei:Zr)(r)}function ai(e){return hr(e),lr("view",e,e.page,Jn).then(Er).then(function(e){w(e)||Ce({execution:e})}).catch(function(e){ae("View rendering failed",e),Ve({error:e})})}function ni(){for(;0<zu.length;){var e=zu.pop(),t=e.viewName,a=e.page,t=Rn(t,e);g(t)?a&&Kn(e):ai(t)}}function ri(){Qu=Ku,ni()}function ii(e,t){if(il[Ic]){if(!m(e)||S(e))return ae(Uu,Rc,e),void oe({source:Uu,view:e,error:Rc});var a=e.toLowerCase(),e=(e=t,(t={}).viewName=a,t.impressionId=L(),t.page=!0,w(e)||(t.page=!!e.page),t);if(ee())return ne(Uu,a,e),t=(t=e)[Vc],void(window[fd][md]=t);ne(Uu,a,e),oe({source:Uu,view:a,options:e}),zu.push(e),Qu!==Yu&&ni()}else ae(Uu,jc)}function oi(){ae(Gu,arguments)}function si(){ae(Wu,arguments)}function ci(){ae($u,arguments)}function li(){ae(Xu,arguments)}function di(a,e){var n={};return no(function(e,t){n[t]=a(e,t)},e),n}function ui(e,t,a){return a.reduce(e,t)}function pi(a,e,t){var n=e;return no(function(e,t){n=a(n,e,t)},t),n}var hi,fi,gi,mi,bi,_i,vi,yi,ki,wi,Ai,Si,Ei,Ii,Ti,Pi,Di,Ci,Vi,Li,Ni,Oi,Mi,Ri,ji,xi,Bi,Fi,Hi,qi,Ui,zi,Yi,Ki,Qi,Gi=n(a("@adobe/reactor-object-assign")),Wi=n(a("@adobe/reactor-cookie")),$i=n(a("@adobe/reactor-query-string")),Xi=n(a("@adobe/reactor-promise")),Ji=n(a("@adobe/reactor-load-script")),Zi=Array.isArray,eo=Object.prototype.toString,to="[object Function]",ao=function(e,t){return t.forEach(e)},no=function(t,a){ao(function(e){return t(a[e],e)},_(a))},ro=function(e,t){return t.filter(e)},io=function(a,e){var n={};return no(function(e,t){a(e,t)&&(n[t]=e)},e),n},oo="[object String]",so=function(e,t){return t.map(e)},co=Object.prototype.hasOwnProperty,lo=String.prototype.trim,uo=function(e){return!S(e)},po=Function.prototype,a=Object.prototype,ho=po.toString,fo=a.hasOwnProperty,go=ho.call(Object),mo=Array.prototype.reverse,bo="server-side",_o=function(){},vo=function(e){return Promise.resolve(e)},yo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ko=(function(o){!function(){var e,t,a,n,r,i;"undefined"!=typeof performance&&null!==performance&&performance.now?o.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(o.exports=function(){return(e()-r)/1e6},t=process.hrtime,n=(e=function(){var e;return 1e9*(e=t())[0]+e[1]})(),i=1e9*process.uptime(),r=n-i):a=Date.now?(o.exports=function(){return Date.now()-a},Date.now()):(o.exports=function(){return(new Date).getTime()-a},(new Date).getTime())}.call(yo)}(Qi={exports:{}}),function(e,t){if(e){for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},a=n.parser[(t=t||{}).strictMode?"strict":"loose"].exec(e),r={},i=14;i--;)r[n.key[i]]=a[i]||"";return r[n.q.name]={},r[n.key[12]].replace(n.q.parser,function(e,t,a){t&&(r[n.q.name][t]=a)}),r}}),wo="type",Ao="content",So="selector",Eo="cssSelector",Io="setHtml",To="setContent",Po="setText",Do="setJson",Co="setAttribute",Vo="setImageSource",Lo="setStyle",No="rearrange",Oo="resize",Mo="move",Ro="remove",jo="customCode",xo="redirect",Bo="trackClick",Fo="signalClick",Ho="insertBefore",qo="insertAfter",Uo="appendHtml",zo="appendContent",Yo="prependHtml",Ko="prependContent",Qo="replaceHtml",Go="replaceContent",Wo="mboxDebug",$o="mboxDisable",Xo="mboxEdit",Jo="at_check",Zo="true",es="data-at-src",ts="json",as="html",ns="src",rs="click",is="head",os="style",ss="img",cs='Adobe Target content delivery is disabled. Ensure that you can save cookies to your current domain, there is no "mboxDisable" cookie and there is no "mboxDisable" parameter in query string.',ls="options argument is required",ds="request option is required",us="response option is required",ps="execute or prefetch is required",hs="execute or prefetch is not allowed",fs="notifications are required",gs="success option is required",ms="error option is required",bs="offer option is required",_s="Unexpected error",vs="request failed",ys="request succeeded",ks="Rendering action",ws="Action has no content",As="Action has no url",Ss="Track event request failed",Es="No actions to be rendered",Is="Redirect action",Ts="error",Ps="warning",Ds="unknown",Cs="valid",Vs="success",Ls="render",Ns="metric",Os="mbox",Ms="offer",Rs="name",js="status",xs="params",Bs="actions",Fs="response",Hs="request",qs="provider",Us="at-element-marker",zs="at-element-click-tracking",Ys="enabled",Ks="clientCode",Qs="imsOrgId",Gs="serverDomain",Ws="timeout",$s="globalMboxName",Xs="globalMboxAutoCreate",Js="version",Zs="defaultContentHiddenStyle",ec="bodyHiddenStyle",tc="bodyHidingEnabled",ac="deviceIdLifetime",nc="sessionIdLifetime",rc="selectorsPollingTimeout",ic="visitorApiTimeout",oc="overrideMboxEdgeServer",sc="overrideMboxEdgeServerTimeout",cc="optoutEnabled",lc="secureOnly",dc="supplementalDataIdParamTimeout",uc="authoringScriptUrl",pc="scheme",hc="cookieDomain",fc="mboxParams",gc="globalMboxParams",mc="mboxEdgeCluster",bc="session",_c="settings",vc="clientTraces",yc="serverTraces",kc="___target_traces",wc="targetGlobalSettings",Ac="dataProvider",Sc=Ac+"s",Ec="endpoint",Ic="viewsEnabled",Tc="pageLoadEnabled",Pc="authState",Dc="primary",Cc="views",Vc="viewName",Lc="display",Nc="Content-Type",Oc="text/plain",Mc="View delivery error",Rc="View name should be a non-empty string",jc="Views are not enabled",xc="Page load disabled",Bc="Using server state",Fc="adobe",Hc="optIn",qc="isApproved",Uc="fetchPermissions",zc="Categories",Yc="TARGET",Kc="optinEnabled",Qc="Adobe Target is not opted in",Gc="analyticsLogging",Wc="serverState",$c="cspScriptNonce",Xc="cspStyleNonce",Jc="cache-updated-event",Zc="no-offers-event",el="redirect-offer-event",tl="None",al="file:",nl=/^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/,rl=/^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i,il={},ol=[Ys,Ks,Qs,Gs,hc,Ws,fc,gc,Zs,"defaultContentVisibleStyle",ac,ec,tc,rc,ic,oc,sc,cc,Kc,lc,dc,uc,"urlSizeLimit",Ec,Tc,Ic,Gc,Wc,"decisioningMethod","pollingInterval","artifactLocation","artifactFormat","artifactPayload","environment","cdnEnvironment","telemetryEnabled","cdnBasePath",$c,Xc,$s],sl=$i.parse,cl=$i.stringify,ll=document.createElement("a"),dl={},ul=Wi.get,pl=Wi.set,hl=Wi.remove,fl="AT:",gl="1",ml=(hi=window,ki=(yi=[]).concat,wi=yi.filter,Ai=yi.slice,Si=hi.document,Ei={},Ii={},Ti={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},Pi=/^\s*<(\w+|!)[^>]*>/,Di=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ci=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Vi=/^(?:body|html)$/i,Li=/([A-Z])/g,Ni=["val","css","html","text","data","width","height","offset"],a=Si.createElement("table"),$i=Si.createElement("tr"),Oi={tr:Si.createElement("tbody"),tbody:a,thead:a,tfoot:a,td:$i,th:$i,"*":Si.createElement("div")},Mi=/complete|loaded|interactive/,Ri=/^[\w-]*$/,xi=(ji={}).toString,Bi={},Fi=Si.createElement("div"),Hi={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},qi=Array.isArray||function(e){return e instanceof Array},Bi.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var a=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(a)return a.call(e,t);var n=e.parentNode,a=!n;return a&&(n=Fi).appendChild(e),t=~Bi.qsa(n,t).indexOf(e),a&&Fi.removeChild(e),t},_i=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},vi=function(a){return wi.call(a,function(e,t){return a.indexOf(e)==t})},Bi.fragment=function(e,t,a){var n,r,i;return(n=Di.test(e)?mi(Si.createElement(RegExp.$1)):n)||(e.replace&&(e=e.replace(Ci,"<$1></$2>")),t===fi&&(t=Pi.test(e)&&RegExp.$1),(i=Oi[t=!(t in Oi)?"*":t]).innerHTML=""+e,n=mi.each(Ai.call(i.childNodes),function(){i.removeChild(this)})),Sl(a)&&(r=mi(n),mi.each(a,function(e,t){-1<Ni.indexOf(e)?r[e](t):r.attr(e,t)})),n},Bi.Z=function(e,t){return new Cl(e,t)},Bi.isZ=function(e){return e instanceof Bi.Z},Bi.init=function(e,t){var a,n;if(!e)return Bi.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&Pi.test(e))a=Bi.fragment(e,RegExp.$1,t),e=null;else{if(t!==fi)return mi(t).find(e);a=Bi.qsa(Si,e)}else{if(yl(e))return mi(Si).ready(e);if(Bi.isZ(e))return e;if(qi(e))n=e,a=wi.call(n,function(e){return null!=e});else if(Al(e))a=[e],e=null;else if(Pi.test(e))a=Bi.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==fi)return mi(t).find(e);a=Bi.qsa(Si,e)}}return Bi.Z(a,e)},(mi=function(e,t){return Bi.init(e,t)}).extend=function(t){var a,e=Ai.call(arguments,1);return"boolean"==typeof t&&(a=t,t=e.shift()),e.forEach(function(e){!function e(t,a,n){for(gi in a)n&&(Sl(a[gi])||qi(a[gi]))?(Sl(a[gi])&&!Sl(t[gi])&&(t[gi]={}),qi(a[gi])&&!qi(t[gi])&&(t[gi]=[]),e(t[gi],a[gi],n)):a[gi]!==fi&&(t[gi]=a[gi])}(t,e,a)}),t},Bi.qsa=function(e,t){var a,n="#"==t[0],r=!n&&"."==t[0],i=n||r?t.slice(1):t,o=Ri.test(i);return e.getElementById&&o&&n?(a=e.getElementById(i))?[a]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:Ai.call(o&&!n&&e.getElementsByClassName?r?e.getElementsByClassName(i):e.getElementsByTagName(t):e.querySelectorAll(t))},mi.contains=Si.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t=t&&t.parentNode;)if(t===e)return!0;return!1},mi.type=vl,mi.isFunction=yl,mi.isWindow=kl,mi.isArray=qi,mi.isPlainObject=Sl,mi.isEmptyObject=function(e){for(var t in e)return!1;return!0},mi.isNumeric=function(e){var t=Number(e),a=o(e);return null!=e&&"boolean"!=a&&("string"!=a||e.length)&&!isNaN(t)&&isFinite(t)||!1},mi.inArray=function(e,t,a){return yi.indexOf.call(t,e,a)},mi.camelCase=_i,mi.trim=function(e){return null==e?"":String.prototype.trim.call(e)},mi.uuid=0,mi.support={},mi.expr={},mi.noop=function(){},mi.map=function(e,t){var a,n,r,i,o=[];if(El(e))for(n=0;n<e.length;n++)null!=(a=t(e[n],n))&&o.push(a);else for(r in e)null!=(a=t(e[r],r))&&o.push(a);return 0<(i=o).length?mi.fn.concat.apply([],i):i},mi.each=function(e,t){var a,n;if(El(e)){for(a=0;a<e.length;a++)if(!1===t.call(e[a],a,e[a]))return e}else for(n in e)if(!1===t.call(e[n],n,e[n]))return e;return e},mi.grep=function(e,t){return wi.call(e,t)},hi.JSON&&(mi.parseJSON=JSON.parse),mi.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){ji["[object "+t+"]"]=t.toLowerCase()}),mi.fn={constructor:Bi.Z,length:0,forEach:yi.forEach,reduce:yi.reduce,push:yi.push,sort:yi.sort,splice:yi.splice,indexOf:yi.indexOf,concat:function(){for(var e,t=[],a=0;a<arguments.length;a++)t[a]=Bi.isZ(e=arguments[a])?e.toArray():e;return ki.apply(Bi.isZ(this)?this.toArray():this,t)},map:function(a){return mi(mi.map(this,function(e,t){return a.call(e,t,e)}))},slice:function(){return mi(Ai.apply(this,arguments))},ready:function(e){return Mi.test(Si.readyState)&&Si.body?e(mi):Si.addEventListener("DOMContentLoaded",function(){e(mi)},!1),this},get:function(e){return e===fi?Ai.call(this):this[0<=e?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){for(var t,a=this.length,n=0;n<a&&(t=this[n],!1!==e.call(t,n,t));)n++;return this},filter:function(t){return yl(t)?this.not(this.not(t)):mi(wi.call(this,function(e){return Bi.matches(e,t)}))},add:function(e,t){return mi(vi(this.concat(mi(e,t))))},is:function(e){return 0<this.length&&Bi.matches(this[0],e)},not:function(t){var a,n=[];return yl(t)&&t.call!==fi?this.each(function(e){t.call(this,e)||n.push(this)}):(a="string"==typeof t?this.filter(t):El(t)&&yl(t.item)?Ai.call(t):mi(t),this.forEach(function(e){a.indexOf(e)<0&&n.push(e)})),mi(n)},has:function(e){return this.filter(function(){return Al(e)?mi.contains(this,e):mi(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!Al(e)?e:mi(e)},last:function(){var e=this[this.length-1];return e&&!Al(e)?e:mi(e)},find:function(e){var a=this;return e?"object"==o(e)?mi(e).filter(function(){var t=this;return yi.some.call(a,function(e){return mi.contains(e,t)})}):1==this.length?mi(Bi.qsa(this[0],e)):this.map(function(){return Bi.qsa(this,e)}):mi()},closest:function(a,n){var r=[],i="object"==o(a)&&mi(a);return this.each(function(e,t){for(;t&&!(i?0<=i.indexOf(t):Bi.matches(t,a));)t=t!==n&&!wl(t)&&t.parentNode;t&&r.indexOf(t)<0&&r.push(t)}),mi(r)},parents:function(e){for(var t=[],a=this;0<a.length;)a=mi.map(a,function(e){if((e=e.parentNode)&&!wl(e)&&t.indexOf(e)<0)return t.push(e),e});return Vl(t,e)},parent:function(e){return Vl(vi(this.pluck("parentNode")),e)},children:function(e){return Vl(this.map(function(){return Dl(this)}),e)},contents:function(){return this.map(function(){return this.contentDocument||Ai.call(this.childNodes)})},siblings:function(e){return Vl(this.map(function(e,t){return wi.call(Dl(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return mi.map(this,function(e){return e[t]})},show:function(){return this.each(function(){var e,t,a;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(e=this.nodeName,Ei[e]||(t=Si.createElement(e),Si.body.appendChild(t),a=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),Ei[e]=a="none"==a?"block":a),Ei[e]))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(t){var a,n,r=yl(t);return this[0]&&!r&&(a=mi(t).get(0),n=a.parentNode||1<this.length),this.each(function(e){mi(this).wrapAll(r?t.call(this,e):n?a.cloneNode(!0):a)})},wrapAll:function(e){if(this[0]){var t;for(mi(this[0]).before(e=mi(e));(t=e.children()).length;)e=t.first();mi(e).append(this)}return this},wrapInner:function(n){var r=yl(n);return this.each(function(e){var t=mi(this),a=t.contents(),e=r?n.call(this,e):n;a.length?a.wrapAll(e):t.append(e)})},unwrap:function(){return this.parent().each(function(){mi(this).replaceWith(mi(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=mi(this);(t===fi?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(e){return mi(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return mi(this.pluck("nextElementSibling")).filter(e||"*")},html:function(a){return 0 in arguments?this.each(function(e){var t=this.innerHTML;mi(this).empty().append(Ll(this,a,e,t))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){e=Ll(this,t,e,this.textContent);this.textContent=null==e?"":""+e}):0 in this?this.pluck("textContent").join(""):null},attr:function(t,a){var e;return"string"!=typeof t||1 in arguments?this.each(function(e){if(1===this.nodeType)if(Al(t))for(gi in t)Nl(this,gi,t[gi]);else Nl(this,t,Ll(this,a,e,this.getAttribute(t)))}):0 in this&&1==this[0].nodeType&&null!=(e=this[0].getAttribute(t))?e:fi},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){Nl(this,e)},this)})},prop:function(t,a){return t=Hi[t]||t,1 in arguments?this.each(function(e){this[t]=Ll(this,a,e,this[t])}):this[0]&&this[0][t]},removeProp:function(e){return e=Hi[e]||e,this.each(function(){delete this[e]})},data:function(e,t){e="data-"+e.replace(Li,"-$1").toLowerCase(),e=1 in arguments?this.attr(e,t):this.attr(e);return null!==e?Ml(e):fi},val:function(t){return 0 in arguments?(null==t&&(t=""),this.each(function(e){this.value=Ll(this,t,e,this.value)})):this[0]&&(this[0].multiple?mi(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(n){if(n)return this.each(function(e){var t=mi(this),a=Ll(this,n,e,t.offset()),e=t.offsetParent().offset(),e={top:a.top-e.top,left:a.left-e.left};"static"==t.css("position")&&(e.position="relative"),t.css(e)});if(!this.length)return null;if(Si.documentElement!==this[0]&&!mi.contains(Si.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+hi.pageXOffset,top:e.top+hi.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,t){if(arguments.length<2){var a=this[0];if("string"==typeof e)return a?a.style[_i(e)]||getComputedStyle(a,"").getPropertyValue(e):void 0;if(qi(e)){if(!a)return;var n={},r=getComputedStyle(a,"");return mi.each(e,function(e,t){n[t]=a.style[_i(t)]||r.getPropertyValue(t)}),n}}var i="";if("string"==vl(e))t||0===t?i=Il(e)+":"+Pl(e,t):this.each(function(){this.style.removeProperty(Il(e))});else for(gi in e)e[gi]||0===e[gi]?i+=Il(gi)+":"+Pl(gi,e[gi])+";":this.each(function(){this.style.removeProperty(Il(gi))});return this.each(function(){this.style.cssText+=";"+i})},index:function(e){return e?this.indexOf(mi(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&yi.some.call(this,function(e){return this.test(Ol(e))},Tl(e))},addClass:function(a){return a?this.each(function(e){var t;"className"in this&&(bi=[],t=Ol(this),Ll(this,a,e,t).split(/\s+/g).forEach(function(e){mi(this).hasClass(e)||bi.push(e)},this),bi.length&&Ol(this,t+(t?" ":"")+bi.join(" ")))}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===fi)return Ol(this,"");bi=Ol(this),Ll(this,t,e,bi).split(/\s+/g).forEach(function(e){bi=bi.replace(Tl(e)," ")}),Ol(this,bi.trim())}})},toggleClass:function(a,n){return a?this.each(function(e){var t=mi(this);Ll(this,a,e,Ol(this)).split(/\s+/g).forEach(function(e){(n===fi?!t.hasClass(e):n)?t.addClass(e):t.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===fi?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===fi?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),a=this.offset(),n=Vi.test(t[0].nodeName)?{top:0,left:0}:t.offset();return a.top-=parseFloat(mi(e).css("margin-top"))||0,a.left-=parseFloat(mi(e).css("margin-left"))||0,n.top+=parseFloat(mi(t[0]).css("border-top-width"))||0,n.left+=parseFloat(mi(t[0]).css("border-left-width"))||0,{top:a.top-n.top,left:a.left-n.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Si.body;e&&!Vi.test(e.nodeName)&&"static"==mi(e).css("position");)e=e.offsetParent;return e})}},mi.fn.detach=mi.fn.remove,["width","height"].forEach(function(n){var r=n.replace(/./,function(e){return e[0].toUpperCase()});mi.fn[n]=function(t){var e,a=this[0];return t===fi?kl(a)?a["inner"+r]:wl(a)?a.documentElement["scroll"+r]:(e=this.offset())&&e[n]:this.each(function(e){(a=mi(this)).css(n,Ll(this,t,e,a[n]()))})}}),["after","prepend","before","append"].forEach(function(t,d){var u=d%2;mi.fn[t]=function(){var a,s,c=mi.map(arguments,function(e){var t=[];return"array"==(a=vl(e))?(e.forEach(function(e){return e.nodeType!==fi?t.push(e):mi.zepto.isZ(e)?t=t.concat(e.get()):void(t=t.concat(Bi.fragment(e)))}),t):"object"==a||null==e?e:Bi.fragment(e)}),l=1<this.length;return c.length<1?this:this.each(function(e,t){s=u?t:t.parentNode,t=0==d?t.nextSibling:1==d?t.firstChild:2==d?t:null;var a=mi.contains(Si.documentElement,s),r=/^(text|application)\/(javascript|ecmascript)$/,n=il,i=n[$c],o=n[Xc];c.forEach(function(e){if(l)e=e.cloneNode(!0);else if(!s)return mi(e).remove();uo(i)&&"SCRIPT"===e.tagName&&e.setAttribute("nonce",i),uo(o)&&"STYLE"===e.tagName&&e.setAttribute("nonce",o),s.insertBefore(e,t),a&&function e(t,a){a(t);for(var n=0,r=t.childNodes.length;n<r;n++)e(t.childNodes[n],a)}(e,function(e){var t,a,n;null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&!r.test(e.type.toLowerCase())||e.src||(t=Si,a=e.innerHTML,n=e.nonce,!(e=t.getElementsByTagName("script")[0])||(e=e.parentNode)&&((t=t.createElement("script")).innerHTML=a,uo(n)&&t.setAttribute("nonce",n),e.appendChild(t),e.removeChild(t)))})})})},mi.fn[u?t+"To":"insert"+(d?"Before":"After")]=function(e){return mi(e)[t](this),this}}),Bi.Z.prototype=Cl.prototype=mi.fn,Bi.uniq=vi,Bi.deserializeValue=Ml,mi.zepto=Bi,function(d){function u(e){return e._zid||(e._zid=t++)}function o(e,t,a,n){var r,i;return(t=p(t)).ns&&(i=t.ns,r=new RegExp("(?:^| )"+i.replace(" "," .* ?")+"(?: |$)")),(w[u(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||r.test(e.ns))&&(!a||u(e.fn)===u(a))&&(!n||e.sel==n)})}function p(e){e=(""+e).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function h(e,t){return e.del&&!a&&e.e in n||!!t}function f(e){return A[e]||a&&n[e]||e}function l(n,e,r,i,o,s,c){var t=u(n),l=w[t]||(w[t]=[]);e.split(/\s/).forEach(function(e){if("ready"==e)return d(document).ready(r);var t=p(e);t.fn=r,t.sel=o,t.e in A&&(r=function(e){e=e.relatedTarget;if(!e||e!==this&&!d.contains(this,e))return t.fn.apply(this,arguments)});var a=(t.del=s)||r;t.proxy=function(e){if(!(e=m(e)).isImmediatePropagationStopped()){e.data=i;var t=a.apply(n,e._args==v?[e]:[e].concat(e._args));return!1===t&&(e.preventDefault(),e.stopPropagation()),t}},t.i=l.length,l.push(t),"addEventListener"in n&&n.addEventListener(f(t.e),t.proxy,h(t,c))})}function g(t,e,a,n,r){var i=u(t);(e||"").split(/\s/).forEach(function(e){o(t,e,a,n).forEach(function(e){delete w[i][e.i],"removeEventListener"in t&&t.removeEventListener(f(e.e),e.proxy,h(e,r))})})}function m(n,r){if(r||!n.isDefaultPrevented){r=r||n,d.each(e,function(e,t){var a=r[e];n[e]=function(){return this[t]=s,a&&a.apply(r,arguments)},n[t]=S});try{n.timeStamp||(n.timeStamp=(new Date).getTime())}catch(n){}(r.defaultPrevented!==v?r.defaultPrevented:"returnValue"in r?!1===r.returnValue:r.getPreventDefault&&r.getPreventDefault())&&(n.isDefaultPrevented=s)}return n}function b(e){var t,a={originalEvent:e};for(t in e)r.test(t)||e[t]===v||(a[t]=e[t]);return m(a,e)}function _(e){return"string"==typeof e}var v,t=1,y=Array.prototype.slice,k=d.isFunction,w={},i={},a="onfocusin"in hi,n={focus:"focusin",blur:"focusout"},A={mouseenter:"mouseover",mouseleave:"mouseout"};i.click=i.mousedown=i.mouseup=i.mousemove="MouseEvents",d.event={add:l,remove:g},d.proxy=function(e,t){var a=2 in arguments&&y.call(arguments,2);if(k(e)){var n=function(){return e.apply(t,a?a.concat(y.call(arguments)):arguments)};return n._zid=u(e),n}if(_(t))return a?(a.unshift(e[t],e),d.proxy.apply(null,a)):d.proxy(e[t],e);throw new TypeError("expected function")},d.fn.bind=function(e,t,a){return this.on(e,t,a)},d.fn.unbind=function(e,t){return this.off(e,t)},d.fn.one=function(e,t,a,n){return this.on(e,t,a,n,1)};var s=function(){return!0},S=function(){return!1},r=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,e={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};d.fn.delegate=function(e,t,a){return this.on(t,e,a)},d.fn.undelegate=function(e,t,a){return this.off(t,e,a)},d.fn.live=function(e,t){return d(document.body).delegate(this.selector,e,t),this},d.fn.die=function(e,t){return d(document.body).undelegate(this.selector,e,t),this},d.fn.on=function(t,n,r,i,o){var s,c,a=this;return t&&!_(t)?(d.each(t,function(e,t){a.on(e,n,r,t,o)}),a):(_(n)||k(i)||!1===i||(i=r,r=n,n=v),i!==v&&!1!==r||(i=r,r=v),!1===i&&(i=S),a.each(function(e,a){o&&(s=function(e){return g(a,e.type,i),i.apply(this,arguments)}),n&&(c=function(e){var t=d(e.target).closest(n,a).get(0);if(t&&t!==a)return e=d.extend(b(e),{currentTarget:t,liveFired:a}),(s||i).apply(t,[e].concat(y.call(arguments,1)))}),l(a,t,i,r,n,c||s)}))},d.fn.off=function(e,a,t){var n=this;return e&&!_(e)?(d.each(e,function(e,t){n.off(e,a,t)}),n):(_(a)||k(t)||!1===t||(t=a,a=v),!1===t&&(t=S),n.each(function(){g(this,e,t,a)}))},d.fn.trigger=function(e,t){return(e=_(e)||d.isPlainObject(e)?d.Event(e):m(e))._args=t,this.each(function(){e.type in n&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):d(this).triggerHandler(e,t)})},d.fn.triggerHandler=function(a,n){var r,i;return this.each(function(e,t){(r=b(_(a)?d.Event(a):a))._args=n,r.target=t,d.each(o(t,a.type||a),function(e,t){if(i=t.proxy(r),r.isImmediatePropagationStopped())return!1})}),i},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){d.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),d.Event=function(e,t){_(e)||(e=(t=e).type);var a=document.createEvent(i[e]||"Events"),n=!0;if(t)for(var r in t)"bubbles"==r?n=!!t[r]:a[r]=t[r];return a.initEvent(e,n,!0),m(a)}}(a=mi),function(){try{getComputedStyle(void 0)}catch(e){var a=getComputedStyle;hi.getComputedStyle=function(e,t){try{return a(e,t)}catch(e){return null}}}}(),$i=(Ui=a).zepto,zi=$i.qsa,Yi=/^\s*>/,Ki="Zepto"+ +new Date,$i.qsa=function(e,t){var a,n,t=t;try{t?Yi.test(t)&&(n=Ui(e).addClass(Ki),t="."+Ki+" "+t):t="*",a=zi(e,t)}catch(e){throw e}finally{n&&n.removeClass(Ki)}return a},a),bl=window.MutationObserver||window.WebkitMutationObserver,_l="Expected an array of promises";function vl(e){return null==e?String(e):ji[xi.call(e)]||"object"}function yl(e){return"function"==vl(e)}function kl(e){return null!=e&&e==e.window}function wl(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function Al(e){return"object"==vl(e)}function Sl(e){return Al(e)&&!kl(e)&&Object.getPrototypeOf(e)==Object.prototype}function El(e){var t=!!e&&"length"in e&&e.length,a=mi.type(e);return"function"!=a&&!kl(e)&&("array"==a||0===t||"number"==typeof t&&0<t&&t-1 in e)}function Il(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function Tl(e){return e in Ii?Ii[e]:Ii[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function Pl(e,t){return"number"!=typeof t||Ti[Il(e)]?t:t+"px"}function Dl(e){return"children"in e?Ai.call(e.children):mi.map(e.childNodes,function(e){if(1==e.nodeType)return e})}function Cl(e,t){for(var a=e?e.length:0,n=0;n<a;n++)this[n]=e[n];this.length=a,this.selector=t||""}function Vl(e,t){return null==t?mi(e):mi(e).filter(t)}function Ll(e,t,a,n){return yl(t)?t.call(e,a,n):t}function Nl(e,t,a){null==a?e.removeAttribute(t):e.setAttribute(t,a)}function Ol(e,t){var a=e.className||"",n=a&&a.baseVal!==fi;if(t===fi)return n?a.baseVal:a;n?a.baseVal=t:e.className=t}function Ml(t){try{return t&&("true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?mi.parseJSON(t):t))}catch(e){return t}}Xi._setImmediateFn&&(se()?Xi._setImmediateFn(le()):-1!==window.navigator.userAgent.indexOf("MSIE 10")&&Xi._setImmediateFn(function(e){var t=ml("<script>");t.on("readystatechange",function(){t.on("readystatechange",null),t.remove(),t=null,e()}),ml(document.documentElement).append(t)}));var Rl,jl,xl=L(),Bl=/.*\.(\d+)_\d+/;function Fl(e,t){var a=jl.createEvent("CustomEvent");return a.initCustomEvent(e,(t=t||{bubbles:!1,cancelable:!1,detail:void 0}).bubbles,t.cancelable,t.detail),a}Rl=window,jl=document,c(Rl.CustomEvent)||(Fl.prototype=Rl.Event.prototype,Rl.CustomEvent=Fl);function Hl(e){return!g(e)}function ql(e){return!w(e)}function Ul(e){return e.type===Bs}function zl(e){return e.type===xo}function Yl(e){return u(e)&&su(e)}function Kl(e){return u(e)&&su(e)&&cu(e)}function Ql(e){return u(e)&&su(e)}function Gl(e){return!g(e)}function Wl(e){return oa(Ns,e)}function $l(e){return oa(Ls,e)}function Xl(e){return Jd(eu)(e)&&du(e)}var Jl,Zl,ed="at-library-loaded",td="at-request-start",ad="at-request-succeeded",nd="at-request-failed",rd="at-content-rendering-start",id="at-content-rendering-succeeded",od="at-content-rendering-failed",sd="at-content-rendering-no-offers",cd="at-content-rendering-redirect",ld=":eq(",dd=ld.length,ud=/((\.|#)(-)?\d{1})/g,pd="Unable to load target-vec.js",hd="Loading target-vec.js",fd="_AT",gd="clickHandlerForExperienceEditor",md="currentView",bd="at_qa_mode",_d="at_preview_token",vd="at_preview_index",yd="at_preview_listed_activities_only",kd="at_preview_evaluate_as_true_audience_ids",wd="at_preview_evaluate_as_false_audience_ids",Ad="at_preview_mode",Sd="at_preview",Ed="at-",Id="at-body-style",Td="#"+Id,Pd="at-views",Dd="MCAAMB",Cd="MCAAMLH",Vd="MCMID",Ld="MCOPTOUT",Nd="getSupplementalDataID",Od="getCustomerIDs",Md="trackingServer",Rd=Md+"Secure",jd="Visitor",xd="getInstance",Bd="isAllowed",Fd={},Hd="Data provider",qd=(Jl=document.createElement("canvas"),g(Zl=Jl.getContext("webgl")||Jl.getContext("experimental-webgl"))||g(Jl=Zl.getExtension("WEBGL_debug_renderer_info"))||g(Jl=Zl.getParameter(Jl.UNMASKED_RENDERER_WEBGL))?null:Jl),Ud="profile.",zd="mbox3rdPartyId",Yd="at_property",Kd="orderId",Qd="orderTotal",Gd="productPurchasedId",Wd="productId",$d="categoryId",Xd="Network request failed",Wi=function(t){return function(e){return e[t]}},Jd=function(t){return function(e){return!t(e)}},Zd=Jd(g),$i=Jd(S),a=function(t){return function(e){return f(t,e)}},eu=function(e){return e.status===Ts},tu=a(Zd),au=a($i),nu=Wi("options"),ru=Wi(Ao),iu=Wi("eventToken"),ou=Wi("responseTokens"),su=function(e){return uo(e.name)},cu=function(e){return!g(e.index)},lu=Wi("data"),du=p([lu,Zd]),uu="adobe_mc_sdid",pu="Network request failed",hu="method",fu="headers",gu="data",mu="credentials",bu="timeout",_u="async",vu=/CLKTRK#(\S+)/,yu=/CLKTRK#(\S+)\s/,ku="at-action-key",wu="metric element not found",Au="navigator",Su="sendBeacon",Eu="Beacon data sent",Iu="Beacon data sent failed",Tu="rendered",Pu={},Du=Wi("metrics"),Cu=Wi(Ao),Vu=Wi(Eo);gr.prototype={on:function(e,t,a){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:a}),this},once:function(e,t,a){function n(){r.off(e,n),t.apply(a,arguments)}var r=this;return n._=t,this.on(e,n,a)},emit:function(e){for(var t=[].slice.call(arguments,1),a=((this.e||(this.e={}))[e]||[]).slice(),n=0,r=a.length;n<r;n++)a[n].fn.apply(a[n].ctx,t);return this},off:function(e,t){var a=this.e||(this.e={}),n=a[e],r=[];if(n&&t)for(var i=0,o=n.length;i<o;i++)n[i].fn!==t&&n[i].fn._!==t&&r.push(n[i]);return r.length?a[e]=r:delete a[e],this}};var Lu=gr;Lu.TinyEmitter=gr;function Nu(e){return!w(f(eu,e))}var Ou=new Lu,Mu="Mboxes rendering failed",Ru="[page-init]",ju="[getOffer()]",xu="[getOffers()]",Bu="[applyOffer()]",Fu="[applyOffers()]",Hu="[sendNotifications()]",qu="[trackEvent()]",Uu="[triggerView()]",zu=[],Yu=0,Ku=1,Qu=Yu;br(Jc,ri),br(Zc,ri),br(el,ri);var Wi="function has been deprecated. Please use getOffer() and applyOffer() functions instead.",Gu="adobe.target.registerExtension() function has been deprecated. Please review the documentation for alternatives.",Wu="mboxCreate() "+Wi,$u="mboxDefine() "+Wi,Xu="mboxUpdate() "+Wi,Wi={init:function(e,t,a){if(e.adobe&&e.adobe.target&&void 0!==e.adobe.target.getOffer)ae("Adobe Target has already been initialized.");else{j(a);var n=il,a=n[Js];if(e.adobe=e.adobe||{},e.adobe.target=e.adobe.target||{},e.adobe.target.VERSION=a,e.adobe.target.event={LIBRARY_LOADED:ed,REQUEST_START:td,REQUEST_SUCCEEDED:ad,REQUEST_FAILED:nd,CONTENT_RENDERING_START:rd,CONTENT_RENDERING_SUCCEEDED:id,CONTENT_RENDERING_FAILED:od,CONTENT_RENDERING_NO_OFFERS:sd,CONTENT_RENDERING_REDIRECT:cd},!n[Ys])return(r=e).adobe=r.adobe||{},r.adobe.target={VERSION:"",event:{},getOffer:_o,getOffers:vo,applyOffer:_o,applyOffers:vo,sendNotifications:_o,trackEvent:_o,triggerView:_o,registerExtension:_o,init:_o},r.mboxCreate=_o,r.mboxDefine=_o,r.mboxUpdate=_o,void ae(cs);re(window,il,Z()),He(),g(n=Ke((a=e).location.search))||(r=new Date(D()+186e4),a=il[lc],a=Gi({expires:r,secure:a},a?{sameSite:tl}:{}),pl(bd,JSON.stringify(n),a)),Qe(e),e.adobe.target.getOffer=Gr,e.adobe.target.getOffers=Wr,e.adobe.target.applyOffer=$r,e.adobe.target.applyOffers=Xr,e.adobe.target.sendNotifications=Jr,e.adobe.target.trackEvent=ti,e.adobe.target.triggerView=ii,e.adobe.target.registerExtension=oi,e.mboxCreate=si,e.mboxDefine=ci,e.mboxUpdate=li,e=Ee(ed,{}),Se(window,document,ed,e)}var r},initConfig:j,initDelivery:function(){if(!J()&&!ee())return ae(Ru,cs),void oe({source:Ru,error:cs});var e=il;if(function(e){var t=e[Wc];if(!w(t)){e=t.request,t=t.response;return!w(e)&&!w(t)}}(e))Br(e);else{var t=e[Tc],a=e[Ic];if(!t&&!a)return ne(Ru,xc),void oe({source:Ru,error:xc});at();var n={};t&&(n.execute={pageLoad:{}}),a&&(n.prefetch={views:[{}]});e=e[Ws];ne(Ru,Hs,n),oe({source:Ru,request:n});var r={request:n,timeout:e};(be()&&!_e()?ve().then(function(){Qa(r).then(xr).catch(jr)}):Qa(r).then(xr)).catch(jr)}}};e.exports=Wi}},"adobe-target-v2/lib/modules/page-load.js":{script:function(e,t,a){"use strict";var n=a("../librarySettings"),r=a("@adobe/reactor-window"),i=a("./object-override"),o=a("./params-store"),s=o.getParams,c=o.getPageLoadParams,l=a("../targetSettings").targetSettings;e.exports=function(e){return l.mboxParams=s(),l.globalMboxParams=c(),i(l,e,["bodyHidingEnabled","bodyHiddenStyle"]),i(l,r.targetGlobalSettings||{},["enabled","bodyHidingEnabled","bodyHiddenStyle"]),i(l,n.TARGET_DEFAULT_SETTINGS||{},["version"]),l}}},"adobe-target-v2/lib/messages.js":{script:function(e){"use strict";e.exports={ALREADY_INITIALIZED:"AT: Adobe Target has already been initialized.",DELIVERY_DISABLED:"AT: Adobe Target content delivery is disabled. Update your DOCTYPE to support Standards mode.",NO_REQUEST:"AT: Target library is either not loaded or disabled, no request will be executed"}}},"adobe-target-v2/lib/librarySettings.js":{script:function(e){"use strict";e.exports={TARGET_DEFAULT_SETTINGS:{version:"2.6.1"}}}},"adobe-target-v2/lib/modules/object-override.js":{script:function(e){"use strict";function t(e){return!Array.isArray(this.subset)||-1!==this.subset.indexOf(e)}e.exports=function(r,i,e){Object.keys(i).filter(t,{subset:e}).forEach(function(e){var t,a,n;t=r,(a=i)[e=e]!==n&&(t[e]=a[e])})}}},"adobe-target-v2/lib/modules/params-store.js":{script:function(e,t,a){"use strict";function n(r){var i={};return Object.keys(r).forEach(function(e){var t,a,n=r[e];void 0!==(a=n)&&null!=a&&Object.prototype.hasOwnProperty.call(a,"value")&&null!=a.checked?(t=n.checked,a=n.value,t&&""===a||(i[e]=a)):i[e]=n}),i}var r=a("./object-override"),i={},o={};e.exports={mergeParams:function(e){e=n(e),r(i,e)},mergePageLoadParams:function(e){e=n(e),r(o,e)},getParams:function(){return i},getPageLoadParams:function(){return o}}}},"adobe-target-v2/lib/targetSettings.js":{script:function(e,t,a,n){"use strict";var r=n.getExtensionSettings(),n=r.targetSettings||{};e.exports={extensionSettings:r,targetSettings:n}}},"adobe-target-v2/lib/modules/load-target.js":{script:function(e,t,a,n){"use strict";var r=a("@adobe/reactor-window"),i=a("@adobe/reactor-document"),o=a("@adobe/reactor-promise"),s=a("../messages"),c=a("./params-store"),l=c.getParams,d=c.getPageLoadParams,u=a("../targetSettings").targetSettings,p=a("./object-override"),h=a("../librarySettings").TARGET_DEFAULT_SETTINGS,f=["enabled","clientCode","imsOrgId","serverDomain","cookieDomain","timeout","defaultContentHiddenStyle","defaultContentVisibleStyle","bodyHiddenStyle","bodyHidingEnabled","selectorsPollingTimeout","visitorApiTimeout","overrideMboxEdgeServer","overrideMboxEdgeServerTimeout","optoutEnabled","optinEnabled","secureOnly","supplementalDataIdParamTimeout","authoringScriptUrl","urlSizeLimit","endpoint","pageLoadEnabled","viewsEnabled","analyticsLogging","serverState","globalMboxName","decisioningMethod"];e.exports={initLibrarySettings:function(){return r.adobe&&r.adobe.target&&void 0!==r.adobe.target.getOffer?(n.logger.warn(s.ALREADY_INITIALIZED),null):(u.mboxParams=l(),u.globalMboxParams=d(),p(u,r.targetGlobalSettings||{},f),p(u,h||{},["version"]),t=(e=i).compatMode,e=e.documentMode,t&&"CSS1Compat"===t&&(!e||9<=e)||(u.enabled=!1,n.logger.warn(s.DELIVERY_DISABLED)),u);var e,t},overridePublicApi:function(e){function t(){}function a(){return o.resolve()}e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:t,getOffers:a,applyOffer:t,applyOffers:a,sendNotifications:t,trackEvent:t,triggerView:t,registerExtension:t,init:t},e.mboxCreate=t,e.mboxDefine=t,e.mboxUpdate=t}}}},"adobe-target-v2/lib/modules/optin.js":{script:function(e,t,a){"use strict";function n(e){return"undefined"===(void 0===e?"undefined":o(e))||null===e}function r(e){var t=void 0===e?"undefined":o(e);return null!==e&&("object"===t||"function"===t)}function i(e,t){return!!t&&!n(e)&&!n(e[l])&&(r((e=e[l])[d])&&r(e[c]))}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=a("@adobe/reactor-window").adobe,c="isApproved",l="optIn",d="fetchPermissions",u=a("../targetSettings").targetSettings;e.exports={shouldUseOptIn:function(){var e=u.optinEnabled;return i(s,e)},isTargetApproved:function(){var e,t=s[l];return e=t.Categories.TARGET,t[c](e)}}}},"adobe-target-v2/lib/analyticsIntegration.js":{script:function(e,t,a,n){"use strict";function r(e){var t;e&&(t=new o(function(a){function t(e){a(!1),clearTimeout(n),l(i,e,t)}var n=setTimeout(function(){a(!1)},d.targetSettings.timeout);c(i,"at-request-succeeded",function e(t){t.detail&&!0===t.detail.redirect?a(!0):a(!1),clearTimeout(n),l(i,t,e)}),c(i,"at-request-failed",t)}),e(function(e){return a=e,n=t,new o(function(t){a?n.then(function(e){e&&(a.abort=!0),t()}):t()});var a,n}))}var i=a("@adobe/reactor-document"),o=a("@adobe/reactor-promise"),s=a("./modules/event-util"),c=s.addEventListener,l=s.removeEventListener,d=a("./targetSettings").extensionSettings,u=n.getSharedModule("adobe-analytics","augment-tracker");e.exports=function(){r(u)}}},"adobe-target-v2/lib/modules/event-util.js":{script:function(e){"use strict";e.exports={addEventListener:function(e,t,a){e.addEventListener(t,a)},removeEventListener:function(e,t,a){e.removeEventListener(t,a)}}}}}},"adobe-mcid":{displayName:"Experience Cloud ID Service",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPf0412a5c65e5429ab0e5ed8ba2256510/",settings:{orgId:"1A124673527853290A490D45@AdobeOrg",variables:[{name:"trackingServer",value:"metrics.sky.it"},{name:"trackingServerSecure",value:"smetrics.sky.it"},{name:"marketingCloudServer",value:"metrics.sky.it"},{name:"marketingCloudServerSecure",value:"smetrics.sky.it"}],isIabContext:!1,doesOptInApply:!1,previousPermissions:"",isOptInStorageEnabled:!1},modules:{"adobe-mcid/src/lib/sharedModules/mcidInstance.js":{script:function(e,t,a,s){"use strict";var n,r=a("@adobe/reactor-document"),i=a("../codeLibrary/VisitorAPI"),c=a("../../view/utils/timeUnits"),o=null;_satellite.getVisitorId=function(){return o},n=r.location.pathname,(s.getExtensionSettings().pathExclusions||[]).some(function(e){return e.valueIsRegex?new RegExp(e.value,"i").test(n):e.value===n})?s.logger.warn("MCID library not loaded. One of the path exclusions matches the current path."):o=function(e){var t=s.getExtensionSettings();if("string"!=typeof t.orgId)throw new TypeError("Org ID is not a string.");var a=(t.variables||[]).reduce(function(e,t){var a=/^(true|false)$/i.test(t.value)?JSON.parse(t.value):t.value;return e[t.name]=a,e},{}),n=t.doesOptInApply;n&&("boolean"==typeof n?a.doesOptInApply=n:t.optInCallback&&(a.doesOptInApply=t.optInCallback));var r=t.isOptInStorageEnabled;r&&(a.isOptInStorageEnabled=r);var i=t.optInCookieDomain;i&&(a.optInCookieDomain=i);n=t.optInStorageExpiry;n?(i=t.timeUnit)&&c[i]&&(i=n*c[i],a.optInStorageExpiry=i):!0===r&&(a.optInStorageExpiry=33696e3);r=t.previousPermissions;r&&(a.previousPermissions=r);r=t.preOptInApprovals;r?a.preOptInApprovals=r:(o=t.preOptInApprovalInput)&&(a.preOptInApprovals=o);var o=t.isIabContext;o&&(a.isIabContext=o);e=e.getInstance(t.orgId,a);return s.logger.info('Created instance using orgId: "'+t.orgId+'"'),s.logger.info("Set variables: "+JSON.stringify(a)),e.getMarketingCloudVisitorID(function(e){s.logger.info("Obtained Marketing Cloud Visitor Id: "+e)},!0),e}(i),e.exports=o},name:"mcid-instance",shared:!0},"adobe-mcid/src/lib/codeLibrary/VisitorAPI.js":{script:function(e){e.exports=(function(){"use strict";function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t,a){t=null==e?void 0:e[t];return void 0===t?a:t}function a(e,t){if(e===t)return 0;e=e.toString().split("."),t=t.toString().split(".");return function(e){for(var t=/^\d+$/,a=0,n=e.length;a<n;a++)if(!t.test(e[a]))return;return 1}(e.concat(t))?(function(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}(e,t),function(e,t){for(var a=0;a<e.length;a++){var n=parseInt(e[a],10),r=parseInt(t[a],10);if(r<n)return 1;if(n<r)return-1}return 0}(e,t)):NaN}function n(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function t(){function t(e,t){var a,e=le(e);return e.length?e.every(function(e){return!!t[e]}):(a=t,!!(e=Object.keys(a)).length&&e.every(function(e){return!0===a[e]}))}function n(){E(A),S(R),m(g.status,g.permissions),s&&f.set(g.permissions,{optInCookieDomain:c,optInStorageExpiry:l}),b.execute(be)}function e(a){return function(e,t){if(!de(e))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return S(M),Object.assign(A,T(le(e),a)),t||n(),g}}var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=a.doesOptInApply,i=a.previousPermissions,o=a.preOptInApprovals,s=a.isOptInStorageEnabled,c=a.optInCookieDomain,l=a.optInStorageExpiry,d=a.isIabContext,u=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).cookies,a=ce(_=i,"function")?_():_;C(a,"Invalid `previousPermissions`!"),C(o,"Invalid `preOptInApprovals`!");var p,h,f=function(e,t){var n=(0<arguments.length&&void 0!==e?e:{}).cookieName,r=(1<arguments.length&&void 0!==t?t:{}).cookies;if(!n||!r)return{get:ge,set:ge,remove:ge};var i={remove:function(){r.remove(n)},get:function(){var e=r.get(n),t={};try{t=JSON.parse(e)}catch(e){t={}}return t},set:function(e,t){t=t||{};var a=i.get(),e=Object.assign(a,e);r.set(n,JSON.stringify(e),{domain:t.optInCookieDomain||"",cookieLifetime:t.optInStorageExpiry||3419e4,expires:!0})}};return i}({cookieName:"adobeujs-optin"},{cookies:u}),g=this,m=(p={},(i=g).on=function(e,t,a){if(!t||"function"!=typeof t)throw new Error("[ON] Callback should be a function.");p.hasOwnProperty(e)||(p[e]=[]);var n=p[e].push({callback:t,context:a})-1;return function(){p[e].splice(n,1),p[e].length||delete p[e]}},i.off=function(e,t){p.hasOwnProperty(e)&&(p[e]=p[e].filter(function(e){if(e.callback!==t)return e}))},i.publish=function(e){var t;p.hasOwnProperty(e)&&(t=[].slice.call(arguments,1),p[e].slice(0).forEach(function(e){e.callback.apply(e.context,t)}))},i.publish),b=I(),_=D(a),v=D(o),u=s?f.get():{},y={},k=(i=u,pe(_)||i&&pe(i)?R:O),w=(a=v,i=_,_=u,u=T(ae,!r),r?Object.assign({},u,a,i,_):u),A=P(w),S=function(e){return k=e},E=function(e){return w=e};g.deny=e(!1),g.approve=e(!0),g.denyAll=g.deny.bind(g,ae),g.approveAll=g.approve.bind(g,ae),g.isApproved=function(e){return t(e,g.permissions)},g.isPreApproved=function(e){return t(e,v)},g.fetchPermissions=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],a=t?g.on(R,e):ge;return!r||g.isComplete||o?e(g.permissions):t||b.add(be,function(){return e(g.permissions)}),a},g.complete=function(){g.status===M&&n()},g.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error("[OptIn#registerPlugin] Plugin is invalid.");y[e.name]||(y[e.name]=e).onRegister.call(e,g)},g.execute=(h=y,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.command,a=e.params,a=void 0===a?{}:a,e=e.callback,e=void 0===e?ge:e;if(!t||-1===t.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var n=t.split("."),r=h[n[0]],i=n[1];if(!r||"function"!=typeof r[i])throw new Error("Make sure the plugin and API name exist.");var o=Object.assign(a,{callback:e});r[i].call(r,o)}catch(e){se.error("[execute] Something went wrong: "+e.message)}}),g.memoizeContent=function(e){fe(e)&&f.set(e,{optInCookieDomain:c,optInStorageExpiry:l})},g.getMemoizedContent=function(e){var t=f.get();if(t)return t[e]},Object.defineProperties(g,{permissions:{get:function(){return w}},status:{get:function(){return k}},Categories:{get:function(){return j}},doesOptInApply:{get:function(){return!!r}},isPending:{get:function(){return g.status===O}},isComplete:{get:function(){return g.status===R}},__plugins:{get:function(){return Object.keys(y)}},isIabContext:{get:function(){return d}}})}function s(e,t){if(void 0===t)return e;var a=setTimeout(function(){a=null,e.call(e,new n("The call took longer than you wanted!"))},t);return function(){a&&(clearTimeout(a),e.apply(e,arguments))}}function l(t,e,a){a=2<arguments.length&&void 0!==a?a:[],e=!0===t.vendor.consents[e],a=a.every(function(e){return!0===t.purpose.consents[e]});return e&&a}var q="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,a,n=1;n<arguments.length;++n)for(t in a=arguments[n])Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);return e};function f(i){function a(){}this.getMarketingCloudVisitorID=function(e){var t=this.findField(d.MCMID,e=e||a),e=function(a,n){var r=this;return function(){var e=i(0,a),t={};return t[a]=e,r.setStateAndPublish(t),n(e),e}}.call(this,d.MCMID,e);return void 0!==t?t:e()},this.getVisitorValues=function(t){this.getMarketingCloudVisitorID(function(e){t({MCMID:e})})}}function g(){function n(){}Object.keys(p).forEach(function(a){this[p[a]]=function(e){var t=this.findField(a,e=e||n),e=function(e,t){var a=this;return function(){return a.callbackRegistry.add(e,t),a.messageParent(u.GETSTATE),""}}.call(this,a,e);return void 0!==t?t:e()}},this),Object.keys(h).forEach(function(e){this[h[e]]=function(){return this.findField(e,n)||{}}},this)}function m(){Object.keys(b).forEach(function(t){this[b[t]]=function(e){this.callbackRegistry.add(t,e)}},this)}function U(n,r){this.parse=function(e){try{var a={};return e.data.split("|").forEach(function(e,t){void 0!==e&&(a[y[t]]=2!==t?e:JSON.parse(e))}),a}catch(e){}},this.isInvalid=function(e){var t=this.parse(e);if(!t||Object.keys(t).length<2)return!0;var a=n!==t.orgID,e=!r||e.origin!==r,t=-1===Object.keys(v).indexOf(t.prefix);return a||e||t},this.send=function(e,t,a){t=t+"|"+n;a&&a===Object(a)&&(t+="|"+JSON.stringify(a));try{e.postMessage(t,r)}catch(e){}}}function o(e,t,a,n){function r(e){Object.assign(d,e)}function i(e){h.isInvalid(e)||(p=!1,e=h.parse(e),d.setStateAndPublish(e.state))}function o(e){!p&&u&&(p=!0,h.send(n,e))}function s(){r(new f(a._generateID)),d.getMarketingCloudVisitorID(),d.callbackRegistry.executeAll(d.state,!0),q.removeEventListener("message",c)}function c(e){h.isInvalid(e)||(e=h.parse(e),p=!1,q.clearTimeout(d._handshakeTimeout),q.removeEventListener("message",c),r(new g),q.addEventListener("message",i),d.setStateAndPublish(e.state),d.callbackRegistry.hasCallbacks()&&o(k.GETSTATE))}function l(){Object.keys(a).forEach(function(e){0!==e.indexOf("_")&&"function"==typeof a[e]&&(d[e]=function(){})}),d.getSupplementalDataID=a.getSupplementalDataID,d.isAllowed=function(){return!0}}var d=this,u=t.whitelistParentDomain;d.state={ALLFIELDS:{}},d.version=a.version,d.marketingCloudOrgID=e,d.cookieDomain=a.cookieDomain||"";var p=!(d._instanceType="child"),h=new U(e,u);d.callbackRegistry=_(),d.init=function(){q.s_c_in||(q.s_c_il=[],q.s_c_in=0),d._c="Visitor",d._il=q.s_c_il,d._in=q.s_c_in,d._il[d._in]=d,q.s_c_in++,l(),r(new m),u&&postMessage?(q.addEventListener("message",c),o(k.HANDSHAKE),d._handshakeTimeout=setTimeout(s,250)):s()},d.findField=function(e,t){if(void 0!==d.state[e])return t(d.state[e]),d.state[e]},d.messageParent=o,d.setStateAndPublish=function(e){Object.assign(d.state,e),Object.assign(d.state.ALLFIELDS,e),d.callbackRegistry.executeAll(d.state)}}function z(r,i){function t(n){return function e(){var t,a=(t=[],r._loading&&Object.keys(r._loading).forEach(function(e){r._loading[e]&&(e=E[e],t.push(e))}),t.length?t:null);a?(a=S[a[0]],r[a](e,!0)):n()}}function n(e,t){var a,n=(a={},Object.keys(A).forEach(function(e){var t=A[e],t=r[t]();$.isValueEmpty(t)||(a[e]=t)}),a);i.send(e,t,n)}function a(e){var t,a;t=e,a=r.setCustomerIDs,r.setCustomerIDs=function(e){a.call(r,e),i.send(t,w.PARENTSTATE,{CUSTOMERIDS:r.getCustomerIDs()})},n(e,w.HANDSHAKE)}return function(e){i.isInvalid(e)||(i.parse(e).prefix===w.HANDSHAKE?a:function(e){t(function(){n(e,w.PARENTSTATE)})()})(e.source)}}function Y(r,i){var o={},s=0,c=Object.keys(r).length;Object.keys(r).forEach(function(e){var t,a,n=r[e];n.fn&&((t=n.args||[]).unshift((a=e,function(e){o[a]=e,++s===c&&i(o)})),n.fn.apply(n.context||null,t))})}function K(e,t){for(var a=(e=!e&&q.location?q.location.hostname:e).split("."),n=t||{},r=a.length-2;0<=r;r--)if(n.domain=a.slice(r).join("."),X.set("test","cookie",n))return X.remove("test",n),n.domain;return""}function Q(e){var t,a,n="0123456789",r="",i="",o=8,s=10,c=10;if(1==e){for(n+="ABCDEF",t=0;t<16;t++)a=Math.floor(Math.random()*o),r+=n.substring(a,a+1),a=Math.floor(Math.random()*o),i+=n.substring(a,a+1),o=16;return r+"-"+i}for(t=0;t<19;t++)a=Math.floor(Math.random()*s),r+=n.substring(a,a+1),0===t&&9==a?s=3:((1==t||2==t)&&10!=s&&a<2||2<t)&&(s=10),a=Math.floor(Math.random()*c),i+=n.substring(a,a+1),0===t&&9==a?c=3:((1==t||2==t)&&10!=c&&a<2||2<t)&&(c=10);return r+i}function G(n){return{corsMetadata:function(){var e={}.constructor.getOwnPropertyDescriptor(window,"XMLHttpRequest"),t={}.constructor.getOwnPropertyDescriptor(window,"XMLHttpRequest");try{return e&&{}.constructor.defineProperty(window,"XMLHttpRequest",$___mock_d10464d93b0eabb1.XMLHttpRequest),t&&{}.constructor.defineProperty(window,"XMLHttpRequest",$___mock_d10464d93b0eabb1.XMLHttpRequest),function(){var e="none",t=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),0<Object.prototype.toString.call(q.HTMLElement).indexOf("Constructor")&&(t=!1)),{corsType:e,corsCookiesEnabled:t}}.apply(this,arguments)}finally{e&&{}.constructor.defineProperty(window,"XMLHttpRequest",e),t&&{}.constructor.defineProperty(window,"XMLHttpRequest",t)}}(),getCORSInstance:function(){var e={}.constructor.getOwnPropertyDescriptor(window,"XMLHttpRequest"),t={}.constructor.getOwnPropertyDescriptor(window,"XMLHttpRequest");try{return e&&{}.constructor.defineProperty(window,"XMLHttpRequest",$___mock_d10464d93b0eabb1.XMLHttpRequest),t&&{}.constructor.defineProperty(window,"XMLHttpRequest",$___mock_d10464d93b0eabb1.XMLHttpRequest),function(){return"none"===this.corsMetadata.corsType?null:new q[this.corsMetadata.corsType]}.apply(this,arguments)}finally{e&&{}.constructor.defineProperty(window,"XMLHttpRequest",e),t&&{}.constructor.defineProperty(window,"XMLHttpRequest",t)}},fireCORS:function(i,e){var o=this;e&&(i.loadErrorHandler=e);try{var t=this.getCORSInstance();t.open("get",i.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(t.withCredentials=!0,t.timeout=n.loadTimeout,t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.onreadystatechange=function(){4===this.readyState&&200===this.status&&function(e){var t;try{if((t=JSON.parse(e))!==Object(t))return o.handleCORSError(i,null,"Response is not JSON")}catch(e){return o.handleCORSError(i,e,"Error parsing response as JSON")}try{for(var a=i.callback,n=q,r=0;r<a.length;r++)n=n[a[r]];n(t)}catch(e){o.handleCORSError(i,e,"Error forming callback function")}}(this.responseText)}),t.onerror=function(e){o.handleCORSError(i,e,"onerror")},t.ontimeout=function(e){o.handleCORSError(i,e,"ontimeout")},t.send(),n._log.requests.push(i.corsUrl)}catch(e){this.handleCORSError(i,e,"try-catch")}},handleCORSError:function(e,t,a){n.CORSErrors.push({corsData:e,error:t,description:a}),e.loadErrorHandler&&("ontimeout"===a?e.loadErrorHandler(!0):e.loadErrorHandler(!1))}}}function I(){var r={};return r.callbacks=Object.create(null),r.add=function(e,t){if(!("function"==typeof(a=t)||a instanceof Array&&a.length))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");var a;r.callbacks[e]=r.callbacks[e]||[];var n=r.callbacks[e].push(t)-1;return function(){r.callbacks[e].splice(n,1)}},r.execute=function(e,t){if(r.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;r.callbacks[e].length;){var a=r.callbacks[e].shift();"function"==typeof a?a.apply(null,t):a instanceof Array&&a[1].apply(a[0],t)}delete r.callbacks[e]}catch(e){}}},r.executeAll=function(a,e){(e||a&&((e=a)!==Object(e)||0!==Object.keys(e).length))&&Object.keys(r.callbacks).forEach(function(e){var t=void 0!==a[e]?a[e]:"";r.execute(e,t)},r)},r.hasCallbacks=function(){return Boolean(Object.keys(r.callbacks).length)},r}function r(n,r,e){return e()?function(){if(re(n)){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];console[n].apply(console,[r].concat(t))}}:ne}function T(e,a){return e.reduce(function(e,t){return e[t]=a,e},{})}function P(e){return JSON.parse(JSON.stringify(e))}function D(e){if(fe(e))return e;try{return JSON.parse(e)}catch(e){return{}}}function C(e,t){pe(e)||se.error("".concat(t))}var i,W={MESSAGES:{HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},STATE_KEYS_MAP:{MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},ASYNC_API_MAP:{MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},SYNC_API_MAP:{CUSTOMERIDS:"getCustomerIDs"},ALL_APIS:{MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},FIELDGROUP_TO_FIELD:{MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},FIELDS:{MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},AUTH_STATE:{UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},OPT_OUT:{GLOBAL:"global"},SAME_SITE_VALUES:{LAX:"Lax",STRICT:"Strict",NONE:"None"}},d=W.STATE_KEYS_MAP,u=W.MESSAGES,p=W.ASYNC_API_MAP,h=W.SYNC_API_MAP,b=W.ASYNC_API_MAP,$=(function(t){t.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},t.isValueEmpty=function(e){return""===e||t.isObjectEmpty(e)};var e=function(){var e=navigator.appName,t=navigator.userAgent;return"Microsoft Internet Explorer"===e||t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0&&t.indexOf("Windows NT 6")>=0};t.getIeVersion=function(){return document.documentMode?document.documentMode:e()?7:null},t.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},t.isObject=function(e){return null!==e&&"object"===H(e)&&!1===Array.isArray(e)},t.defineGlobalNamespace=function(){return window.adobe=t.isObject(window.adobe)?window.adobe:{},window.adobe},t.pluck=function(a,e){return e.reduce(function(e,t){return a[t]&&(e[t]=a[t]),e},Object.create(null))},t.parseOptOut=function(e,t,a){t||(t=a,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var n=parseInt(e.d_ottl,10);return isNaN(n)&&(n=7200),{optOut:t,d_ottl:n}},t.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}}((ye={exports:{}}).exports),ye.exports),_=($.isObjectEmpty,$.isValueEmpty,$.getIeVersion,$.encodeAndBuildRequest,$.isObject,$.defineGlobalNamespace,$.pluck,$.parseOptOut,$.normalizeBoolean,function(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var a=this.callbacks[e].push(t)-1,n=this;return function(){n.callbacks[e].splice(a,1)}},execute:function(e,t){if(this.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var a=this.callbacks[e].shift();"function"==typeof a?a.apply(null,t):a instanceof Array&&a[1].apply(a[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(a,e){(e||a&&!$.isObjectEmpty(a))&&Object.keys(this.callbacks).forEach(function(e){var t=void 0!==a[e]?a[e]:"";this.execute(e,t)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}),v=W.MESSAGES,y={0:"prefix",1:"orgID",2:"state"},k=W.MESSAGES,w=W.MESSAGES,A=W.ALL_APIS,S=W.ASYNC_API_MAP,E=W.FIELDGROUP_TO_FIELD,X={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),a=t.indexOf(";"+e+"="),n=a<0?a:t.indexOf(";",a+1);return a<0?"":decodeURIComponent(t.substring(a+2+e.length,n<0?t.length:n))},set:function(e,t,a){var n=c(a,"cookieLifetime"),r=c(a,"expires"),i=c(a,"domain"),o=c(a,"secure"),s=c(a,"sameSite"),a=o?"Secure":"",o=s?"SameSite="+s+";":"";return r&&"SESSION"!==n&&"NONE"!==n?(s=""!==t?parseInt(n||0,10):-60)?(r=new Date).setTime(r.getTime()+1e3*s):1===r&&(s=(r=new Date).getYear(),r.setYear(s+2+(s<1900?1900:0))):r=0,e&&"NONE"!==n?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(r?" expires="+r.toGMTString()+";":"")+(i?" domain="+i+";":"")+o+a,this.get(e)===t):0},remove:function(e,t){var a=(a=c(t,"domain"))?" domain="+a+";":"",n=c(t,"secure"),t=c(t,"sameSite"),n=n?"Secure":"",t=t?"SameSite="+t+";":"";document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+a+t+n}},J=function(e,t){return a(e,t)<0},Z=function(e,t){return 0!==a(e,t)},V=!!q.postMessage,ee={postMessage:function(e,t,a){t&&(V?a.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(a.location=t.replace(/#.*$/,"")+"#"+ +new Date+"1&"+e))},receiveMessage:function(t,a){var e;try{V&&(t&&(e=function(e){if("string"==typeof a&&e.origin!==a||"[object Function]"===Object.prototype.toString.call(a)&&!1===a(e.origin))return!1;t(e)}),q.addEventListener?q[t?"addEventListener":"removeEventListener"]("message",e):q[t?"attachEvent":"detachEvent"]("onmessage",e))}catch(t){}}},te={POST_MESSAGE_ENABLED:!!q.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},L={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{type:"boolean"},disableThirdPartyCalls:{type:"boolean"},discardTrackingServerECID:{type:"boolean"},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{type:"boolean"},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{type:"boolean"},disableThirdPartyCookies:{type:"boolean"},idSyncDisableSyncs:{type:"boolean"},disableIdSyncs:{type:"boolean"},idSyncIDCallResult:{},idSyncSSLUseAkamai:{type:"boolean"},isCoopSafe:{type:"boolean"},isIabContext:{type:"boolean"},isOptInStorageEnabled:{type:"boolean"},loadSSL:{type:"boolean"},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{type:"boolean"},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{type:"boolean"},sameSiteCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},useLocalStorage:{type:"boolean"},whitelistIframeDomains:{},whitelistParentDomain:{}},N={getConfigNames:function(){return Object.keys(L)},getConfigs:function(){return L},normalizeConfig:function(e,t){return!L[e]||"boolean"!==L[e].type||"function"!=typeof t?t:t()}},O="pending",M="changed",R="complete",j={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",MEDIA_ANALYTICS:"mediaaa"},x=(e(ie={},j.AAM,565),e(ie,j.ECID,565),ie),B=(e(ye={},j.AAM,[1,10]),e(ye,j.ECID,[1,10]),ye),F=["videoaa","iabConsentHash"],ae=(i=j,Object.keys(i).map(function(e){return i[e]})),ne=function(){},re=function(e){var t=window.console;return!!t&&"function"==typeof t[e]},ie=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){return!0};this.log=r("log",e,t),this.warn=r("warn",e,t),this.error=r("error",e,t)},oe=function(){for(var r=[],e=0;e<256;e++){for(var t=e,a=0;a<8;a++)t=1&t?3988292384^t>>>1:t>>>1;r.push(t)}return function(e,t){e=unescape(encodeURIComponent(e)),t=t||0,t^=-1;for(var a=0;a<e.length;a++){var n=255&(t^e.charCodeAt(a));t=t>>>8^r[n]}return(-1^t)>>>0}}(),se=new ie("[ADOBE OPT-IN]"),ce=function(e,t){return H(e)===t},le=function(e,t){return e instanceof Array?e:ce(e,"string")?[e]:t||[]},de=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return!(!e||ue(e))&&le(e).every(function(e){return-1<ae.indexOf(e)||t&&-1<F.indexOf(e)})},ue=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},pe=function(e){return void 0===e||(fe(e)?de(Object.keys(e),!0):he(e))},he=function(e){try{var t=JSON.parse(e);return!!e&&ce(e,"string")&&de(Object.keys(t),!0)}catch(e){return!1}},fe=function(e){return null!==e&&ce(e,"object")&&!1===Array.isArray(e)},ge=function(){},me=function(t){return Object.keys(t).map(function(e){return t[e]})};(n.prototype=Object.create(Error.prototype)).constructor=n;var be="fetchPermissions";t.Categories=j,t.TimeoutError=n;function _e(e,t){return e="SHA-256"===t||"SHA256"===t||"sha256"===t||"sha-256"===t?ke(e):e}function ve(e){return String(e).trim().toLowerCase()}var ye=Object.freeze({OptIn:t,IabPlugin:function(){var e=this;e.name="iabPlugin",e.version="0.0.2";var r,i=I(),o={transparencyAndConsentData:null};e.fetchConsentData=function(e){e=s(e.callback,e.timeout);t({callback:e})},e.isApproved=function(e){var a=e.callback,n=e.category,e=e.timeout;if(o.transparencyAndConsentData)return a(null,l(o.transparencyAndConsentData,x[n],B[n]));e=s(function(e,t){a(e,l(t,x[n],B[n]))},e);t({category:n,callback:e})},e.onRegister=function(n){r=n;var t=Object.keys(x);e.fetchConsentData({callback:function(e,a){!e&&a&&(t.forEach(function(e){var t=l(a,x[e],B[e]);n[t?"approve":"deny"](e,!0)}),n.complete())}})};var t=function(e){e=e.callback;if(o.transparencyAndConsentData)return e(null,o.transparencyAndConsentData);i.add("FETCH_CONSENT_DATA",e),a(function(e,t){var a,n;t&&(a=P(e),n=r.getMemoizedContent("iabConsentHash"),t=oe(a.tcString).toString(32),a.consentString=e.tcString,a.hasConsentChangedSinceLastCmpPull=n!==t,function(e){o[e]=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}}("transparencyAndConsentData",a),r.memoizeContent({iabConsentHash:t})),i.execute("FETCH_CONSENT_DATA",[null,o.transparencyAndConsentData])})},a=function(e){var t=me(x).filter(function(e,t,a){return a.indexOf(e)===t}),a=function(){if(window.__tcfapi)return window.__tcfapi;var i,e=window;if(e!==window.top){for(;!i;){e=e.parent;try{e.frames.__tcfapiLocator&&(i=e)}catch(e){}if(e===window.top)break}if(i){var o={};return window.__tcfapi=function(e,t,a,n){var r=Math.random()+"",t={__tcfapiCall:{command:e,parameter:n,version:t,callId:r}};o[r]=a,i.postMessage(t,"*")},window.addEventListener("message",function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}t.__tcfapiReturn&&(t=t.__tcfapiReturn,"function"==typeof o[t.callId]&&(o[t.callId](t.returnValue,t.success),delete o[t.callId]))},!1),window.__tcfapi}se.error("__tcfapi not found")}else se.error("__tcfapi not found")}();"function"==typeof a&&a("getTCData",2,e,t)}}}),ke=function e(t){function a(e,t){return e>>>t|e<<32-t}for(var n,r=Math.pow,i=r(2,32),o="",s=[],c=8*t.length,l=e.h=e.h||[],d=e.k=e.k||[],u=d.length,p={},h=2;u<64;h++)if(!p[h]){for(m=0;m<313;m+=h)p[m]=h;l[u]=r(h,.5)*i|0,d[u++]=r(h,1/3)*i|0}for(t+="";t.length%64-56;)t+="\0";for(m=0;m<t.length;m++){if((n=t.charCodeAt(m))>>8)return;s[m>>2]|=n<<(3-m)%4*8}for(s[s.length]=c/i|0,s[s.length]=c,n=0;n<s.length;){for(var f=s.slice(n,n+=16),g=l,l=l.slice(0,8),m=0;m<64;m++){var b=f[m-15],_=f[m-2],v=l[0],y=l[4],_=l[7]+(a(y,6)^a(y,11)^a(y,25))+(y&l[5]^~y&l[6])+d[m]+(f[m]=m<16?f[m]:f[m-16]+(a(b,7)^a(b,18)^b>>>3)+f[m-7]+(a(_,17)^a(_,19)^_>>>10)|0);(l=[_+((a(v,2)^a(v,13)^a(v,22))+(v&l[1]^v&l[2]^l[1]&l[2]))|0].concat(l))[4]=l[4]+_|0}for(m=0;m<8;m++)l[m]=l[m]+g[m]|0}for(m=0;m<8;m++)for(n=3;n+1;n--){var k=l[m]>>8*n&255;o+=(k<16?0:"")+k.toString(16)}return o},ie=ye.OptIn;$.defineGlobalNamespace(),window.adobe.OptInCategories=ie.Categories;ie=function(n,a,e){function u(){h._customerIDsHashChanged=!1}function t(e){var n=e;return function(e){var t=e||v.location.href;try{var a=h._extractParamFromUri(t,n);if(a)return L.parsePipeDelimetedKeyValues(a)}catch(e){}}}function r(e){h._supplementalDataIDCurrent=(e=e||{}).supplementalDataIDCurrent||"",h._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},h._supplementalDataIDLast=e.supplementalDataIDLast||"",h._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function i(e){return(e=(e=e.reduce(function(e,t){var a=t[0],n=t[1];return e=null!=n&&n!==P?(t=(t=e)&&t+"|")+(a+"=")+encodeURIComponent(n):e},""))&&e+"|")+"TS="+L.getTimestampInSeconds()}function c(){return h.configs.doesOptInApply&&h.configs.isIabContext?f.optIn.isApproved(f.optIn.Categories.ECID)&&b:f.optIn.isApproved(f.optIn.Categories.ECID)}function o(){[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["syncIdentity",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach(function(e){var t=e[0],a=2===e.length?e[1]:"",n=h[t];h[t]=function(e){return c()&&h.isAllowed()?n.apply(h,arguments):("function"==typeof e&&h._callCallback(e,[a]),a)}})}function s(e,t){if(b=!0,e)throw new Error("[IAB plugin] : "+e);t&&t.gdprApplies&&(g=t.consentString,m=t.hasConsentChangedSinceLastCmpPull?1:0),e=h._getAudienceManagerURLData(),t=e.url,h._loadData(A,t,null,e),p()}function l(e,t){if(b=!0,e)throw new Error("[IAB plugin] : "+e);t.gdprApplies&&(g=t.consentString,m=t.hasConsentChangedSinceLastCmpPull?1:0),h.init(),p()}function d(){f.optIn.isComplete&&(f.optIn.isApproved(f.optIn.Categories.ECID)?h.configs.isIabContext?f.optIn.execute({command:"iabPlugin.fetchConsentData",callback:l}):(h.init(),p()):h.configs.isIabContext?f.optIn.execute({command:"iabPlugin.fetchConsentData",callback:s}):(o(),p()))}function p(){f.optIn.off("complete",d)}if(!e||e.split("").reverse().join("")!==n)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var h=this,f=window.adobe,g="",m=0,b=!1,_=!1;h.version="5.2.0";var v=q,y=v.Visitor;y.version=h.version,y.AuthState=W.AUTH_STATE,y.OptOut=W.OPT_OUT,v.s_c_in||(v.s_c_il=[],v.s_c_in=0),h._c="Visitor",h._il=v.s_c_il,h._in=v.s_c_in,h._il[h._in]=h,v.s_c_in++,h._instanceType="regular",h._log={requests:[]},h.marketingCloudOrgID=n,h.cookieName="AMCV_"+n,h.sessionCookieName="AMCVS_"+n;e={};a&&a.secureCookie&&a.sameSiteCookie&&(e={sameSite:a.sameSiteCookie,secure:a.secureCookie}),h.cookieDomain=h.useLocalStorage?"":K(null,e),h.loadSSL=!0,h.loadTimeout=3e4,h.CORSErrors=[],h.marketingCloudServer=h.audienceManagerServer="dpm.demdex.net",h.sdidParamExpiry=30;function k(e){return!Object.prototype[e]}var w=null,A="MC",S="MCMID",E="MCAID",I="AAM",T="MCAAMB",P="NONE",D=G(h);h.FIELDS=W.FIELDS,h.cookieRead=function(e){return h.useLocalStorage?(e===h.sessionCookieName?sessionStorage:localStorage).getItem(e):X.get(e)},h.cookieWrite=function(e,t,a){var n=""+t;if(h.useLocalStorage)return(e===h.sessionCookieName?sessionStorage:localStorage).setItem(e,n);t=h.cookieLifetime?(""+h.cookieLifetime).toUpperCase():"",t={expires:a,domain:h.cookieDomain,cookieLifetime:t};return h.configs&&h.configs.secureCookie&&"https:"===location.protocol&&(t.secure=!0),h.configs&&h.configs.sameSiteCookie&&"https:"===location.protocol&&(t.sameSite=W.SAME_SITE_VALUES[h.configs.sameSiteCookie.toUpperCase()]||"Lax"),X.set(e,n,t)},h.removeCookie=function(e){if(h.useLocalStorage)return(e===h.sessionCookieName?sessionStorage:localStorage).removeItem(e);var t={domain:h.cookieDomain};return h.configs&&h.configs.secureCookie&&"https:"===location.protocol&&(t.secure=!0),h.configs&&h.configs.sameSiteCookie&&"https:"===location.protocol&&(t.sameSite=W.SAME_SITE_VALUES[h.configs.sameSiteCookie.toUpperCase()]||"Lax"),X.remove(e,t)},h.resetState=function(e){e?h._mergeServerState(e):r()},h._isAllowedDone=!1,h._isAllowedFlag=!1,h.isAllowed=function(){return h._isAllowedDone||(h._isAllowedDone=!0,(h.cookieRead(h.cookieName)||h.cookieWrite(h.cookieName,"T",1))&&(h._isAllowedFlag=!0)),"T"===h.cookieRead(h.cookieName)&&h.removeCookie(h.cookieName),h._isAllowedFlag},h.setMarketingCloudVisitorID=function(e){h._setMarketingCloudFields(e)},h._use1stPartyMarketingCloudServer=!1,h.getMarketingCloudVisitorID=function(e,t){h.marketingCloudServer&&h.marketingCloudServer.indexOf(".demdex.net")<0&&(h._use1stPartyMarketingCloudServer=!0);var a=h._getAudienceManagerURLData("_setMarketingCloudFields"),n=a.url;return h._getRemoteField(S,n,e,t,a)};h.getVisitorValues=function(e,t){var a,n,r,i={MCMID:{fn:h.getMarketingCloudVisitorID,args:[!0],context:h},MCOPTOUT:{fn:h.isOptedOut,args:[void 0,!0],context:h},MCAID:{fn:h.getAnalyticsVisitorID,args:[!0],context:h},MCAAMLH:{fn:h.getAudienceManagerLocationHint,args:[!0],context:h},MCAAMB:{fn:h.getAudienceManagerBlob,args:[!0],context:h}},i=t&&t.length?$.pluck(i,t):i;t&&-1===t.indexOf("MCAID")?(a=e,n=t,r={},h.getMarketingCloudVisitorID(function(){n.forEach(function(e){r[e]=h._getField(e,!0)}),-1!==n.indexOf("MCOPTOUT")?h.isOptedOut(function(e){r.MCOPTOUT=e,a(r)},null,!0):a(r)},!0)):Y(i,e)},h._currentCustomerIDs={},h._customerIDsHashChanged=!1,h._newCustomerIDsHash="",h.setCustomerIDs=function(e,t){if(!h.isOptedOut()&&e){if(!$.isObject(e)||$.isObjectEmpty(e))return!1;var a,n,r,i;for(a in h._readVisitor(),e)if(k(a)&&(h._currentCustomerIDs.dataSources=h._currentCustomerIDs.dataSources||{},t=(n=e[a]).hasOwnProperty("hashType")?n.hashType:t,n))if("object"===H(n)){var o={};if(n.id){if(t){if(!(i=_e(ve(n.id),t)))return;n.id=i,o.hashType=t}o.id=n.id}null!=n.authState&&(o.authState=n.authState),h._currentCustomerIDs.dataSources[a]=o}else if(t){if(!(i=_e(ve(n),t)))return;h._currentCustomerIDs.dataSources[a]={id:i,hashType:t}}else h._currentCustomerIDs.dataSources[a]={id:n};var s=h.getCustomerIDs(!0),c="",l=(l=h._getField("MCCIDH"))||0;for(r in s){var d=s[r];if(!$.isObjectEmpty(d))for(a in d)k(a)&&(c+=(c?"|":"")+a+"|"+((n=d[a]).id?n.id:"")+(n.authState||""))}h._newCustomerIDsHash=String(h._hash(c)),h._newCustomerIDsHash!==l&&(h._customerIDsHashChanged=!0,h._mapCustomerIDs(u))}},h.syncIdentity=function(e,t){if(!h.isOptedOut()&&e){if(!$.isObject(e)||$.isObjectEmpty(e))return!1;var a,n,r,i;for(a in h._readVisitor(),e)if(k(a)&&(h._currentCustomerIDs.nameSpaces=h._currentCustomerIDs.nameSpaces||{},t=(n=e[a]).hasOwnProperty("hashType")?n.hashType:t,n&&"object"===H(n))){var o={};if(n.id){if(t){if(!(r=_e(ve(n.id),t)))return;n.id=r,o.hashType=t}o.id=n.id}null!=n.authState&&(o.authState=n.authState),n.dataSource&&(h._currentCustomerIDs.dataSources=h._currentCustomerIDs.dataSources||{},r=n.dataSource,h._currentCustomerIDs.dataSources[r]=o),h._currentCustomerIDs.nameSpaces[a]=o}var s=h.getCustomerIDs(!0),c="",l=(l=h._getField("MCCIDH"))||"0";for(i in s){var d=s[i];if(!$.isObjectEmpty(d))for(a in d)k(a)&&(c+=(c?"|":"")+a+"|"+((n=d[a]).id?n.id:"")+(n.authState||""))}h._newCustomerIDsHash=String(h._hash(c)),h._newCustomerIDsHash!==l&&(h._customerIDsHashChanged=!0,h._mapCustomerIDs(u))}},h.getCustomerIDs=function(e){h._readVisitor();var t,a,n={dataSources:{},nameSpaces:{}},r=h._currentCustomerIDs.dataSources;for(t in r)k(t)&&(a=r[t]).id&&(n.dataSources[t]||(n.dataSources[t]={}),n.dataSources[t].id=a.id,null!=a.authState?n.dataSources[t].authState=a.authState:n.dataSources[t].authState=y.AuthState.UNKNOWN,a.hashType&&(n.dataSources[t].hashType=a.hashType));var i=h._currentCustomerIDs.nameSpaces;for(t in i)k(t)&&(a=i[t]).id&&(n.nameSpaces[t]||(n.nameSpaces[t]={}),n.nameSpaces[t].id=a.id,null!=a.authState?n.nameSpaces[t].authState=a.authState:n.nameSpaces[t].authState=y.AuthState.UNKNOWN,a.hashType&&(n.nameSpaces[t].hashType=a.hashType));return e?n:n.dataSources},h.setAnalyticsVisitorID=function(e){h._setAnalyticsFields(e)},h.getAnalyticsVisitorID=function(e,t,a){if(!L.isTrackingServerPopulated()&&!a)return h._callCallback(e,[""]),"";var n="";if((n=!a?h.getMarketingCloudVisitorID(function(){h.getAnalyticsVisitorID(e,!0)}):n)||a){var r=a?h.marketingCloudServer:h.trackingServer,i="";h.loadSSL&&(a?h.marketingCloudServerSecure&&(r=h.marketingCloudServerSecure):h.trackingServerSecure&&(r=h.trackingServerSecure));var o,s={};return r&&(o="http"+(h.loadSSL?"s":"")+"://"+r+"/id",r="d_visid_ver="+h.version+"&mcorgid="+encodeURIComponent(h.marketingCloudOrgID)+(n?"&mid="+encodeURIComponent(n):"")+(h.idSyncDisable3rdPartySyncing||h.disableThirdPartyCookies?"&d_coppa=true":""),n=["s_c_il",h._in,"_set"+(a?"MarketingCloud":"Analytics")+"Fields"],i=o+"?"+r+"&callback=s_c_il%5B"+h._in+"%5D._set"+(a?"MarketingCloud":"Analytics")+"Fields",s.corsUrl=o+"?"+r,s.callback=n),s.url=i,h._getRemoteField(a?S:E,i,e,t,s)}return""},h.getAudienceManagerLocationHint=function(e,t){if(h.getMarketingCloudVisitorID(function(){h.getAudienceManagerLocationHint(e,!0)})){var a=h._getField(E);if((a=!a&&L.isTrackingServerPopulated()?h.getAnalyticsVisitorID(function(){h.getAudienceManagerLocationHint(e,!0)}):a)||!L.isTrackingServerPopulated()){var n=h._getAudienceManagerURLData(),a=n.url;return h._getRemoteField("MCAAMLH",a,e,t,n)}}return""},h.getLocationHint=h.getAudienceManagerLocationHint,h.getAudienceManagerBlob=function(e,t){if(h.getMarketingCloudVisitorID(function(){h.getAudienceManagerBlob(e,!0)})){var a=h._getField(E);if((a=!a&&L.isTrackingServerPopulated()?h.getAnalyticsVisitorID(function(){h.getAudienceManagerBlob(e,!0)}):a)||!L.isTrackingServerPopulated()){var n=h._getAudienceManagerURLData(),a=n.url;return h._customerIDsHashChanged&&h._setFieldExpire(T,-1),h._getRemoteField(T,a,e,t,n)}}return""},h._supplementalDataIDCurrent="",h._supplementalDataIDCurrentConsumed={},h._supplementalDataIDLast="",h._supplementalDataIDLastConsumed={};var C=!(h.getSupplementalDataID=function(e,t){h._supplementalDataIDCurrent||t||(h._supplementalDataIDCurrent=h._generateID(1));var a=h._supplementalDataIDCurrent;return h._supplementalDataIDLast&&!h._supplementalDataIDLastConsumed[e]?(a=h._supplementalDataIDLast,h._supplementalDataIDLastConsumed[e]=!0):a&&(h._supplementalDataIDCurrentConsumed[e]&&(h._supplementalDataIDLast=h._supplementalDataIDCurrent,h._supplementalDataIDLastConsumed=h._supplementalDataIDCurrentConsumed,h._supplementalDataIDCurrent=a=t?"":h._generateID(1),h._supplementalDataIDCurrentConsumed={}),a&&(h._supplementalDataIDCurrentConsumed[e]=!0)),a});h._liberatedOptOut=null,h.getOptOut=function(e,t){var a=h._getAudienceManagerURLData("_setMarketingCloudFields"),n=a.url;if(c())return h._getRemoteField("MCOPTOUT",n,e,t,a);if(h._registerCallback("liberatedOptOut",e),null!==h._liberatedOptOut)return h._callAllCallbacks("liberatedOptOut",[h._liberatedOptOut]),C=!1,h._liberatedOptOut;if(C)return null;C=!0;e="liberatedGetOptOut";return a.corsUrl=a.corsUrl.replace(/\.demdex\.net\/id\?/,".demdex.net/optOutStatus?"),a.callback=[e],q[e]=function(e){var t;e===Object(e)&&(t=(e=$.parseOptOut(e,t,P)).optOut,e=1e3*e.d_ottl,h._liberatedOptOut=t,setTimeout(function(){h._liberatedOptOut=null},e)),h._callAllCallbacks("liberatedOptOut",[t]),C=!1},D.fireCORS(a),null};var V={subscribed:!(h.isOptedOut=function(t,a,e){a=a||y.OptOut.GLOBAL;e=h.getOptOut(function(e){e=e===y.OptOut.GLOBAL||0<=e.indexOf(a);h._callCallback(t,[e])},e);return e?e===y.OptOut.GLOBAL||0<=e.indexOf(a):null}),callbacks:[]};h.onReceiveEcid=function(e){if(c())return h.getMarketingCloudVisitorID(e,!0);V.subscribed=!0,e&&"function"==typeof e&&V.callbacks.push(e)},h._fields=null,h._fieldsExpired=null,h._hash=function(e){var t,a=0;if(e)for(t=0;t<e.length;t++)a=(a<<5)-a+e.charCodeAt(t),a&=a;return a},h._generateID=Q,h._generateLocalMID=function(){var e=h._generateID(0);return F.isClientSideMarketingCloudVisitorID=!0,e},h._callbackList=null,h._callCallback=function(e,t){try{"function"==typeof e?e.apply(v,t):e[1].apply(e[0],t)}catch(e){}},h._registerCallback=function(e,t){t&&(null==h._callbackList&&(h._callbackList={}),null==h._callbackList[e]&&(h._callbackList[e]=[]),h._callbackList[e].push(t))},h._callAllCallbacks=function(e,t){if(null!=h._callbackList){var a=h._callbackList[e];if(a)for(;0<a.length;)h._callCallback(a.shift(),t)}},h._addQuerystringParam=function(e,t,a,n){var r=encodeURIComponent(t)+"="+encodeURIComponent(a),t=L.parseHash(e),a=L.hashlessUrl(e);if(-1===a.indexOf("?"))return a+"?"+r+t;e=a.split("?"),a=e[0]+"?",e=e[1];return a+L.addQueryParamAtLocation(e,r,n)+t},h._extractParamFromUri=function(e,t){e=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(e&&e.length)return decodeURIComponent(e[1])},h._parseAdobeMcFromUrl=t(te.ADOBE_MC),h._parseAdobeMcSdidFromUrl=t(te.ADOBE_MC_SDID),h._attemptToPopulateSdidFromUrl=function(e){var t=h._parseAdobeMcSdidFromUrl(e),e=1e9;t&&t.TS&&(e=L.getTimestampInSeconds()-t.TS),t&&t.SDID&&t.MCORGID===n&&e<h.sdidParamExpiry&&(h._supplementalDataIDCurrent=t.SDID,h._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},h._attemptToPopulateIdsFromUrl=function(){var e,t=h._parseAdobeMcFromUrl();function a(e,t,a){e&&e.match(te.VALID_VISITOR_ID_REGEX)&&(a===S&&(_=!0),t(e))}t&&t.TS&&(e=L.getTimestampInSeconds()-t.TS,Math.floor(e/60)>te.ADOBE_MC_TTL_IN_MIN||t.MCORGID!==n||(a((t=t)[S],h.setMarketingCloudVisitorID,S),h._setFieldExpire(T,-1),a(t[E],h.setAnalyticsVisitorID)))},h._mergeServerState=function(e){if(e)try{var t;n=e,(e=L.isObject(n)?n:JSON.parse(n))[h.marketingCloudOrgID]&&(t=e[h.marketingCloudOrgID],a=t.customerIDs,L.isObject(a)&&h.setCustomerIDs(a),r(t.sdid))}catch(e){throw new Error("`serverState` has an invalid format.")}var a,n},h._timeout=null,h._loadData=function(e,t,a,n){t=h._addQuerystringParam(t,"d_fieldgroup",e,1),n.url=h._addQuerystringParam(n.url,"d_fieldgroup",e,1),n.corsUrl=h._addQuerystringParam(n.corsUrl,"d_fieldgroup",e,1),F.fieldGroupObj[e]=!0,n===Object(n)&&n.corsUrl&&"XMLHttpRequest"===D.corsMetadata.corsType&&D.fireCORS(n,a,e)},h._clearTimeout=function(e){null!=h._timeout&&h._timeout[e]&&(clearTimeout(h._timeout[e]),h._timeout[e]=0)},h._settingsDigest=0,h._getSettingsDigest=function(){var e;return h._settingsDigest||(e=h.version,h.audienceManagerServer&&(e+="|"+h.audienceManagerServer),h.audienceManagerServerSecure&&(e+="|"+h.audienceManagerServerSecure),h._settingsDigest=h._hash(e)),h._settingsDigest},h._readVisitorDone=!1,h._readVisitor=function(){if(!h._readVisitorDone){h._readVisitorDone=!0;var e,t,a,n,r,i=h._getSettingsDigest(),o=!1,s=h.cookieRead(h.cookieName),c=new Date;if(s||_||h.discardTrackingServerECID||(s=h.cookieRead(te.FIRST_PARTY_SERVER_COOKIE)),null==h._fields&&(h._fields={}),s&&"T"!==s)for((s=s.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(s[0],10)!==i&&(o=!0),s.shift()),s.length%2==1&&s.pop(),e=0;e<s.length;e+=2)t=(r=s[e].split("-"))[0],a=s[e+1],r=1<r.length?(n=parseInt(r[1],10),0<r[1].indexOf("s")):(n=0,!1),o&&("MCCIDH"===t&&(a=""),0<n&&(n=c.getTime()/1e3-60)),t&&a&&(h._setField(t,a,1),0<n&&(h._fields["expire"+t]=n+(r?"s":""),(c.getTime()>=1e3*n||r&&!h.cookieRead(h.sessionCookieName))&&(h._fieldsExpired||(h._fieldsExpired={}),h._fieldsExpired[t]=!0)));!h._getField(E)&&L.isTrackingServerPopulated()&&(s=h.cookieRead("s_vi"))&&1<(s=s.split("|")).length&&0<=s[0].indexOf("v1")&&((a=0<=(e=(a=s[1]).indexOf("["))?a.substring(0,e):a)&&a.match(te.VALID_VISITOR_ID_REGEX)&&h._setField(E,a))}},h._appendVersionTo=function(e){var t="vVersion|"+h.version,a=e?h._getCookieVersion(e):null;return a?Z(a,h.version)&&(e=e.replace(te.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},h._writeVisitor=function(){var e,t,a=h._getSettingsDigest();for(e in h._fields)k(e)&&h._fields[e]&&"expire"!==e.substring(0,6)&&(t=h._fields[e],a+=(a?"|":"")+e+(h._fields["expire"+e]?"-"+h._fields["expire"+e]:"")+"|"+t);a=h._appendVersionTo(a),h.cookieWrite(h.cookieName,a,1)},h._getField=function(e,t){return null==h._fields||!t&&h._fieldsExpired&&h._fieldsExpired[e]?null:h._fields[e]},h._setField=function(e,t,a){null==h._fields&&(h._fields={}),h._fields[e]=t,a||h._writeVisitor()},h._getFieldList=function(e,t){t=h._getField(e,t);return t?t.split("*"):null},h._setFieldList=function(e,t,a){h._setField(e,t?t.join("*"):"",a)},h._getFieldMap=function(e,t){var a=h._getFieldList(e,t);if(a){for(var n={},r=0;r<a.length;r+=2)n[a[r]]=a[r+1];return n}return null},h._setFieldMap=function(e,t,a){var n,r=null;if(t)for(n in r=[],t)k(n)&&(r.push(n),r.push(t[n]));h._setFieldList(e,r,a)},h._setFieldExpire=function(e,t,a){var n=new Date;n.setTime(n.getTime()+1e3*t),null==h._fields&&(h._fields={}),h._fields["expire"+e]=Math.floor(n.getTime()/1e3)+(a?"s":""),t<0?(h._fieldsExpired||(h._fieldsExpired={}),h._fieldsExpired[e]=!0):h._fieldsExpired&&(h._fieldsExpired[e]=!1),a&&(h.cookieRead(h.sessionCookieName)||h.cookieWrite(h.sessionCookieName,"1"))},h._findVisitorID=function(e){return e&&((e=(e="object"===H(e)?e.d_mid||e.visitorID||e.id||e.uuid||""+e:e)&&"NOTARGET"===(e=e.toUpperCase())?P:e)&&(e===P||e.match(te.VALID_VISITOR_ID_REGEX))||(e="")),e},h._setFields=function(e,t){if(h._clearTimeout(e),null!=h._loading&&(h._loading[e]=!1),F.fieldGroupObj[e]&&F.setState(e,!1),e===A){!0!==F.isClientSideMarketingCloudVisitorID&&(F.isClientSideMarketingCloudVisitorID=!1);var a=h._getField(S);if(!a||h.overwriteCrossDomainMCIDAndAID){if(!(a="object"===H(t)&&t.mid?t.mid:h._findVisitorID(t))){if(h._use1stPartyMarketingCloudServer&&!h.tried1stPartyMarketingCloudServer)return h.tried1stPartyMarketingCloudServer=!0,void h.getAnalyticsVisitorID(null,!1,!0);a=h._generateLocalMID()}h._setField(S,a)}a&&a!==P||(a=""),"object"===H(t)&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&h._setFields(I,t),h._use1stPartyMarketingCloudServer&&t.mid&&h._setFields("A",{id:t.id})),h._callAllCallbacks(S,[a])}var n,r,i;e===I&&"object"===H(t)&&(n=604800,null!=t.id_sync_ttl&&t.id_sync_ttl&&(n=parseInt(t.id_sync_ttl,10)),a=R.getRegionAndCheckIfChanged(t,n),h._callAllCallbacks("MCAAMLH",[a]),a=h._getField(T),(t.d_blob||t.blob)&&((a=t.d_blob)||(a=t.blob),h._setFieldExpire(T,n),h._setField(T,a)),h._callAllCallbacks(T,[a=a||""]),!t.error_msg&&h._newCustomerIDsHash&&h._setField("MCCIDH",h._newCustomerIDsHash)),"A"===e&&((r=h._getField(E))&&!h.overwriteCrossDomainMCIDAndAID||((r=h._findVisitorID(t))?r!==P&&h._setFieldExpire(T,-1):r=P,h._setField(E,r)),h._callAllCallbacks(E,[r=!r||r===P?"":r])),h.idSyncDisableSyncs||h.disableIdSyncs?R.idCallNotProcesssed=!0:(R.idCallNotProcesssed=!1,(r={}).ibs=t.ibs,r.subdomain=t.subdomain,R.processIDCallData(r)),t===Object(t)&&(c()&&h.isAllowed()&&(i=h._getField("MCOPTOUT")),i=(t=$.parseOptOut(t,i,P)).optOut,t=t.d_ottl,h._setFieldExpire("MCOPTOUT",t,!0),h._setField("MCOPTOUT",i),h._callAllCallbacks("MCOPTOUT",[i]))},h._loading=null,h._getRemoteField=function(t,e,a,n,r){var i,o="",s=L.isFirstPartyAnalyticsVisitorIDCall(t);if(c()&&h.isAllowed())if(h._readVisitor(),!(!(o=h._getField(t,!0==={MCAAMLH:!0,MCAAMB:!0}[t]))||h._fieldsExpired&&h._fieldsExpired[t])||h.disableThirdPartyCalls&&!s)o||(t===S?(h._registerCallback(t,a),o=h._generateLocalMID(),h.setMarketingCloudVisitorID(o)):t===E?(h._registerCallback(t,a),o="",h.setAnalyticsVisitorID(o)):n=!(o=""));else if(t===S||"MCOPTOUT"===t?i=A:"MCAAMLH"===t||t===T?i=I:t===E&&(i="A"),i)return!e||null!=h._loading&&h._loading[i]||(null==h._loading&&(h._loading={}),h._loading[i]=!0,i===I&&(m=0),h._loadData(i,e,function(e){h._getField(t)||(e&&F.setState(i,!0),e="",t===S?e=h._generateLocalMID():i===I&&(e={error_msg:"timeout"}),h._setFields(i,e))},r)),h._registerCallback(t,a),o||(e||h._setFields(i,{id:P}),"");return t!==S&&t!==E||o!==P||(n=!(o="")),a&&n&&h._callCallback(a,[o]),t===S&&V.subscribed&&(V.callbacks&&V.callbacks.length&&V.callbacks.forEach(function(e){h._callCallback(e,[o])}),V.subscribed=!1,V.callbacks.length=0),o},h._setMarketingCloudFields=function(e){h._readVisitor(),h._setFields(A,e)},h._mapCustomerIDs=function(e){h.getAudienceManagerBlob(e,!0)},h._setAnalyticsFields=function(e){h._readVisitor(),h._setFields("A",e)},h._setAudienceManagerFields=function(e){h._readVisitor(),h._setFields(I,e)},h._getAudienceManagerURLData=function(e){var t=h.audienceManagerServer,a="",n=h._getField(S),r=h._getField(T,!0),i=h._getField(E),o=i&&i!==P?"&d_cid_ic=AVID%01"+encodeURIComponent(i):"";if(t=h.loadSSL&&h.audienceManagerServerSecure?h.audienceManagerServerSecure:t){var s,c,l,d=h.getCustomerIDs(!0);if(d)for(c in d){var u=d[c];if(!$.isObjectEmpty(u)){var p="nameSpaces"===c?"&d_cid_ns=":"&d_cid_ic=";for(s in u)k(s)&&(l=u[s],o+=p+encodeURIComponent(s)+"%01"+encodeURIComponent(l.id||"")+(l.authState?"%01"+l.authState:""))}}e=e||"_setAudienceManagerFields";t="http"+(h.loadSSL?"s":"")+"://"+t+"/id",n="d_visid_ver="+h.version+(g&&-1!==t.indexOf("demdex.net")?"&gdpr=1&gdpr_consent="+g:"")+(m&&-1!==t.indexOf("demdex.net")?"&d_cf="+m:"")+"&d_rtbd=json&d_ver=2"+(!n&&h._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(h.marketingCloudOrgID)+"&d_nsid="+(h.idSyncContainerID||0)+(n?"&d_mid="+encodeURIComponent(n):"")+(h.idSyncDisable3rdPartySyncing||h.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===w?"&d_coop_safe=1":!1===w?"&d_coop_unsafe=1":"")+(r?"&d_blob="+encodeURIComponent(r):"")+o,r=["s_c_il",h._in,e];return{url:a=t+"?"+n+"&d_cb=s_c_il%5B"+h._in+"%5D."+e,corsUrl:t+"?"+n,callback:r}}return{url:a}},h.appendVisitorIDsTo=function(e){try{var t=[[S,h._getField(S)],[E,h._getField(E)],["MCORGID",h.marketingCloudOrgID]];return h._addQuerystringParam(e,te.ADOBE_MC,i(t))}catch(t){return e}},h.appendSupplementalDataIDTo=function(e,t){if(!(t=t||h.getSupplementalDataID(L.generateRandomString(),!0)))return e;try{var a=i([["SDID",t],["MCORGID",h.marketingCloudOrgID]]);return h._addQuerystringParam(e,te.ADOBE_MC_SDID,a)}catch(t){return e}};var L={parseHash:function(e){var t=e.indexOf("#");return 0<t?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return 0<t?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,a){e=e.split("&");return a=null!=a?a:e.length,e.splice(a,0,t),e.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,a){return e===E&&(t=t||h.trackingServer,a=a||h.trackingServerSecure,!("string"!=typeof(t=h.loadSSL?a:t)||!t.length)&&t.indexOf("2o7.net")<0&&t.indexOf("omtrdc.net")<0)},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){X.remove(e,{domain:h.cookieDomain})},isTrackingServerPopulated:function(){return!!h.trackingServer||!!h.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce(function(e,t){t=t.split("=");return e[t[0]]=decodeURIComponent(t[1]),e},{})},generateRandomString:function(e){e=e||5;for(var t="",a="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=a[Math.floor(Math.random()*a.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var a in e)e.hasOwnProperty(a)&&"function"==typeof e[a]&&(e[a]=t);return e}};h._helpers=L;var N,O,M,R=(N=h,O=y,M=q.document,{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){e=e.split("/");return e[0]+"//"+e[2]}},subdomain:null,url:null,getUrl:function(){var e="http://fast.",t="?d_nsid="+N.idSyncContainerID+"#"+encodeURIComponent(M.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),t=(e=N.loadSSL?N.idSyncSSLUseAkamai?"https://fast.":"https://":e)+this.subdomain+".demdex.net/dest5.html"+t,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+this.subdomain+"_"+N.idSyncContainerID,t},checkDPIframeSrc:function(){var e="?d_nsid="+N.idSyncContainerID+"#"+encodeURIComponent(M.location.href);"string"==typeof N.dpIframeSrc&&N.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(N._subdomain||this.subdomain||(new Date).getTime())+"_"+N.idSyncContainerID,this.iframeHost=this.getIframeHost(N.dpIframeSrc),this.url=N.dpIframeSrc+e)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:te.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(N.idSyncDisableSyncs||N.disableIdSyncs||N.idSyncDisable3rdPartySyncing||N.disableThirdPartyCookies||N.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||N._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||N._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(n=M.createElement("iframe")).sandbox="allow-scripts allow-same-origin",n.title="Adobe ID Syncing iFrame",n.id=a.id,n.name=a.id+"_name",n.style.cssText="display: none; width: 0; height: 0;",n.src=a.url,a.newIframeCreated=!0,t(),M.body.appendChild(n)}function t(e){n.addEventListener("load",function(){n.className="aamIframeLoaded",a.iframeHasLoaded=!0,a.fireIframeLoadedCallbacks(e),a.requestToProcess()})}this.startedAttachingIframe=!0;var a=this,n=M.getElementById(this.id);n?"IFRAME"!==n.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==n.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=n,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=n},fireIframeLoadedCallbacks:function(t){this.iframeLoadedCallbacks.forEach(function(e){"function"==typeof e&&e({message:t||"The destination publishing iframe was attached and loaded successfully."})}),this.iframeLoadedCallbacks=[]},requestToProcess:function(e){function t(){r.jsonForComparison.push(e),r.jsonWaiting.push(e),r.processSyncOnPage(e)}var a,n,r=this;if(e===Object(e)&&e.ibs)if(a=JSON.stringify(e.ibs||[]),this.jsonForComparison.length){for(var i,o=!1,s=0,c=this.jsonForComparison.length;s<c;s++)if(i=this.jsonForComparison[s],a===JSON.stringify(i.ibs||[])){o=!0;break}o?this.jsonDuplicates.push(e):t()}else t();(this.receivedThirdPartyCookiesNotification||!te.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length&&(n=this.jsonWaiting.shift(),this.process(n),this.requestToProcess()),N.idSyncDisableSyncs||N.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){r.messageSendingInterval=te.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(e,t){var a=N._getField("MCAAMLH"),e=e.d_region||e.dcs_region;return a?e&&(N._setFieldExpire("MCAAMLH",t),N._setField("MCAAMLH",e),parseInt(a,10)!==e&&(this.regionChanged=!0,this.timesRegionChanged++,N._setField("MCSYNCSOP",""),N._setField("MCSYNCS",""),a=e)):(a=e)&&(N._setFieldExpire("MCAAMLH",t),N._setField("MCAAMLH",a)),a=a||""},processSyncOnPage:function(e){var t,a,n,r;if((t=e.ibs)&&t instanceof Array&&(a=t.length))for(n=0;n<a;n++)(r=t[n]).syncOnPage&&this.checkFirstPartyCookie(r,"","syncOnPage")},process:function(e){var t,a,n,r,i,o=encodeURIComponent,s=!1;if((t=e.ibs)&&t instanceof Array&&(a=t.length))for(s=!0,n=0;n<a;n++)r=t[n],i=[o("ibs"),o(r.id||""),o(r.tag||""),$.encodeAndBuildRequest(r.url||[],","),o(r.ttl||""),"","",r.fireURLSync?"true":"false"],r.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(i.join("|")):r.fireURLSync&&this.checkFirstPartyCookie(r,i.join("|")));s&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(e,t,a){var n="syncOnPage"===a,r=n?"MCSYNCSOP":"MCSYNCS";N._readVisitor();var i,o,s,c=N._getField(r),a=Math.ceil((new Date).getTime()/te.MILLIS_PER_DAY);c?(i=c.split("*"),o=(c=this.pruneSyncData(i,e.id,a)).dataPresent,s=c.dataValid,o&&s||this.fireSync(n,e,t,i,r,a)):this.fireSync(n,e,t,i=[],r,a)},pruneSyncData:function(e,t,a){for(var n,r,i=!1,o=!1,s=0;s<e.length;s++)n=e[s],r=parseInt(n.split("-")[1],10),n.match("^"+t+"-")?(i=!0,a<r?o=!0:(e.splice(s,1),s--)):r<=a&&(e.splice(s,1),s--);return{dataPresent:i,dataValid:o}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(e,t,a,n,d,r){var u=this;if(e){if("img"===t.tag)for(var i=t.url,o=N.loadSSL?"https:":"http:",s=0,c=i.length;s<c;s++){var l=i[s],p=/^\/\//.test(l),h=new Image;h.addEventListener("load",function(o,s,c,l){return function(){u.onPagePixels[o]=null,N._readVisitor();var e,t,a,n,r=N._getField(d),i=[];if(r)for(t=0,a=(e=r.split("*")).length;t<a;t++)(n=e[t]).match("^"+s.id+"-")||i.push(n);u.setSyncTrackingData(i,s,c,l)}}(this.onPagePixels.length,t,d,r)),h.src=(p?o:"")+l,this.onPagePixels.push(h)}}else this.addMessage(a),this.setSyncTrackingData(n,t,d,r)},addMessage:function(e){var t=encodeURIComponent(N._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((te.POST_MESSAGE_ENABLED?"":t)+e)},setSyncTrackingData:function(e,t,a,n){e.push(t.id+"-"+(n+Math.ceil(t.ttl/60/24))),this.manageSyncsSize(e),N._setField(a,e.join("*"))},sendMessages:function(){var e,t=this,a="",n=encodeURIComponent;this.regionChanged&&(a=n("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?te.POST_MESSAGE_ENABLED?(e=a+n("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(a+e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){ee.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t=/^---destpub-to-parent---/;"string"==typeof e&&t.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(t,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(e){(null==this.url||e.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof N._subdomain&&N._subdomain.length?this.subdomain=N._subdomain:this.subdomain=e.subdomain||"",this.url=this.getUrl()),e.ibs instanceof Array&&e.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(N.idSyncAttachIframeOnWindowLoad?!O.windowLoaded&&"complete"!==M.readyState&&"loaded"!==M.readyState||this.attachIframe():this.attachIframeASAP()),"function"==typeof N.idSyncIDCallResult?N.idSyncIDCallResult(e):this.requestToProcess(e),"function"==typeof N.idSyncAfterIDCallResult&&N.idSyncAfterIDCallResult(e)},canMakeSyncIDCall:function(e,t){return N._forceSyncIDCall||!e||t-e>te.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){var t=this;!function e(){t.startedAttachingIframe||(M.body?t.attachIframe():setTimeout(e,30))}()}});h._destinationPublishing=R,h.timeoutMetricsLog=[];var j,x,B,F={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case A:!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case"A":!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case I:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};h.isClientSideMarketingCloudVisitorID=function(){return F.isClientSideMarketingCloudVisitorID},h.MCIDCallTimedOut=function(){return F.MCIDCallTimedOut},h.AnalyticsIDCallTimedOut=function(){return F.AnalyticsIDCallTimedOut},h.AAMIDCallTimedOut=function(){return F.AAMIDCallTimedOut},h.idSyncGetOnPageSyncInfo=function(){return h._readVisitor(),h._getField("MCSYNCSOP")},h.idSyncByURL=function(e){if(!h.isOptedOut()){var t=(i=(n=e||{}).minutesToLive,r="",(h.idSyncDisableSyncs||h.disableIdSyncs)&&(r=r||"Error: id syncs have been disabled"),"string"==typeof n.dpid&&n.dpid.length||(r=r||"Error: config.dpid is empty"),"string"==typeof n.url&&n.url.length||(r=r||"Error: config.url is empty"),void 0===i?i=20160:(i=parseInt(i,10),(isNaN(i)||i<=0)&&(r=r||"Error: config.minutesToLive needs to be a positive number")),{error:r,ttl:i});if(t.error)return t.error;var a=e.url,n=encodeURIComponent,r=R,a=a.replace(/^https:/,"").replace(/^http:/,""),i=$.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),i=["ibs",n(e.dpid),"img",n(a),t.ttl,"",i];return r.addMessage(i.join("|")),r.requestToProcess(),"Successfully queued"}var n,r},h.idSyncByDataSource=function(e){if(!h.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,h.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},B=R,(x=h).publishDestinations=function(e){var t=arguments[1],a=arguments[2];try{a="function"==typeof a?a:e.callback}catch(e){a=function(){}}var n=B;if(n.readyToAttachIframePreliminary()){if("string"==typeof e){if(!e.length)return void a({error:"subdomain is not a populated string."});if(!(t instanceof Array&&t.length))return void a({error:"messages is not a populated array."});var r=!1;if(t.forEach(function(e){"string"==typeof e&&e.length&&(n.addMessage(e),r=!0)}),!r)return void a({error:"None of the messages are populated strings."})}else{if(!$.isObject(e))return void a({error:"Invalid parameters passed."});t=e;if("string"!=typeof(e=t.subdomain)||!e.length)return void a({error:"config.subdomain is not a populated string."});t=t.urlDestinations;if(!(t instanceof Array&&t.length))return void a({error:"config.urlDestinations is not a populated array."});var i=[];t.forEach(function(e){$.isObject(e)&&(e.hideReferrer?e.message&&n.addMessage(e.message):i.push(e))}),function a(){i.length&&setTimeout(function(){var e=new Image,t=i.shift();e.src=t.url,n.onPageDestinationsFired.push(t),a()},100)}()}n.iframe?(a({message:"The destination publishing iframe is already attached and loaded."}),n.requestToProcess()):!x.subdomain&&x._getField("MCMID")?(n.subdomain=e,n.doAttachIframe=!0,n.url=n.getUrl(),n.readyToAttachIframe()?(n.iframeLoadedCallbacks.push(function(e){a({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})}),n.attachIframe()):a({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):n.iframeLoadedCallbacks.push(function(e){a({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})})}else a({error:"The destination publishing iframe is disabled in the Visitor library."})},h._getCookieVersion=function(e){e=e||h.cookieRead(h.cookieName);e=te.VERSION_REGEX.exec(e);return e&&1<e.length?e[1]:null},h._resetAmcvCookie=function(e){var t=h._getCookieVersion();t&&!J(t,e)||h.removeCookie(h.cookieName)},h.setAsCoopSafe=function(){w=!0},h.setAsCoopUnsafe=function(){w=!1},function(){if(h.configs=Object.create(null),L.isObject(a))for(var e in a)k(e)&&(h[e]=a[e],h.configs[e]=a[e])}(),o(),h.init=function(){var e,t;(!h.configs.doesOptInApply||f.optIn.isComplete&&c()||(f.optIn.fetchPermissions(d,!0),f.optIn.isApproved(f.optIn.Categories.ECID)))&&!j&&(j=!0,L.isObject(a)?(h.idSyncContainerID=h.idSyncContainerID||0,w="boolean"==typeof h.isCoopSafe?h.isCoopSafe:L.parseBoolean(h.isCoopSafe),h.resetBeforeVersion&&h._resetAmcvCookie(h.resetBeforeVersion),h._attemptToPopulateIdsFromUrl(),h._attemptToPopulateSdidFromUrl(),h._readVisitor(),e=h._getField("MCIDTS"),t=Math.ceil((new Date).getTime()/te.MILLIS_PER_DAY),h.idSyncDisableSyncs||h.disableIdSyncs||!R.canMakeSyncIDCall(e,t)||(h._setFieldExpire(T,-1),h._setField("MCIDTS",t)),h.getMarketingCloudVisitorID(),h.getAudienceManagerLocationHint(),h.getAudienceManagerBlob(),h._mergeServerState(h.serverState)):(h._attemptToPopulateIdsFromUrl(),h._attemptToPopulateSdidFromUrl()),function(){if(!h.idSyncDisableSyncs&&!h.disableIdSyncs){R.checkDPIframeSrc();v.addEventListener("load",function(){var e;y.windowLoaded=!0,(e=R).readyToAttachIframe()&&e.attachIframe()});try{ee.receiveMessage(function(e){R.receiveMessage(e.data)},R.iframeHost)}catch(e){}}}(),h.whitelistIframeDomains&&te.POST_MESSAGE_ENABLED&&(h.whitelistIframeDomains=h.whitelistIframeDomains instanceof Array?h.whitelistIframeDomains:[h.whitelistIframeDomains],h.whitelistIframeDomains.forEach(function(e){var t=new U(n,e),t=z(h,t);ee.receiveMessage(t,e)})))}};ie.config=N;var we=q.Visitor=ie,Ae=ye.OptIn,Se=ye.IabPlugin;function Ee(){we.windowLoaded=!0}we.getInstance=function(n,e){if(!n)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");n.indexOf("@")<0&&(n+="@AdobeOrg");var t=function(){var e=q.s_c_il;if(e)for(var t=0;t<e.length;t++){var a=e[t];if(a&&"Visitor"===a._c&&a.marketingCloudOrgID===n)return a}}();if(t)return t;var a,r=function(n){if($.isObject(n))return Object.keys(n).filter(function(e){return""!==n[e]&&N.getConfigs()[e]}).reduce(function(e,t){var a=N.normalizeConfig(t,n[t]),a=$.normalizeBoolean(a);return e[t]=a,e},Object.create(null))}(e)||{};a=r||{},q.adobe.optIn=q.adobe.optIn||function(){var e=$.pluck(a,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext"]),t=(t=(t=a.optInCookieDomain||a.cookieDomain)||K())===window.location.hostname?"":t;e.optInCookieDomain=t;t=new Ae(e,{cookies:X});return e.isIabContext&&e.doesOptInApply&&(e=new Se,t.registerPlugin(e)),t}();var i=n.split("").reverse().join(""),t=new we(n,null,i);r.cookieDomain&&(t.cookieDomain=r.cookieDomain),r.sameSiteCookie&&r.secureCookie&&(t.configs={sameSiteCookie:r.sameSiteCookie,secureCookie:r.secureCookie}),q.s_c_il.splice(--q.s_c_in,1);e=$.getIeVersion();if("number"==typeof e&&e<10)return t._helpers.replaceMethodsWithFunction(t,function(){});i=function(){try{return q.self!==q.parent}catch(e){return 1}}()&&((e=t).cookieWrite("TEST_AMCV_COOKIE","T",1),"T"!==e.cookieRead("TEST_AMCV_COOKIE")||(e.removeCookie("TEST_AMCV_COOKIE"),0))&&q.parent?new o(n,r,t,q.parent):new we(n,r,i),t=null;return i.init(),i},q.addEventListener?q.addEventListener("load",Ee):q.attachEvent&&q.attachEvent("onload",Ee),we.codeLoadEnd=(new Date).getTime()}(),Visitor)}},"adobe-mcid/src/view/utils/timeUnits.js":{script:function(e){e.exports={Hours:3600,Days:86400,Weeks:604800,Months:2592e3,Years:31536e3}}}}},clicktale:{displayName:"Clicktale Tag Injector",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP4d83bfe125da46f2b5b2fcacec043b9f/",settings:{guid:"08ba93bd-9505-4259-aaa7-fe3212daac4e",partition:"www16",piiselector:"",multipleconditions:"[]"},modules:{"clicktale/src/lib/actions/deployclicktale.js":{name:"deployclicktale",displayName:"Deploy Clicktale",script:function(module,exports,require,turbine){"use strict";function Base64Decode(e){return decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var loadScript=require("@adobe/reactor-load-script"),extensionSettings=turbine.getExtensionSettings(),partition=extensionSettings.partition,guid=extensionSettings.guid,piiselector=extensionSettings.piiselector,multipleconditions=extensionSettings.multipleconditions||"[]",multipleconditions=JSON.parse(multipleconditions);if(multipleconditions&&multipleconditions.forEach(function(index){var definition=index.definition,definition=definition.replace(/&#39;/g,"'");if(eval(definition))return guid=index.guid,void(partition=index.partition)}),piiselector){try{piiselector=Base64Decode(extensionSettings.piiselector)}catch(e){piiselector=extensionSettings.piiselector}window.ClickTalePIISelector=piiselector}module.exports=function(){function e(){var e=a.createElementNS,t=e?e.call(a,"http://www.w3.org/1999/xhtml",n):a.createElement(n),e=a.getElementsByTagName(n)[0];t.async=!0,t.crossOrigin="anonymous",t.type="text/javascript",t.src=r,e.parentNode.insertBefore(t,e)}var a,n,r;partition&&guid&&(window.clickTaleTagInjected||(a=document,n="script",r="https://cdnssl.clicktale.net/"+partition+"/ptc/"+guid+".js",window.clickTaleTagInjected=!0,"loading"!=a.readyState?e():a.addEventListener("DOMContentLoaded",function(){setTimeout(e,0)})))}}}}},"adobe-analytics":{displayName:"Adobe Analytics",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP6326e4d6b32f4a71ad5204459cc57d66/",settings:{orgId:"1A124673527853290A490D45@AdobeOrg",customSetup:{source:function(t){var e;t.usePlugins=!0,t.getPreviousValue=function(e,t,a){var n="",r=!0;if(t=t||"s_gpv",a){r=!1,a=a.split(",");for(var i=this.events?this.events.split(","):"",o=0,s=a.length;o<s;o++){for(var c=0,l=i.length;c<l;c++)if(a[o]===i[c]){r=!0;break}if(!0===r)break}}return!0===r&&((r=new Date).setTime(r.getTime()+18e5),this.c_r(t)&&(n=this.c_r(t)),e?this.c_w(t,e,r):this.c_w(t,"no previous value",r)),n},e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(window.mobileDTMcheck=!0),window.trackingpvcorporate=function(e){_satellite.setVar("track_trackingpvcorporate_step",e),_satellite.track("track_trackingpvcorporate_action")},window.trackingctaextra=function(e){_satellite.setVar("track_trackingctaextra_step",e),_satellite.track("track_trackingctaextra_action")},window.trackingctacorporate=function(e){_satellite.setVar("track_trackingctacorporate_step",e),_satellite.track("track_trackingctacorporate_action")},window.trackingctaaol=function(e){_satellite.setVar("track_trackingctaaol_step",e),_satellite.track("track_trackingctaaol_action")},window.locandineCategoriesMobile=function(e){_satellite.setVar("track_trackingclickcorporate_category",e),_satellite.track("track_trackingclickcorporate_arrow")},window.trackingfaqcorporate=function(e){_satellite.setVar("track_trackingfaqcorporate_label",e),_satellite.track("track_trackingfaqcorporate_action")},location.pathname.match(/\/(registrati|filtro_cliente)/)&&(window.TrackStepReg=function(e){_satellite.setVar("registrazione_step",e),_satellite.track("registrazione")}),e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(window.mobileDTMcheck=!0),window.aolrenewfunnel=function(e,t,a){switch(_satellite.setVar("aolrenew_offertype",a),_satellite.setVar("aolrenew_promocode",t),e){case"open":_satellite.track("aolrenewfunnel_open");break;case"step_one":case"step_two":case"step_doc":case"step_three":case"step_riepilogo":case"ko":_satellite.setVar("aolrenewfunnel_action",e),_satellite.track("aolrenewfunnel_step")}},window.aolrenewpopup=function(e){_satellite.setVar("aolrenew_pagename",e),_satellite.track("aolrenewpopup_page")},window.aolrenewmodal=function(e){_satellite.setVar("aolrenew_action",e),_satellite.track("aolrenewmodal_action")},window.aolrenewcart=function(e,t,a,n){_satellite.setVar("aolrenew_offertype",n),_satellite.setVar("aolrenew_promocode",a),_satellite.setVar("aolrenew_cart",e),_satellite.setVar("aolrenew_product",t),_satellite.track("aolrenewcart_build")},window.aolreneworder=function(e,t,a,n,r,i,o){_satellite.setVar("aolrenew_offertype",t),_satellite.setVar("aolrenew_promocode",e),_satellite.setVar("aolrenew_purchaseid",a),_satellite.setVar("aolrenew_zip",n),_satellite.setVar("aolrenew_iniziali",r),_satellite.setVar("aolrenew_mensili",i),_satellite.setVar("aolrenew_metodo",o),_satellite.track("aolreneworder_purchase")},window.aolrenewerror=function(e){_satellite.setVar("aolrenew_error",e),_satellite.track("aolrenewerror_step")},document.location.href.match(/offerte/)&&document.addEventListener("mousedown",function(e){1===e.which&&e.target.matches(".dropdown.sentence li[onclick*='filterCards']")&&(t.linkTrackVars="eVar24,prop55,eVar55,events",t.linkTrackEvents=t.events="event16",e=(e=e.target.textContent.toLowerCase()).replace(/\s\s+/g," "),t.eVar24="offerteindex_filtro_"+e.replace(/ /g,""),t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55"),t.tl(this,"o","click_corporate"))},!1)}},libraryCode:{type:"managed",accounts:{staging:["skyitcoll"],production:["skyitdev"],development:["skyitcoll"]},useActivityMap:!0,scopeTrackerGlobally:!0},trackerProperties:{props:[{name:"prop40",type:"value",value:"D=mid"}],charSet:"UTF-8",currencyCode:"EUR",trackingServer:"metrics.sky.it",trackInlineStats:!1,visitorNamespace:"skyitalia",trackDownloadLinks:!0,trackExternalLinks:!0,linkInternalFilters:["javascript:","mailto:",".sky.it","%[ALL] Internal filter%","www.skygroup.sky","#"],trackingServerSecure:"smetrics.sky.it",linkDownloadFileTypes:["doc","docx","eps","png","svg","xls","ppt","pptx","xlsx","tab","csv","zip","txt","vsd","vxd","xml","js","css","rar","exe","wma","mov","avi","wmv","mp3","wav","m4v"]}},modules:{"adobe-analytics/src/lib/actions/clearVariables.js":{name:"clear-variables",displayName:"Clear Variables",script:function(e,t,a,n){"use strict";var r=a("../sharedModules/getTracker");e.exports=function(){return r().then(function(e){e.clearVars&&(n.logger.info("Clear variables."),e.clearVars())},function(e){n.logger.error("Cannot clear variables: "+e)})}}},"adobe-analytics/src/lib/actions/setVariables.js":{name:"set-variables",displayName:"Set Variables",script:function(e,t,a,n){"use strict";var r=a("../sharedModules/getTracker"),i=a("../helpers/applyTrackerVariables");e.exports=function(t,a){return r().then(function(e){n.logger.info("Set variables on the tracker."),i(e,t.trackerProperties),t.customSetup&&t.customSetup.source&&t.customSetup.source.call(a.element,a,e)},function(e){n.logger.error("Cannot set variables: "+e)})}}},"adobe-analytics/src/lib/actions/sendBeacon.js":{name:"send-beacon",displayName:"Send Beacon",script:function(e,t,a,r){"use strict";function n(e,t,a){var n;"page"===t.type?(r.logger.info("Firing page view beacon."),e.t()):(n={linkType:t.linkType||"o",linkName:t.linkName||(s(n=a)?o(n):"link clicked")},r.logger.info("Firing link track beacon using the values: "+JSON.stringify(n)+"."),e.tl(s(a)?a:"true",n.linkType,n.linkName))}var i=a("../sharedModules/getTracker"),o=a("../helpers/getNodeLinkText"),s=function(e){return e&&e.nodeName&&"a"===e.nodeName.toLowerCase()};e.exports=function(t,a){return i().then(function(e){n(e,t,a.element)},function(e){r.logger.error("Cannot send beacon: "+e)})}}},"adobe-analytics/src/lib/sharedModules/getTracker.js":{script:function(e,t,a,n){"use strict";function r(a){return l.all(p.map(function(e){var t;try{t=e(a)}catch(e){setTimeout(function(){throw e})}return l.resolve(t)})).then(function(){return a})}function i(e){return b&&(n.logger.info("Setting MCID instance on the tracker."),e.visitor=b),e}function o(e){return n.logger.info('Setting version on tracker: "'+g+'".'),void 0!==e.tagContainerMarker?e.tagContainerMarker=g:"string"==typeof e.version&&e.version.substring(e.version.length-5)!=="-"+g&&(e.version+="-"+g),e}var s,c=a("@adobe/reactor-cookie"),l=a("@adobe/reactor-promise"),d=a("@adobe/reactor-window"),u=a("../helpers/settingsHelper"),p=a("../helpers/augmenters"),h=a("../helpers/applyTrackerVariables"),f=a("../helpers/loadLibrary"),g=a("../helpers/generateVersion")(n.buildInfo.turbineBuildDate),m="beforeSettings",b=n.getSharedModule("adobe-mcid","mcid-instance"),_=(a=n.getExtensionSettings(),(s=a.trackingCookieName)&&"true"!==c.get(s)?l.reject("EU compliance was not acknowledged by the user."):f(a).then(r).then(i).then(o).then(function(e,t,a){return t.loadPhase===m&&t.source&&(n.logger.info("Calling custom script before settings."),t.source.call(d,a)),h(a,e||{}),t.loadPhase!==m&&t.source&&(n.logger.info("Calling custom script after settings."),t.source.call(d,a)),a}.bind(null,a.trackerProperties,a.customSetup||{})).then(function(e,t){return u.isAudienceManagementEnabled(e)&&(t.loadModule("AudienceManagement"),n.logger.info("Initializing AudienceManagement module"),t.AudienceManagement.setup(e.moduleProperties.audienceManager.config)),t}.bind(null,a)));e.exports=function(){return _}},name:"get-tracker",shared:!0},"adobe-analytics/src/lib/sharedModules/augmentTracker.js":{name:"augment-tracker",shared:!0,script:function(e,t,a){"use strict";var n=a("../helpers/augmenters");e.exports=function(e){n.push(e)}}},"adobe-analytics/src/lib/helpers/settingsHelper.js":{script:function(e,t,a,n){"use strict";var r=a("@adobe/reactor-window");e.exports={LIB_TYPES:{MANAGED:"managed",PREINSTALLED:"preinstalled",REMOTE:"remote",CUSTOM:"custom"},MANAGED_LIB_PATHS:{APP_MEASUREMENT:"AppMeasurement.js",ACTIVITY_MAP:"AppMeasurement_Module_ActivityMap.js",AUDIENCE_MANAGEMENT:"AppMeasurement_Module_AudienceManagement.js"},getReportSuites:function(e){var t=e.production;return(t=e[n.environment.stage]?e[n.environment.stage]:t).join(",")},isActivityMapEnabled:function(e){return!(e.libraryCode&&!e.libraryCode.useActivityMap&&!1===e.libraryCode.useActivityMap)},isAudienceManagementEnabled:function(e){var t=!1;return t=e&&e.moduleProperties&&e.moduleProperties.audienceManager&&e.moduleProperties.audienceManager.config&&r&&r._satellite&&r._satellite.company&&r._satellite.company.orgId?!0:t}}}},"adobe-analytics/src/lib/helpers/augmenters.js":{script:function(e){"use strict";e.exports=[]}},"adobe-analytics/src/lib/helpers/applyTrackerVariables.js":{script:function(e,t,a,c){"use strict";function l(e,t,a){return a.indexOf(e)===t}function n(e,t,a){e[t]=a[t].join(",")}var r=a("@adobe/reactor-query-string"),i=a("@adobe/reactor-window"),o=/eVar([0-9]+)/,s=/prop([0-9]+)/,d=new RegExp("^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$"),a=function(n,e,t){var r=t.dynamicVariablePrefix||"D=";t[e].forEach(function(e){var t,a;"value"===e.type?t=e.value:(a=o.exec(e.value))?t=r+"v"+a[1]:(a=s.exec(e.value))&&(t=r+"c"+a[1]),n[e.name]=t})},u={linkDownloadFileTypes:n,linkExternalFilters:n,linkInternalFilters:n,hierarchies:function(t,e,a){a[e].forEach(function(e){t[e.name]=e.sections.join(e.delimiter)})},props:a,eVars:a,campaign:function(e,t,a){var n;"queryParam"===a[t].type?(n=r.parse(i.location.search),e[t]=n[a[t].value]):e[t]=a[t].value},events:function(e,t,a){a=a[t].map(function(e){var t=e.name;return e.id&&(t=[t,e.id].join(":")),t=e.value?[t,e.value].join("="):t});e[t]=a.join(",")}};e.exports=function(t,n){var r={};n=n||{},Object.keys(n).forEach(function(e){var t=u[e],a=n[e];t?t(r,e,n):r[e]=a}),r.events&&t.events&&0<t.events.length&&(r.events=t.events+","+r.events);var e,a,i=n&&n.events&&0<n.events.length,i=(o=t,e=r,i=i,a=Object.keys(e).filter(d.test.bind(d)),i&&a.push("events"),(a=a.concat((o.linkTrackVars||"").split(","))).filter(function(e,t){return"None"!==e&&e&&l(e,t,a)}).join(","));i&&(r.linkTrackVars=i);var o,s,o=(o=t,i=n.events||[],(s=(s=i.map(function(e){return e.name})).concat((o.linkTrackEvents||"").split(","))).filter(function(e,t){return"None"!==e&&l(e,t,s)}).join(","));o&&(r.linkTrackEvents=o),c.logger.info('Applying the following properties on tracker: "'+JSON.stringify(r)+'".'),Object.keys(r).forEach(function(e){t[e]=r[e]})}}},"adobe-analytics/src/lib/helpers/loadLibrary.js":{script:function(e,t,a,n){"use strict";function r(e){return c.all(function(e){var t,a=[];switch(e.libraryCode.type){case l.LIB_TYPES.MANAGED:a.push(n.getHostedLibFileUrl(l.MANAGED_LIB_PATHS.APP_MEASUREMENT)),l.isActivityMapEnabled(e)&&a.push(n.getHostedLibFileUrl(l.MANAGED_LIB_PATHS.ACTIVITY_MAP));break;case l.LIB_TYPES.CUSTOM:a.push(e.libraryCode.source);break;case l.LIB_TYPES.REMOTE:a.push("https:"===s.location.protocol?e.libraryCode.httpsUrl:e.libraryCode.httpUrl)}return l.isAudienceManagementEnabled(e)&&(t={namespace:s._satellite.company.orgId},e.moduleProperties.audienceManager.config.visitorService=t,a.push(n.getHostedLibFileUrl(l.MANAGED_LIB_PATHS.AUDIENCE_MANAGEMENT))),a}(e).map(function(e){return n.logger.info("Loading script: "+e),o(e)}))}function i(e,t){return e.libraryCode.accounts&&(t.sa?(e=l.getReportSuites(e.libraryCode.accounts),n.logger.info('Setting the following report suites on the tracker: "'+e+'"'),t.sa(e)):n.logger.warn("Cannot set report suites on tracker. `sa` method not available.")),t}var o=a("@adobe/reactor-load-script"),s=a("@adobe/reactor-window"),c=a("@adobe/reactor-promise"),l=a("./settingsHelper"),d=a("./pollHelper");e.exports=function(e){var t=r(e);switch(e.libraryCode.type){case l.LIB_TYPES.MANAGED:var a=l.getReportSuites(e.libraryCode.accounts);return t.then(function(e,t){if(!s.s_gi)throw new Error("Unable to create AppMeasurement tracker, `s_gi` function not found."+s.AppMeasurement);n.logger.info('Creating AppMeasurement tracker with these report suites: "'+t+'"');t=s.s_gi(t);return e.libraryCode.scopeTrackerGlobally&&(n.logger.info("Setting the tracker as window.s"),s.s=t),t}.bind(null,e,a));case l.LIB_TYPES.PREINSTALLED:return t.then(d.poll.bind(null,s,e.libraryCode.trackerVariableName)).then(i.bind(null,e));case l.LIB_TYPES.CUSTOM:case l.LIB_TYPES.REMOTE:return t.then(function(e){if(s[e])return n.logger.info('Found tracker located at: "'+e+'".'),s[e];throw new Error('Cannot find the global variable name: "'+e+'".')}.bind(null,e.libraryCode.trackerVariableName)).then(i.bind(null,e));default:throw new Error("Cannot load library. Type not supported.")}}}},"adobe-analytics/src/lib/helpers/generateVersion.js":{script:function(e){"use strict";function t(e){return(e=(e.getUTCMonth()+1+12*Math.floor(e.getUTCHours()/a)).toString(36)).substr(e.length-1)}var a=8;e.exports=function(e){e=new Date(e);if(isNaN(e))throw new Error("Invalid date provided");return("L"+(e.getUTCFullYear()-2010).toString(36)+t(e)+e.getUTCDate().toString(36)).toUpperCase()}}},"adobe-analytics/src/lib/helpers/pollHelper.js":{script:function(e,t,a,n){"use strict";function o(e,t,a){n.logger.info('Found property located at: "'+t+'"].'),e(a)}var s=a("@adobe/reactor-promise");e.exports={poll:function(e,t){return n.logger.info('Waiting for the property to become accessible at: "'+t+'"].'),r=e,i=t,new s(function(e,t){if(r[i])return o(e,i,r[i]);var a=1,n=setInterval(function(){r[i]&&(o(e,i,r[i]),clearInterval(n)),40<=a&&(clearInterval(n),t(new Error('Bailing out. Cannot find the variable name: "'+i+'"].'))),a++},250)});var r,i}}}},"adobe-analytics/src/lib/helpers/getNodeLinkText.js":{script:function(e){"use strict";function s(e){return e&&e.replace(/\s+/g," ").trim()}function c(e){var t,a=[],n=!1;return(t=e)&&t.nodeName&&t.nodeName.match(r)?n=!0:(a.push(e),e.childNodes&&Array.prototype.slice.call(e.childNodes).forEach(function(e){e=c(e);a=a.concat(e.supportedNodes),n=n||e.includesUnsupportedNodes})),{supportedNodes:a,includesUnsupportedNodes:n}}function l(e,t,a){var n;return n=!a||a===e.nodeName.toUpperCase()?e.getAttribute(t):n}var r=/^(SCRIPT|STYLE|LINK|CANVAS|NOSCRIPT|#COMMENT)$/i;e.exports=function(e){var t,a,n,r,i,o=s(e.innerText||e.textContent),e=c(e);return o&&!e.includesUnsupportedNodes||(i=[],e.supportedNodes.forEach(function(e){e.getAttribute&&(t=t||s(e.getAttribute("alt")),a=a||s(e.getAttribute("title")),n=n||s(l(e,"value","INPUT")),r=r||s(l(e,"src","IMG"))),e.nodeValue&&i.push(e.nodeValue)}),(o=s(i.join("")))||(o=s(t||a||n||r||""))),o}}}}}},company:{orgId:"1A124673527853290A490D45@AdobeOrg"},property:{name:"SKY - CORPORATE",settings:{domains:["www.sky.it","svilcms.www.sky.it","caem.www.sky.it","caem.sky.it","collcms.www.sky.it","test.extra.sky.it","extra.sky.it","preprod-www.sky.it","collcms.hotclub.sky.it","hotclub.sky.it","abbonamento.sky.it","scegli.sky.it","eprocurement.sky.it","smartlead.it","sky.winnerland.com","preprod.abbonamento.sky.it","collcms.skyacademy.it","skyacademy.it","collam.abbonamento.sky.it","collam.abbonamento-o.sky.it","collprj.abbonamento.sky.it","collprj.abbonamento-o.sky.it","collcms.skyitalia.sky.it","skyitalia.sky.it","test.scegli.sky.it","trovabar.skybusiness.clo.ud.it","trovahotel.skybusiness.clo.ud.it","trovabar.sky.it","trovahotel.sky.it","skygo.sky.it","store.sky.it","skygo-test.sky.it","business.skytv.it","trova.sky.it","skylocator.nohup.it","abbonamento-o.sky.it","preprod.abbonamento-o.sky.it","collcms.eprocurement.sky.it"],undefinedVarsReturnEmpty:!0,ruleComponentSequencingEnabled:!1},id:"PR3f757a6aa94248b0ba08da30ea2bb8e7"},rules:[{id:"RLaf762c97f55a419084e731a886f0a053",name:"#50 [DR] [Video] Conteggio views Content (event122)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"count_video_content"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="events,server,eVar55,prop55",t.events="",t.linkTrackEvents=t.events="event122",t.server=window.location.host,t.eVar55=t.prop55=window.location.href.split(/[?#]/)[0]}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"count_video_content",linkType:"o"}}]},{id:"RLca5178943b0c4ca7a2b10e4e49a4ebbe",name:"[DR] [AOL] aolrenewfunnel_step (+ ADFORM + TARGET)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"aolrenewfunnel_step"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["collprj.abbonamento.sky.it","abbonamento.sky.it","collam.abbonamento.sky.it","collam.abbonamento-o.sky.it","collprj.abbonamento-o.sky.it","preprod.abbonamento.sky.it","abbonamento-o.sky.it","preprod.abbonamento-o.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){console.info("ADOBE LAUNCH: aolrenewfunnel_step uploaded! STEP NAME: "+_satellite.getVar("aolrenewfunnel_action")),t.channel="Acquista",t.events=t.products=t.pageName="",t.transactionID="",t.events="step_one"==_satellite.getVar("aolrenewfunnel_action")?"event19":"step_two"==_satellite.getVar("aolrenewfunnel_action")||"step_doc"==_satellite.getVar("aolrenewfunnel_action")?"event20":"step_three"==_satellite.getVar("aolrenewfunnel_action")?"event13":"step_riepilogo"==_satellite.getVar("aolrenewfunnel_action")?"event165":"ko"==_satellite.getVar("aolrenewfunnel_action")?"event136":"",t.products=_satellite.getVar("[AOL] Prodotti Intermediate").replace("null;sconto presenta un amico,",""),t.prop21=_satellite.getVar("Canale d'acquisto"),t.prop34=_satellite.getVar("aolrenew_promocode"),t.prop35=_satellite.getVar("[AOL] EntryProduct"),"fastweb"==t.prop37&"step_two"==_satellite.getVar("aolrenewfunnel_action")?t.pageName="sky:acquista:checkout:verifica documenti":t.pageName="step_one"==_satellite.getVar("aolrenewfunnel_action")?"sky:acquista:checkout:anagrafica":"step_two"==_satellite.getVar("aolrenewfunnel_action")?"sky:acquista:checkout:verifica indirizzo":"step_doc"==_satellite.getVar("aolrenewfunnel_action")?"sky:acquista:checkout:inserisci documenti":"step_three"==_satellite.getVar("aolrenewfunnel_action")?"sky:acquista:checkout:pagamento":"step_riepilogo"==_satellite.getVar("aolrenewfunnel_action")?"sky:acquista:checkout:riepilogo":"ko"==_satellite.getVar("aolrenewfunnel_action")?"sky:acquista:checkout:ko":"",t.prop37=_satellite.getVar("aolrenew_offertype"),t.prop59="aol",t.prop62="",window.pagenameBaseAolRenew=t.pageName,t.pageName&&(t.eVar1="D=pageName"),t.prop34&&(t.eVar34="D=c34"),t.prop37&&(t.eVar37="D=c37"),t.prop35&&(t.eVar35="D=c35"),t.prop59&&(t.eVar59="D=c59"),t.eVar98=""}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/27331c16692c/33a862a7054a/7aed57be19fa/RCa03c30d9ca8b44e08a498b7666f958da-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/27331c16692c/33a862a7054a/7aed57be19fa/RC4d22a1ce81b140ec97e79a430c7773a0-source.min.js",language:"html",isExternal:!0}}]},{id:"RLdc6ba35e693649d29735cb1fa9b19fa6",name:"#55 [ER] [CLICK CORPORATE] Landing msa - Cta Apple store",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".apple-store",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.location.href.match(/app-my-sky/)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageName="",t.linkTrackVars="eVar24,prop54,eVar54,prop55,eVar55,events",t.linkTrackEvents=t.events="event16",t.eVar24="myskyapp_applestore",t.prop54=window.location.href,t.prop55=window.location.href.split(/[?#]/)[0],t.prop54&&(t.eVar54="D=c54"),t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}}]},{id:"RL39a6b66c80d84c81b63adfcf5bf4b8af",name:"#55 [ER] [CLICK CORPORATE] Landing recontracting - Cta clicca qui",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[data-target^='#dettagliOfferta']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!(!document.location.href.match(/landing\/abbonarsi\/recontracting/)&&!document.location.href.match(/landing-new\/abbonarsi\/recontracting/))}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageName="sky:landing:abbonarsi:recontracting:new:overlay-cond"}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL0341ce760f1b42528de8cb4cf7a3837c",name:"#55 [ER] [CLICK CORPORATE] SkyQ esplora funzionalità - Tab",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"className",value:"navigation-category active-category|navigation-category",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.location.href.match(/tv\/skyq\/esplora-funzionalita|landing\/esplora-funzionalita/)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageName="",t.linkTrackVars="eVar24,prop55,eVar55,events",t.linkTrackEvents=t.events="event16",t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55");var a=this.textContent.toLowerCase();t.eVar24=a.trim()}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}}]},{id:"RL93313c53bf024cfabd5954c0da6afab8",name:"#50 [ER] [ALL] Download",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"(jpg|jpeg|pdf)",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageName="",t.linkTrackVars="prop8,prop9,events",t.linkTrackEvents=t.events="event8",document.getElementById("categories")&&document.getElementById("categories").options[document.getElementById("categories").selectedIndex]?(t.prop8=document.getElementById("categories").options[document.getElementById("categories").selectedIndex].value.toLowerCase()+"-",t.prop8+=this.href.substring(this.href.lastIndexOf("/")+1,this.href.length).toLowerCase()):t.prop8=this.href.substring(this.href.lastIndexOf("/")+1,this.href.length).toLowerCase(),-1!=t.prop8.indexOf("%20")&&(t.prop8=t.prop8.replace(/%20/g," ").toLowerCase()),t.prop9=-1!=window.location.href.indexOf("?")?window.location.href.replace(/http(s)?:\/\//gi,"").substring(0,window.location.href.replace(/http(s)?:\/\//gi,"").indexOf("?")):window.location.href.replace(/http(s)?:\/\//gi,""),t.prop9=t.prop9.replace(/#$/,"")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"download",linkType:"o"}}]},{id:"RL736fef17d68f4b9fa2c86fea5efd1146",name:"#55 [ER] [CLICK CORPORATE] SkyQ - Box sky go",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#da-sky-go.daAccordionItem.closed",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.location.href.match(/tv\/skyq/)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="eVar24,eVar55,prop55,events",t.linkTrackEvents=t.events="event16",t.eVar24="sky go",t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}}]},{id:"RLefd412eb75254826a875696ef97690ce",name:"#50 [DR] Tracking Pv Corporate (+ADFORM)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track_trackingpvcorporate_action"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){console.info("Adobe trackingpvcorporate "+_satellite.getVar("track_trackingpvcorporate_step")),t.events="",t.pageName=_satellite.getVar("track_trackingpvcorporate_step"),"sky:come-vedere:skyq"==t.pageName&&(t.pageName="sky:tv:skyq"),"sky:come-vedere:skyq-fibra"==t.pageName&&(t.pageName="sky:tv:skyq:senza-parabola"),"sky:tv:skyq:attivazione-skyid:ok"==t.pageName&&(t.events="event36"),t.server=_satellite.getVar("[ALL] Server"),t.channel=_satellite.getVar("[DigitalData] Channel")?_satellite.getVar("[DigitalData] Channel"):"",document.location.href.match(/www\.sky\.it\/login/)&&document.referrer.match(/cmp=/)&&(t.campaign=_satellite.readCookie("CCMP")),t.prop2=t.getPreviousValue(t.pageName,"gpv_pn"),t.prop5=_satellite.getVar("[DigitalData] Quarto Livello")?_satellite.getVar("[DigitalData] Quarto Livello"):"",t.prop29=_satellite.getVar("[ALL] Query String Parameter Social")?_satellite.getVar("[ALL] Query String Parameter Social"):"",t.prop50=_satellite.getVar("[ALL] External Id")?_satellite.getVar("[ALL] External Id"):"",t.prop54=location.href,t.prop55=location.href.split(/[?#]/)[0],t.prop59=_satellite.getVar("[DigitalData] Secondo Livello")?_satellite.getVar("[DigitalData] Secondo Livello"):"","sky:pagine di servizio:aggiorna il tuo browser"==t.pageName&&(t.prop59="pagine di servizio"),t.prop60=_satellite.getVar("[DigitalData] Terzo Livello")?_satellite.getVar("[DigitalData] Terzo Livello"):"",t.prop67=_satellite.getVar("[ALL] Cookie Login Status"),t.pageName&&(t.eVar1="D=pageName"),t.prop2&&(t.eVar2="D=c2"),t.prop5&&(t.eVar5="D=c5"),""!==_satellite.getVar("[DigitalData] Intcmp")?t.eVar10=_satellite.getVar("[DigitalData] Intcmp"):""!==_satellite.getVar("[ALL] Query String Parameter Intcmp")?t.eVar10=_satellite.getVar("[ALL] Query String Parameter Intcmp"):t.eVar10="",location.pathname.match(/\/aol\//)||(t.eVar22="undefined"!=typeof mobileDTMcheck&&mobileDTMcheck?"mobile site":"desktop site"),t.prop50&&(t.eVar50="D=c50"),t.prop54&&(t.eVar54="D=c54"),t.prop55&&(t.eVar55="D=c55"),t.prop59&&(t.eVar59="D=c59"),t.prop60&&(t.eVar60="D=c60")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/27331c16692c/33a862a7054a/7aed57be19fa/RCefa5d89cc32b461b9ed90d5d212f707e-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL961f2acc76484ff59ab4166e051165f1",name:"#55 [ER] [CLICK CORPORATE] Index Tv - Cta Scopri Offerte Parco",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#offerte > .section-screen.IsParco a.cta.secondary",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"/tv"===location.pathname}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="eVar24,prop55,eVar55,events",t.linkTrackEvents=t.events="event16",t.eVar24="index-tv_offerte_fai-da-te_scopri",t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}}]},{id:"RLe8f5e56e403243609bf422e8414c0823",name:"[DR] [AOL] aolrenewfunnel_open (+ ADFORM)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"aolrenewfunnel_open"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["collprj.abbonamento.sky.it","abbonamento.sky.it","collam.abbonamento.sky.it","collam.abbonamento-o.sky.it","collprj.abbonamento-o.sky.it","abbonamento-o.sky.it","preprod.abbonamento-o.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){console.info("ADOBE LAUNCH: aolrenewfunnel_open uploaded"),t.channel="Acquista",t.transactionID="",window.pagenameBaseAolRenew="sky:acquista:configura offerta",t.pageName=window.pagenameBaseAolRenew,t.events=t.products="",t.events="scAdd,scOpen",t.products=_satellite.getVar("[AOL] Prodotti").replace("null;sconto presenta un amico,",""),t.prop21=_satellite.getVar("Canale d'acquisto"),t.prop34=_satellite.getVar("aolrenew_promocode"),t.prop35=_satellite.getVar("[AOL] EntryProduct"),t.prop37=_satellite.getVar("aolrenew_offertype"),t.prop59="aol",t.prop62="",t.pageName&&(t.eVar1="D=pageName"),t.prop21&&(t.eVar22="D=c22"),t.prop34&&(t.eVar34="D=c34"),t.prop35&&(t.eVar35="D=c35"),t.prop37&&(t.eVar37="D=c37"),t.prop59&&(t.eVar59="D=c59"),t.eVar98=""}},trackerProperties:{channel:"Acquista"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/27331c16692c/33a862a7054a/7aed57be19fa/RC908ba9f48c774e96970067bae3652eb5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL503b3a4bd50247868b9d351e68a5bcac",name:"#50 [PL] [ALL] DigitalData",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["svilcms.www.sky.it","caem.www.sky.it","caem.sky.it","www.sky.it","collcms.www.sky.it","test.extra.sky.it","preprod-www.sky.it","extra.sky.it","eprocurement.sky.it","smartlead.it","sky.winnerland.com","collcms.skyacademy.it","skyacademy.it","collcms.skyitalia.sky.it","skyitalia.sky.it","test.scegli.sky.it","trovabar.skybusiness.clo.ud.it","trovahotel.skybusiness.clo.ud.it","trovabar.sky.it","trovahotel.sky.it","skylocator.nohup.it","trova.sky.it","scegli.sky.it"]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!location.pathname.match(/extra\/myextra/)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a;console.info("adobe digital data"),t.server=_satellite.getVar("[ALL] Server"),t.channel=_satellite.getVar("[DigitalData] Channel")?_satellite.getVar("[DigitalData] Channel"):"",t.pageName=_satellite.getVar("[DigitalData] PageName")?_satellite.getVar("[DigitalData] PageName"):"",document.location.href.match(/www\.sky\.it\/login/)&&_satellite.readCookie("CCMP")?t.campaign=_satellite.readCookie("CCMP"):""!==_satellite.getVar("[ALL] Query String Parameter Cmp")&&(t.campaign=_satellite.getVar("[ALL] Query String Parameter Cmp")),document.location.href.match(/sky\.it\/app-my-sky/)&&_satellite.cookie.get("CCMP")&&(t.campaign=_satellite.cookie.get("CCMP")),document.location.href.match(/sky\.it\/tv\/skyq\/attivazione-skyid/)&&"onePuckSectionRestoreSkyId"==t.Util.getQueryParam("goto")&&(t.pageName=t.pageName+":rigenera-skyid"),t.prop2=t.getPreviousValue(t.pageName,"gpv_pn"),t.prop5=_satellite.getVar("[DigitalData] Quarto Livello")?_satellite.getVar("[DigitalData] Quarto Livello"):"",t.prop29=_satellite.getVar("[ALL] Query String Parameter Social")?_satellite.getVar("[ALL] Query String Parameter Social"):"",t.prop50=_satellite.getVar("[ALL] External Id")?_satellite.getVar("[ALL] External Id"):"",t.prop54=location.href,t.prop55=location.href.split(/[?#]/)[0],t.prop59=_satellite.getVar("[DigitalData] Secondo Livello")?_satellite.getVar("[DigitalData] Secondo Livello"):"",t.prop60=_satellite.getVar("[DigitalData] Terzo Livello")?_satellite.getVar("[DigitalData] Terzo Livello"):"",t.prop67=_satellite.getVar("[ALL] Cookie Login Status"),t.pageName&&(t.eVar1="D=pageName"),t.prop2&&(t.eVar2="D=c2"),t.prop5&&(t.eVar5="D=c5"),document.location.href.match(/www\.sky\.it\/login/)&&(a=getUrlParameter("forward"),a=decodeURIComponent(a),a=getUrlParameter("intcmp",a)),""!==_satellite.getVar("[DigitalData] Intcmp")?t.eVar10=_satellite.getVar("[DigitalData] Intcmp"):""!==_satellite.getVar("[ALL] Query String Parameter Intcmp")?t.eVar10=_satellite.getVar("[ALL] Query String Parameter Intcmp"):t.eVar10=""!==a?a:"",location.pathname.match(/\/aol\//)||(t.eVar22="undefined"!=typeof mobileDTMcheck&&mobileDTMcheck?"mobile site":"desktop site"),t.prop50&&(t.eVar50="D=c50"),document.location.pathname.match(/GSA/)&&(t.events="event5",t.eVar19=t.Util.getQueryParam("query").toLowerCase(),t.eVar19&&(t.prop19="D=v19")),("trovabar.sky.it"==location.hostname&&"/search"==location.pathname||"trovabar.skybusiness.clo.ud.it"==location.hostname&&"/search"==location.pathname||"trovahotel.sky.it"==location.hostname&&"/search"==location.pathname||"trovahotel.skybusiness.clo.ud.it"==location.hostname&&"/search"==location.pathname||"trova.sky.it"==location.hostname&&"/risultati-ricerca"==location.pathname||"skylocator.nohup.it"==location.hostname&&"/risultati-ricerca"==location.pathname)&&(t.events="event5"),t.prop54&&(t.eVar54="D=c54"),t.prop55&&(t.eVar55="D=c55"),t.prop59&&(t.eVar59="D=c59"),t.prop60&&(t.eVar60="D=c60"),t.prop67&&(t.eVar67="D=c67"),"sky:it:registrati_login"==t.pageName&&(t.events="event36"),(location.hostname.match(/eprocurement\.sky.\it/)||location.hostname.match(/sky\.winnerland\.com/)||location.hostname.match(/smartlead\.it/))&&(t.pageName=location.href.split(/[?#]/)[0]),"www.skyacademy.it"!=location.hostname&&"collcms.skyacademy.it"!=location.hostname||(t.channel="sky academy",t.pageName=location.href.split(/[?#]/)[0],t.pageName&&(t.eVar1="D=pageName"),t.prop2=t.eVar2=""),"skyitalia.sky.it"!=location.hostname&&"collcms.skyitalia.sky.it"!=location.hostname||(t.channel="corporate",t.pageName=location.href.split(/[?#]/)[0],t.pageName&&(t.eVar1="D=pageName"),t.prop2=t.eVar2="",t.eVar59="Lavora con noi"),(location.search.match(/leadid=/i)&&!_satellite.cookie.get("xacts=")||location.search.match(/leadid=/i)&&_satellite.cookie.get("xacts=")&&_satellite.cookie.get("xacts").indexOf(t.Util.getQueryParam("leadId")+"-")<0)&&(t.transactionID=t.Util.getQueryParam("leadId"),""!=t.events&&void 0!==t.events?t.events+=",event86":(t.events="event86",t.eVar22="call me now"),_satellite.cookie.set("xacts",_satellite.cookie.get("xacts")+t.transactionID+"-",750))}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RL428bc12ca19f4f32b7c26798980ebd08",name:"#50 [PL] [TAG TERZI] CLICKTALE (Tag injector)",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e={}.constructor.getOwnPropertyDescriptor(window,"localStorage");try{return e&&{}.constructor.defineProperty(window,"localStorage",$___mock_68baf1e69228f27e.localStorage),function(){return"true"===localStorage.getItem("cmpConsentClicktale")&&!location.href.match(/file:\/\/\/C\:\//)}.apply(this,arguments)}finally{e&&{}.constructor.defineProperty(window,"localStorage",e)}}}}],actions:[{modulePath:"clicktale/src/lib/actions/deployclicktale.js",settings:{}}]},{id:"RL97721e740b9b49a4a89a75ff2e9051fb",name:"#50 [PL] [TAG TERZI] ADFORM (DMP) - Siti corporate",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["hotclub.sky.it","collcms.hotclub.sky.it","trovabar.skybusiness.clo.ud.it","trovabar.sky.it"]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!(document.domain.match(/(caem|saem|preaem|collam|collprj|collnew|collnew2)/)||location.href.match(/file:\/\/\/C\:\//)||document.location.href.match(/\.amp/)||document.location.href.match(/player\.sky\.it/))}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/27331c16692c/33a862a7054a/7aed57be19fa/RC132be898a09c4cf6b57b515b44963c5f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL80226fec0b0d452aba05747685fa2ed1",name:"#50 [DR] [ALL] Reitek CMN-CMB (+ ADFORM)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track_reitek"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=e.detail.type||"";location.pathname.match("aol/abbonationline")||location.pathname.match("aol/cmn")?t.pageName=window.pagenameBaseAolRenew+e.detail.step+" "+a:t.pageName=_satellite.getVar("[DigitalData] PageName")+e.detail.step+" "+a,t.eVar10=_satellite.getVar("[ALL] Query String Parameter Intcmp")?_satellite.getVar("[ALL] Query String Parameter Intcmp"):"",t.server=document.domain,t.prop54=window.location.href,t.prop55=window.location.href.split(/[?#]/)[0],t.prop54&&(t.eVar54="D=c54"),t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/27331c16692c/33a862a7054a/7aed57be19fa/RC51aca4cf41784fb593475af611655f0a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1d927f2c5df74a9a92792465f110acc7",name:"#55 [ER] [CLICK CORPORATE] Dazn - Tool Button restart",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#dazn-flow-restart-cta",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.location.href.match(/tv\/dazn/)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="eVar24,prop55,eVar55,events",t.linkTrackEvents=t.events="event16",t.eVar24="dazn tool restart",t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}}]},{id:"RLe8daf6cc414344bda806c8a0199aaec9",name:"#50 [DR] Tracking CTA Corporate ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track_trackingctacorporate_action"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageName="",t.events="",t.linkTrackVars="events,eVar24,prop54,eVar54,prop55,eVar55",t.linkTrackEvents=t.events="event16",t.eVar24=_satellite.getVar("track_trackingctacorporate_step"),t.prop54=window.location.href,t.prop54&&(t.eVar54="D=c54"),t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"trackingctacorporate",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL98900540714b4572bfba1cd07cac931f",name:"#50 [DR] Speed Test - esito in parte positivo",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"fibratest_inpartepositivo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["www.sky.it","caem.sky.it","collcms.www.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{pageName:"sky:assistenza:skyviafibratest:esito-inpartepositivo"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RL7798c3809edd41379e444d1ddc6b7be9",name:"#50 [DR] Zone Id Push Component",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"push_component_track"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){e=e.detail.zoneid||"";t.pageName="",t.linkTrackVars="eVar79",t.eVar79=e}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"zoneId",linkType:"o"}}]},{id:"RL66c644df966c499bb0f7cf97f6357f1a",name:"#50 [DR] [ALL] Login (+ ADFORM)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"login"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageName="",t.linkTrackVars="server,eVar67,prop67,eVar50,prop50",t.server="www.sky.it",t.prop67=_satellite.getVar("[ALL] Cookie Login Status"),t.prop50=_satellite.getVar("[ALL] External Id")?_satellite.getVar("[ALL] External Id"):"",t.prop50&&(t.eVar50="D=c50"),t.prop67&&(t.eVar67="D=c67")}},trackerProperties:{events:[{name:"event6"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"login",linkType:"o"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/27331c16692c/33a862a7054a/7aed57be19fa/RC2c94577c83314f54b37988a64f8ef7a8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL78770d34990b4e1e856b585a092296d0",name:"#55 [ER] [CLICK CORPORATE] SkyQ - Box multiscreen",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#da-tutti-schermi.daAccordionItem.closed",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.location.href.match(/tv\/skyq/)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="eVar24,eVar55,prop55,events",t.linkTrackEvents=t.events="event16",t.eVar24="multiscreen wireless",t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}}]},{id:"RLeff7743af23a40eda5536c2a94e8a321",name:"#50 [DR] Registrazione",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"registrazione"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){switch(!0){case/anagrafica/.test(_satellite.getVar("registrazione_step")):t.pageName="sky:it:registrati:anagrafica",t.events="event34";break;case/riepilogo/.test(_satellite.getVar("registrazione_step")):t.pageName="sky:it:registrati:riepilogo",t.events="event35";break;case/upgrade/.test(_satellite.getVar("registrazione_step")):t.pageName="sky:it:registrati:upgrade",t.events="event37"}/anagrafica/.test(_satellite.getVar("registrazione_step"))&&(t.eVar67=$("#checkBoxP").is(":checked")?"non cliente":"cliente",t.prop67="")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RL20822365f8ce4edb91a4378ed865e0cf",name:"#55 [ER] [CLICK CORPORATE] Dazn - Tool Cta aderisci offerta (dtt)",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#dazn-flow-final-cta-dtt",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.location.href.match(/tv\/dazn/)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="eVar24,prop55,eVar55,events",t.linkTrackEvents=t.events="event16",t.eVar24="dazn tool aderisci offerta dtt",t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}}]},{id:"RL2a7df78a29974b87ac681e964db414d6",name:"#50 [DR] [Video] Conteggio views Adv (event121)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"count_video_adv"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="events,server,eVar55,prop55",t.events="",t.linkTrackEvents=t.events="event121",t.server=window.location.host,t.eVar55=t.prop55=window.location.href.split(/[?#]/)[0]}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"count_video_adv",linkType:"o"}}]},{id:"RL7fbddc6109af436d8c08fb5c5c127a1d",name:"#55 [ER] [CLICK CORPORATE] Offerte - Click filtro prezzo basso",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".order-by.lower-price",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.location.href.match(/offerte/)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageName="",t.linkTrackVars="eVar24,prop55,eVar55,events",t.linkTrackEvents=t.events="event16",t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55"),t.eVar24="offerteindex_filtro_prezzopiubasso"}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}}]},{id:"RLedb3564d9b6949f798601e5150a45333",name:"[DR] [AOL] aolreneworder_purchase (+ ADFORM + GOOGLE ADS)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"aolreneworder_purchase"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["collprj.abbonamento.sky.it","abbonamento.sky.it","preprod.abbonamento.sky.it","collam.abbonamento-o.sky.it","collam.abbonamento.sky.it","collprj.abbonamento-o.sky.it","abbonamento-o.sky.it","preprod.abbonamento-o.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){console.info("ADOBE LAUNCH: aolreneworder_purchase uploaded"),t.events=t.products="",t.products=_satellite.getVar("[AOL] Prodotti Final").match(/null;sconto presenta un amico/)?_satellite.getVar("[AOL] Prodotti Final").substring(0,_satellite.getVar("[AOL] Prodotti Final").lastIndexOf("null;sconto presenta un amico")-1)+_satellite.getVar("[AOL] Prodotti Final").substring(_satellite.getVar("[AOL] Prodotti Final").lastIndexOf("null;sconto presenta un amico"),_satellite.getVar("[AOL] Prodotti Final").length).substring(_satellite.getVar("[AOL] Prodotti Final").substring(_satellite.getVar("[AOL] Prodotti Final").lastIndexOf("null;sconto presenta un amico"),_satellite.getVar("[AOL] Prodotti Final").length).indexOf(","),_satellite.getVar("[AOL] Prodotti Final").substring(_satellite.getVar("[AOL] Prodotti Final").lastIndexOf("null;sconto presenta un amico"),_satellite.getVar("[AOL] Prodotti Final").length).length):_satellite.getVar("[AOL] Prodotti Final"),t.events="purchase"+(_satellite.getVar("[AOL] Prodotti Final").match(/event24/)?",event24":""),t.pageName="sky:acquista:checkout:order confirmation",t.zip=_satellite.getVar("aolrenew_zip"),_satellite.getVar("ChatVenditeAss")&&"no_chat"!=_satellite.getVar("ChatVenditeAss")&&(t.events+=",event"+(_satellite.getVar("ChatVenditeAss").match(/insession(_|-)open/)?"62":_satellite.getVar("ChatVenditeAss").match(/insession(_|-)closed/)?"63":_satellite.getVar("ChatVenditeAss").match(/cross(_|-)session/)?"64":"")),t.events+=",event137="+_satellite.getVar("aolrenew_iniziali")+",event138="+_satellite.getVar("aolrenew_mensili"),t.purchaseID=t.eVar30=_satellite.getVar("aolrenew_purchaseid"),t.prop21=_satellite.getVar("Canale d'acquisto"),t.prop34=_satellite.getVar("aolrenew_promocode"),t.prop35=_satellite.getVar("[AOL] EntryProduct"),t.prop37=_satellite.getVar("aolrenew_offertype"),t.prop59="aol",t.prop62="",t.pageName&&(t.eVar1="D=pageName"),window.pagenameBaseAolRenew=t.eVar1="sky:acquista:checkout:order confirmation",t.eVar15=_satellite.getVar("aolrenew_metodo"),t.eVar26=_satellite.getVar("[AOL] EntryProduct"),t.prop21&&(t.eVar22="D=c22"),t.prop34&&(t.eVar34="D=c34"),t.prop35&&(t.eVar35="D=c35"),t.prop37&&(t.eVar37="D=c37"),t.prop59&&(t.eVar59="D=c59"),t.eVar98=""}},trackerProperties:{channel:"Acquista"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/27331c16692c/33a862a7054a/7aed57be19fa/RCbc4abe399b1b4f4f9eb84d1aa8460a38-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/27331c16692c/33a862a7054a/7aed57be19fa/RC56f220dc86e04060bde9aef3f1a08fa6-source.min.js",language:"html",isExternal:!0}}]},{id:"RL36a616267c7b4015b672c53660827217",name:"[ER] [AOL] Click Buttun Cambia Offerta",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#cambia_offerta",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["collprj.abbonamento.sky.it","abbonamento.sky.it","collam.abbonamento.sky.it","collam.abbonamento-o.sky.it","collprj.abbonamento-o.sky.it","abbonamento-o.sky.it","preprod.abbonamento-o.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageName="",t.events="",t.linkTrackVars="events,eVar24,prop55,eVar55",t.linkTrackEvents=t.events="event16",t.eVar24="cambia offerta",t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{channel:"Acquista"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"aol_button_cambia_offerta",linkType:"o"}}]},{id:"RLedd515d049b3463f8b69f505a4dc424d",name:"#55 [ER] [CLICK CORPORATE] SkyQ esplora funzionalità - Tab (Mobile)",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div",elementProperties:[{name:"className",value:"mobile-fixed-menu_cta",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.location.href.match(/tv\/skyq\/esplora-funzionalita|landing\/esplora-funzionalita/)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="eVar24,prop55,eVar55,events",t.linkTrackEvents=t.events="event16",t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55");var a=this.textContent.toLowerCase().trim();a.match(/inevidenza/)?t.eVar24="in evidenza":a.match(/controllovocale/)?t.eVar24="controllo vocale":a.match(/durantela visione/)?t.eVar24="durante la visione":a.match(/home eregistrazioni/)?t.eVar24="home e registrazioni":t.eVar24=a}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}}]},{id:"RL46385cb9fc8a4f5c863f4a1cae4660e1",name:"[DR] [AOL] aolrenewerror_step",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"aolrenewerror_step"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["collprj.abbonamento.sky.it","abbonamento.sky.it","collam.abbonamento.sky.it","collam.abbonamento-o.sky.it","collprj.abbonamento-o.sky.it","abbonamento-o.sky.it","preprod.abbonamento-o.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){console.info("ADOBE LAUNCH: aolrenewerror_step uploaded"),t.pageName=t.products="",t.linkTrackVars="events,channel,prop62,eVar34,eVar37,prop34,prop37,eVar98",t.events="",t.transactionID="",t.channel="Acquista",t.linkTrackEvents=t.events="event135",t.prop34=_satellite.getVar("aolrenew_promocode"),t.prop37=_satellite.getVar("aolrenew_offertype"),t.prop62=_satellite.getVar("aolrenew_error"),t.prop37&&(t.eVar37="D=c37"),t.prop34&&(t.eVar34="D=c34"),t.eVar98=""}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"aol_error_step",linkType:"o"}}]},{id:"RL5b336ef3f7774ee5976b39050e747252",name:"#50 [DR] [ALL] Reitek CMN (+ ADFORM)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track_reitek_cmn"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=e.detail.type||"";location.pathname.match("aol/abbonationline")||location.pathname.match("aol/cmn")?t.pageName=window.pagenameBaseAolRenew+e.detail.step+" "+a:t.pageName=_satellite.getVar("[DigitalData] PageName")+e.detail.step+" "+a,":cmn form:typ"==e.detail.step&&(t.events="event162",t.transactionID=e.detail.transid),t.server=document.domain,t.prop54=window.location.href,t.prop55=window.location.href.split(/[?#]/)[0],t.prop54&&(t.eVar54="D=c54"),t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/27331c16692c/33a862a7054a/7aed57be19fa/RC9e846e59e9bc4b51bd5a3a1fb62f23a4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa6b4bbbbb41241eaafece05b14772870",name:"#50 [PL] HOTCLUB Traffico",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["collcms.hotclub.sky.it","hotclub.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.prop29=_satellite.getVar("[ALL] Query String Parameter Social")?_satellite.getVar("[ALL] Query String Parameter Social"):"",t.prop50=_satellite.getVar("[ALL] External Id")?_satellite.getVar("[ALL] External Id"):"",t.prop54=location.href,t.prop55=location.href.split(/[?#]/)[0],t.prop59=location.pathname.match(/\/attrici|\/attori/)?"hotclub attori":location.pathname.match(/\/video/)?"hotclub video":location.pathname.match(/\/speciali/)?"hotclub speciali":location.pathname.match(/\/categorie/)?"hotclub categorie":location.pathname.match(/\/on-demand/)?"hotclub on demand":location.pathname.match(/\/generi/)?"hotclub generi":location.pathname.match(/\/offerta|\/offerte/)?"hotclub offerte":location.pathname.match(/\/come-acquistare/)?"hotclub come acquistare":location.pathname.match(/\/case-di-produzione/)?"hotclub case di produzione":location.pathname.match(/\/riservatezza/)?"hotclub riservatezza":location.pathname.match(/\/faq/)?"hotclub faq":"/"==location.pathname?"hotclub home":location.pathname.match(/\/parental-control/)?"hotclub parental control":"hotclub other",t.prop67=_satellite.getVar("[ALL] Cookie Login Status"),t.pageName=location.href.split(/[?#]/)[0],""!==_satellite.getVar("[ALL] Query String Parameter Cmp")&&(t.campaign=_satellite.getVar("[ALL] Query String Parameter Cmp")),t.pageName&&(t.eVar1="D=pageName"),""!==_satellite.getVar("[DigitalData] Intcmp")?t.eVar10=_satellite.getVar("[DigitalData] Intcmp"):""!==_satellite.getVar("[ALL] Query String Parameter Intcmp")?t.eVar10=_satellite.getVar("[ALL] Query String Parameter Intcmp"):t.eVar10="",t.prop50&&(t.eVar50="D=c50"),t.prop54&&(t.eVar54="D=c54"),t.prop55&&(t.eVar55="D=c55"),t.prop59&&(t.eVar59="D=c59"),t.prop67&&(t.eVar67="D=c67")}},trackerProperties:{server:"%[ALL] Server%",channel:"Hotclub"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RLef9c389a5f26477085c2cfe01eb79147",name:"#50 [DR] Speed Test - esito negativo",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"fibratest_negativo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["www.sky.it","caem.sky.it","collcms.www.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{pageName:"sky:assistenza:skyviafibratest:esito-negativo"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RL32c340e4febf406bba419d68879988b3",name:"#50 [DR] Assistenza Flusso Disdetta AsIs",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackddlconcorrenza"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a;console.info("adobe disdetta > pagename: "+_satellite.getVar("ddl_pagename")+" motivazione: "+_satellite.getVar("ddl_motivazione")+" scadenza: "+_satellite.getVar("ddl_scadenza")),t.channel="corporate",t.prop59="assistenza",t.prop60="disdetta-abbonamento",t.prop59&&(t.eVar59="D=c59"),t.prop60&&(t.eVar60="D=c60"),t.eVar28="",t.eVar29="",_satellite.getVar("ddl_motivazione")&&(t.eVar28=_satellite.getVar("ddl_motivazione")),_satellite.getVar("ddl_scadenza")&&(t.eVar29=_satellite.getVar("ddl_scadenza")),a="entro 14 giorni"==_satellite.getVar("ddl_scadenza")||"altro"==_satellite.getVar("ddl_scadenza")?"recesso":"disdetta",t.pageName=_satellite.getVar("ddl_pagename"),"sky:assistenza:disdetta-abbonamento:steps-disdetta"==t.pageName&&(t.pagename="sky:assistenza:disdetta-abbonamento:scelta-contratto"),"sky:assistenza:disdetta-abbonamento:typ"==t.pageName&&"disdetta"==a?t.pageName="sky:assistenza:disdetta-abbonamento:ok-disdetta":"sky:assistenza:disdetta-abbonamento:typ"==t.pageName&&"recesso"==a&&(t.pageName="sky:assistenza:disdetta-abbonamento:ok-recesso"),"sky:assistenza:disdetta-abbonamento:riepilogo"==t.pageName&&"disdetta"==a?t.pageName="sky:assistenza:disdetta-abbonamento:riepilogo-disdetta":"sky:assistenza:disdetta-abbonamento:riepilogo"==t.pageName&&"recesso"==a&&(t.pageName="sky:assistenza:disdetta-abbonamento:riepilogo-recesso");var n=_satellite.getVar("ddl_motivazione")?_satellite.getVar("ddl_motivazione"):"",r=_satellite.getVar("ddl_scadenza")?_satellite.getVar("ddl_scadenza"):"",r=n&&r?n+" - "+r:n&&!r?n:!n&&r?r:"";"sky:assistenza:disdetta-abbonamento:scelta-contratto"==t.pageName&&"object"==typeof adf&&"function"==typeof adf.ClickTrack?adf.ClickTrack($("body"),124076,"Disdetta - Scelta Abbonamento",{sv13:_satellite.getVar("External ID")?_satellite.getVar("External ID"):""}):(t.pageName,"sky:assistenza:disdetta-abbonamento:ok-disdetta"!=t.pageName&&"object"==typeof adf&&"function"==typeof adf.ClickTrack?adf.ClickTrack($("body"),124076,"Disdetta - Funnel",{sv13:_satellite.getVar("External ID")?_satellite.getVar("External ID"):"",sv83:a,sv92:t.pageName,sv93:r}):"sky:assistenza:disdetta-abbonamento:ok-disdetta"==t.pageName&&"object"==typeof adf&&"function"==typeof adf.ClickTrack&&adf.ClickTrack($("body"),124076,"Disdetta - TYP",{sv13:_satellite.getVar("External ID")?_satellite.getVar("External ID"):"",sv83:a,sv92:t.pageName,sv93:r}))}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RLf88b95f25fd04a8a87d02800a3ba6dca",name:"#50 [DR] [ALL] Reitek CMB (+ ADFORM)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track_reitek_cmb"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=e.detail.type||"";location.pathname.match("aol/abbonationline")||location.pathname.match("aol/cmn")?t.pageName=window.pagenameBaseAolRenew+e.detail.step+" "+a:t.pageName=_satellite.getVar("[DigitalData] PageName")+e.detail.step+" "+a,":cmb form:typ"==e.detail.step&&(t.events="event163",t.transactionID=e.detail.transid),t.server=document.domain,t.prop54=window.location.href,t.prop55=window.location.href.split(/[?#]/)[0],t.prop54&&(t.eVar54="D=c54"),t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/27331c16692c/33a862a7054a/7aed57be19fa/RC6dc7126d1ab442c1af3247f7cabcf66a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL299ad3fd0c324735a03ff3d36a3f5325",name:"#50 [DR] Tracking FAQ Corporate",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track_trackingfaqcorporate_action"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.events="",t.pageName="",t.linkTrackVars="events,eVar24,prop54,eVar54,prop55,eVar55",t.linkTrackEvents=t.events="event16",t.eVar24="faq:"+_satellite.getVar("track_trackingfaqcorporate_label"),t.prop54=window.location.href,t.prop54&&(t.eVar54="D=c54"),t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"trackingfaqcorporate",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLf55453dc23014b6c962df3d0a070ca1e",name:"#50 [ER] Apertura Chat - Disdetta Assistenza",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button.chatShow",elementProperties:[{name:"id",value:"liveagent_button_online_5731o000000CcCw"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.location.pathname.match(/assistenza\/disdetta-abbonamento/)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageName="",t.linkTrackVars="events,eVar54,prop54,eVar80,eVar81",t.events="",t.linkTrackEvents=t.events="event11",t.eVar80="Chat Assistenza Disdetta",t.eVar81=t.eVar54=t.prop54=document.location.href}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"chat_assistenza_disdetta",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLf24f457482574fcdae6ccd6f8742d571",name:"#50 [PL] [TAG TERZI] DFP (Libreria)",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return void 0!==_satellite.cookie.get("ext")&&!location.href.match(/file:\/\/\/C\:\//)&&!document.domain.match(/(caem|saem|preaem|collam|collprj|collnew|collnew2|collcms|preprod)/)}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'var extid = _satellite.cookie.get("ext") != "undefined" ? _satellite.cookie.get("ext") : "";\n\n//DoubleClick for Publishers (DFP)\nvar axel = Math.random() + "";\nvar a = axel * 10000000000000;\nvar doubleclickImg = document.createElement("img");\ndoubleclickImg.setAttribute("style", "display: none;");\ndoubleclickImg.setAttribute("src", "https://pubads.g.doubleclick.net/activity;dc_iu=/316816995/DFPAudiencePixel;ord="+ a + "_" + extid + ";dc_seg=655458664?");\ndocument.body.insertBefore(doubleclickImg, document.getElementById("header"));',language:"javascript"}}]},{id:"RL9a2d5016772b48f39abff49a603d4956",name:"#50 [DR] Flusso Disdetta Cartonato BB",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackdisdetta"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["scegli.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){console.info("ADOBE LAUNCH - trackdisdetta + pagename:"+_satellite.getVar("dis_pagename")),t.pageName=_satellite.getVar("dis_pagename"),t.channel="corporate",t.prop59="assistenza",t.prop60="disdetta-abbonamento-wifi",t.prop59&&(t.eVar59="D=c59"),t.prop60&&(t.eVar60="D=c60"),t.eVar28="",t.eVar29="",_satellite.getVar("dis_motivazione")&&(t.eVar28=_satellite.getVar("dis_motivazione")),_satellite.getVar("dis_modalita")&&(t.eVar29=_satellite.getVar("dis_modalita"))}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLebd6761b5af14910bcea328aa160f52f",name:"#55 [ER] [CLICK CORPORATE] Index Tv - Voci Submenu ",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".dropdown.explode li",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"/tv"===location.pathname}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="eVar24,prop55,eVar55,events",t.linkTrackEvents=t.events="event16";var a=this.textContent.toLowerCase().replace(" ","");t.eVar24="index-tv_menu_"+a+"_anchor",t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}}]},{id:"RL69dcd3c4c22f473ebc61f61dd9bc3baa",name:"#50 [ER] Apertura Chat ",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"P, A, DIV",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!(!this.id.match(/liveagent.*\d|div-nav-chat|chat_action/)||this.id.match(/57324000000PD7N/)||this.id.match(/Close/))}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/27331c16692c/33a862a7054a/7aed57be19fa/RC3c3861fe04ed4e81a5eb0e055f17a7be-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6d502d1bd999498b9b83eb767b55ae2b",name:"[PL] [AOL] CMN - Flusso da chat ",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!(!document.location.href.match(/content\/newaol\/common\/cmn_chat/)&&!document.location.href.match(/content\/aol\/common\/cmn_chat/))}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){console.info("ADOBE LAUNCH: flusso cmn da chat uploaded"),t.pageName=document.location.href.match(/chkp=0/)?"sky:acquista:no chat:cmn:typ":document.location.href.match(/chkp=1/)?"sky:acquista:no chat:cmn:ko":"sky:acquista:no chat:cmn",t.prop59="aol",t.prop59&&(t.eVar59="D=c59")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RL2c37c1c9e68e4fd79ca61a37a3ebbf86",name:"#50 [DR] Speed Test Aol Crosspage - esito negativo",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"fibratest_negativo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["abbonamento.sky.it","collprj.abbonamento.sky.it","collam.abbonamento-o.sky.it","collam.abbonamento.sky.it","collprj.abbonamento-o.sky.it","abbonamento-o.sky.it","preprod.abbonamento-o.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.server=_satellite.getVar("[ALL] Server"),t.channel=_satellite.getVar("[DigitalData] Channel")?_satellite.getVar("[DigitalData] Channel"):"",t.pageName="sky:acquista:crosspage:esito-negativo",t.prop2=t.getPreviousValue(t.pageName,"gpv_pn"),t.prop5=_satellite.getVar("[DigitalData] Quarto Livello")?_satellite.getVar("[DigitalData] Quarto Livello"):"",t.prop29=_satellite.getVar("[ALL] Query String Parameter Social")?_satellite.getVar("[ALL] Query String Parameter Social"):"",t.prop50=_satellite.getVar("[ALL] External Id")?_satellite.getVar("[ALL] External Id"):"",t.prop54=location.href,t.prop55=location.href.split(/[?#]/)[0],t.prop59=_satellite.getVar("[DigitalData] Secondo Livello")?_satellite.getVar("[DigitalData] Secondo Livello"):"",t.prop60=_satellite.getVar("[DigitalData] Terzo Livello")?_satellite.getVar("[DigitalData] Terzo Livello"):"",t.prop67=_satellite.getVar("[ALL] Cookie Login Status"),t.pageName&&(t.eVar1="D=pageName"),t.prop2&&(t.eVar2="D=c2"),t.prop5&&(t.eVar5="D=c5"),t.prop54&&(t.eVar54="D=c54"),t.prop55&&(t.eVar55="D=c55"),t.prop59&&(t.eVar59="D=c59"),t.prop60&&(t.eVar60="D=c60"),t.prop67&&(t.eVar67="D=c67")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RLf6ad9596f8874a33853b8bc5ac00797a",name:"[PL] [AOL] atterraggio in promo",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["collprj.abbonamento.sky.it","abbonamento.sky.it","collam.abbonamento.sky.it","collam.abbonamento-o.sky.it","collprj.abbonamento-o.sky.it","abbonamento-o.sky.it","preprod.abbonamento-o.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){console.info("ADOBE LAUNCH: atterraggio uploaded"),t.server=_satellite.getVar("[ALL] Server"),t.channel="Acquista",location.href.match(/aol\/cmnchat/)?(t.pageName="sky:acquista:no chat:cmn",window.pagenameBaseAolRenew="sky:acquista:no chat:cmn"):location.href.match(/aol\/cmn/)?(t.pageName="sky:acquista:no promo:cmn",window.pagenameBaseAolRenew="sky:acquista:no promo:cmn"):location.href.match(/aol\/crosspage/)?t.pageName="sky:acquista:crosspage":t.pageName="sky:acquista",""!==_satellite.getVar("[ALL] Query String Parameter Cmp")&&(t.campaign=_satellite.getVar("[ALL] Query String Parameter Cmp")),t.prop2=t.getPreviousValue(t.pageName,"gpv_pn"),t.prop29=_satellite.getVar("[ALL] Query String Parameter Social")?_satellite.getVar("[ALL] Query String Parameter Social"):"",t.prop34=_satellite.getVar("[AOL] Query String Parameter Codpromo")?_satellite.getVar("[AOL] Query String Parameter Codpromo"):"",t.prop50=_satellite.getVar("[ALL] External Id")?_satellite.getVar("[ALL] External Id"):"",t.prop54=location.href,t.prop55=location.href.split(/[?#]/)[0],t.prop59="aol",t.prop67=_satellite.getVar("[ALL] Cookie Login Status"),t.pageName&&(t.eVar1="D=pageName"),t.prop2&&(t.eVar2="D=c2"),t.eVar10=_satellite.getVar("[ALL] Query String Parameter Intcmp")?_satellite.getVar("[ALL] Query String Parameter Intcmp"):"",location.pathname.match(/\/aol\//)||(t.eVar22="undefined"!=typeof mobileDTMcheck&&mobileDTMcheck?"mobile site":"desktop site"),t.prop50&&(t.eVar50="D=c50"),t.prop34&&(t.eVar34="D=c34"),t.prop50&&(t.eVar50="D=c50"),t.prop54&&(t.eVar54="D=c54"),t.prop55&&(t.eVar55="D=c55"),t.prop59&&(t.eVar59="D=c59"),t.prop67&&(t.eVar67="D=c67")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RL128cd4c3ca3f42fb976e97a71a86348f",name:"[ER] [AOL] Click Buttun Applica Filtri",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".sky-btn.sky-btn-blue.btn-save-filter",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["collprj.abbonamento.sky.it","abbonamento.sky.it","collam.abbonamento.sky.it","collam.abbonamento-o.sky.it","collprj.abbonamento-o.sky.it","abbonamento-o.sky.it","preprod.abbonamento-o.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageName="",t.events="",t.linkTrackVars="events,eVar24,prop55,eVar55",t.linkTrackEvents=t.events="event16",t.eVar24="applica filtri",t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{channel:"Acquista"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"aol_button_applica_filtri",linkType:"o"}}]},{id:"RL2bf013602661419cb138bce05c436bb8",name:"#50 [PL] [TAG TERZI] [AOL] ADFORM (DMP) ",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["collprj.abbonamento.sky.it","abbonamento.sky.it","collam.abbonamento.sky.it","collam.abbonamento-o.sky.it","collprj.abbonamento-o.sky.it","abbonamento-o.sky.it","preprod.abbonamento-o.sky.it"]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/27331c16692c/33a862a7054a/7aed57be19fa/RCca742e6489ec4599a738638cf90307b0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL969a183b39fc4de4b11f7d5475dfeb71",name:"#55 [ER] [CLICK CORPORATE] Landing Apertura CMN Vivocha ",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"table.vivocha_widget_label_right",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageName="",t.linkTrackVars="eVar24,prop55,eVar55,events",t.linkTrackEvents=t.events="event16",t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55"),window.location.href.match(/skyportal\/faces\/faiDaTe(.*)/)?t.eVar24="wsc-vivocha-serve aiuto":t.eVar24="landing ups-serve aiuto"}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"cta_cmn_vivocha",linkType:"o"}}]},{id:"RLfdcc9cb219944c549440ea964cb7ea96",name:"#50 [PL] Atterraggio Flusso Disdetta Cartonato BB",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!(!location.href.match("scegli.sky.it/disdetta-abbonamento-wifi/index.php/pages/survey")&&!location.href.match("https://scegli.sky.it/disdetta-abbonamento-wifi/"))}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.channel="corporate",t.prop59="assistenza",t.prop60="disdetta-abbonamento-wifi",t.prop59&&(t.eVar59="D=c59"),t.prop60&&(t.eVar60="D=c60"),location.href.match("scegli.sky.it/disdetta-abbonamento-wifi/index.php/pages/survey")?t.pageName="sky:assistenza:disdetta-abbonamento-wifi:scelta contratto":location.href.match("https://scegli.sky.it/disdetta-abbonamento-wifi/")&&(t.pageName="sky:assistenza:disdetta-abbonamento-wifi"),console.info("ADOBE LAUNCH - pl + pagename:"+t.pageName)}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RL89c169df052b44448e14dc25d5ac64dc",name:"#50 [ER] [FAQ CORPORATE] Old pages",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.faq .panel-group .panel.panel-default .panel-heading a.collapsed",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!(!document.location.href.match(/www\.sky\.it\/tv/)&&!document.location.href.match(/www\.sky\.it\/offerte/))}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=(a=(a=this.textContent.toLowerCase()).replace(/\n/g," ")).replace(/\s\s+/g," ");t.linkTrackVars="eVar24,prop55,eVar55,events",t.linkTrackEvents=t.events="event16",t.eVar24="faq: "+a.trim(),t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"faq_corporate",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL8393074d16b44ca5abd41b8f11497d84",name:"#55 [ER] [CLICK CORPORATE] Dazn - Tool Cta aderisci offerta (satellite)",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#dazn-flow-final-cta",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.location.href.match(/tv\/dazn/)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="eVar24,prop55,eVar55,events",t.linkTrackEvents=t.events="event16",t.eVar24="dazn tool aderisci offerta standard",t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}}]},{id:"RLf58d577fa87842c9b24647e0ec62092a",name:"#50 [PL] [TAG TERZI] ADFORM (Marketer e DMP) - ALL",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["www.sky.it","svilcms.www.sky.it","caem.www.sky.it","caem.sky.it","collcms.www.sky.it","test.extra.sky.it","extra.sky.it","preprod-www.sky.it","collcms.hotclub.sky.it","scegli.sky.it","abbonamento.sky.it","hotclub.sky.it","test.scegli.sky.it","skyitalia.sky.it","collcms.skyitalia.sky.it","collam.abbonamento-o.sky.it","collam.abbonamento.sky.it","skyacademy.it","collcms.skyacademy.it","preprod.abbonamento.sky.it","sky.winnerland.com","smartlead.it","trova.sky.it","skylocator.nohup.it"]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/27331c16692c/33a862a7054a/7aed57be19fa/RC95c3023c593e43e5bcefc2fc3b9a95df-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4506373f426e45d2ad7efe39a18b11b2",name:"#55 [ER] [CLICK CORPORATE] Sky Kids - Cta attiva kids - faq",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#collapse3 > div > p > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.location.href.match(/tv\/sky-kids/)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="eVar24,eVar55,prop55,events",t.linkTrackEvents=t.events="event16",t.eVar24="cta_sky-kids_faq_per-attivare",t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}}]},{id:"RL94a6e74e07ff422f909621086bbb7440",name:"#55 [ER] [CLICK CORPORATE] Landing recontracting - Cta ti richiamiamo noi",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".cta-call.vvc_button, .cta-call.ctliveClassOnClick",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!(!document.location.href.match(/landing\/abbonarsi\/recontracting/)&&!document.location.href.match(/landing-new\/abbonarsi\/recontracting/))}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageName="",t.linkTrackVars="eVar24,prop55,eVar55,events",t.linkTrackEvents=t.events="event16",t.eVar24="landing-recontracting_cta_tirichiamiamo_overlay",t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL6cbfc5b6410145ca8ff2bb69093fff51",name:"#55 [ER] [CLICK CORPORATE] Landing Apertura CMN Reitek",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.reitekButton",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageName="",t.linkTrackVars="eVar24,prop55,eVar55,events",t.linkTrackEvents=t.events="event16",t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55"),window.location.href.match(/skyportal\/faces\/faiDaTe(.*)/)?t.eVar24="wsc-vivocha-serve aiuto":t.eVar24="landing ups-serve aiuto",window.location.href.match(/skyportal\/faces\/faiDaTe(.*)/)?t.eVar24="wsc-vivocha-serve aiuto":window.location.href.match(/landing-new\/sky-wifi-fibra\/abbonarsi\/3P\/nuovoabbonamento-3P-3/)||window.location.href.match(/landing-new\/sky-wifi-fibra\/abbonarsi\/3P\/nuovoabbonamento-3P-9/)?t.eVar24="cta_tichiamiamonoi_landing3P-prospect":window.location.href.match(/landing-new\/partnership\/3P\/nuovoabbonamento/)?t.eVar24="partnership_GruppoDistribuzione_tichiamiamonoi_landing3P":window.location.href.match(/landing-new\/sky-wifi-fibra\/abbonarsi\/3P\/nuovoabbonamento-3P-14/)?t.eVar24="cta_tichiamiamonoi_landing3P-prospect":location.pathname.match(/landing-new\/offerte-partner\/3P\/nuovoabbonamento/)&&!location.pathname.match(/nuovoabbonamento-clienti/)?t.eVar24="offertepartner_nuovoabbonamento_tichiamiamonoi_landing3P":location.pathname.match(/landing-new\/offerte-partner\/3P\/nuovoabbonamento-clienti/)?t.eVar24="offertepartner_nuovoabbonamentoclienti_tichiamiamonoi_landing3P":location.pathname.match(/landing-new\/sky-wifi-fibra\/clienti\/wayout3p_cmb\/cmn/)||location.pathname.match(/landing-new\/sky-wifi-fibra\/clienti\/comparatori/)?t.eVar24="cta_tichiamiamonoi_landing-parco":t.eVar24="landing ups-serve aiuto"}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"cta_cmn_reitek",linkType:"o"}}]},{id:"RL4a0cfca52a1f4732a360dc08d610c4c9",name:"#55 [ER] [CLICK CORPORATE] Netflix account - Cta recupera credenziali",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button.basicTransition#recoverButton",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.location.href.match(/it\/netflix-account/)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="eVar24,prop55,eVar55,events",t.linkTrackEvents=t.events="event16",t.eVar24="attivanetflix_cta_recupera-credenziali_vai-al-faidate",t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}}]},{id:"RL9f02b00d03f64e1e9627d10b2e6d3ba5",name:"[DR] [AOL] crea skyid ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"skyidreg"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["collprj.abbonamento.sky.it","abbonamento.sky.it","collam.abbonamento.sky.it","collam.abbonamento-o.sky.it","collprj.abbonamento-o.sky.it","abbonamento-o.sky.it","preprod.abbonamento-o.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.channel="Acquista",t.events="event36",t.pageName=e.detail.pagename,t.prop34=_satellite.getVar("aolrenew_promocode"),t.prop37=_satellite.getVar("aolrenew_offertype"),t.prop54=location.href,t.prop55=location.href.split(/[?#]/)[0],t.prop59="aol",t.prop34&&(t.eVar34="D=c34"),t.prop37&&(t.eVar37="D=c37"),t.prop54&&(t.eVar54="D=c54"),t.prop55&&(t.eVar55="D=c55"),t.prop59&&(t.eVar59="D=c59")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLf91be10d9aca47ba84a2e68a4a95a9d4",name:"[DR] [AOL] aolrenewmodal_action (+ ADFORM + GOOGLE ADS)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"aolrenewmodal_action"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["collprj.abbonamento.sky.it","abbonamento.sky.it","collam.abbonamento.sky.it","collam.abbonamento-o.sky.it","collprj.abbonamento-o.sky.it","abbonamento-o.sky.it","preprod.abbonamento-o.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){console.info("ADOBE LAUNCH: aolrenewmodal_action uploaded"),t.channel="Acquista",t.events=t.products="",":salva preventivo:typ"==_satellite.getVar("aolrenew_action")&&(t.events="event15"),":salva abbonamento:typ"==_satellite.getVar("aolrenew_action")&&(t.events="event15"),":recupera preventivo:typ"==_satellite.getVar("aolrenew_action")&&(t.events="event114"),t.prop34=_satellite.getVar("aolrenew_promocode"),t.prop37=_satellite.getVar("aolrenew_offertype"),t.pageName=window.pagenameBaseAolRenew+_satellite.getVar("aolrenew_action"),t.prop59="aol",t.prop62="",t.pageName&&(t.eVar1="D=pageName"),t.prop34&&(t.eVar34="D=c34"),t.prop37&&(t.eVar37="D=c37"),t.prop59&&(t.eVar59="D=c59"),t.evar15="",t.eVar98="",":no chat:cmn form:typ"==_satellite.getVar("aolrenew_action")?t.pageName="sky:acquista:no chat:cmn form:typ":":no chat:cmn form:ko"==_satellite.getVar("aolrenew_action")&&(t.pageName="sky:acquista:no chat:cmn form:ko"),(_satellite.getVar("leadId")&&(!_satellite.readCookie("xacts=")||_satellite.readCookie("xacts=")&&_satellite.readCookie("xacts").indexOf(_satellite.getVar("leadId")+"-")<0)&&":cmn form:typ"==_satellite.getVar("aolrenew_action")||":help:cmn form:typ"==_satellite.getVar("aolrenew_action")||":cmn form push:typ"==_satellite.getVar("aolrenew_action")||":no chat:cmn form:typ"==_satellite.getVar("aolrenew_action"))&&(t.transactionID=_satellite.getVar("leadId"),t.events="event86",t.eVar22="call me now",t.purchaseID="",t.zip="",t.eVar15=t.eVar26=t.eVar35=t.prop35=t.eVar30="",_satellite.setCookie("xacts",_satellite.readCookie("xacts")+t.transactionID+"-",750))}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/27331c16692c/33a862a7054a/7aed57be19fa/RC4dec14e92a4647cda32a035572445524-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/27331c16692c/33a862a7054a/7aed57be19fa/RCf1aa58588ef748e684a8cbe6506037f1-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/27331c16692c/33a862a7054a/7aed57be19fa/RC40c95cd565df4478842c90a76fd47c62-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc0aa35ad8f81422086442baaa98a5cfb",name:"#55 [ER] [CLICK CORPORATE] Landing msa - Cta Google store",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".google-play",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.location.href.match(/app-my-sky/)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageName="",t.linkTrackVars="eVar24,prop54,eVar54,prop55,eVar55,events",t.linkTrackEvents=t.events="event16",t.eVar24="myskyapp_googlestore",t.prop54=window.location.href,t.prop55=window.location.href.split(/[?#]/)[0],t.prop54&&(t.eVar54="D=c54"),t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}}]},{id:"RL4eca2c27d6ce455d9a88daad5fd64bd3",name:"#50 [PL] [TAG TERZI] COMSCORE (Libreria e parametri)",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/27331c16692c/33a862a7054a/7aed57be19fa/RC611911f3d2f649b5832473ec68c92c4d-source.min.js",language:"html",isExternal:!0}}]},{id:"RLef1836ae9ce44c3fa7b408c8f224bab1",name:"#50 [PL] CMN NO AOL (ADFORM)",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!("callmenow-new"!=location.pathname.split(/[/]/)[1]||"res"!=location.pathname.split(/[/]/)[2]||!location.href.match(/typ/)||document.location.href.match(/partnership/)||document.location.href.match(/notyp|no-typ/))}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"if (window.s !== window.s_c_il[1]) window.s = window.s_c_il[1];\n\n  window._adftrack = {\n    HttpHost: 'track.adform.net',\n    pm: 124076,\n    divider: encodeURIComponent('|'),\n    pagename: encodeURIComponent('CMN_LP_new'),\n    order : { \n             sv13: _satellite.cookie.get(\"ext\") ? _satellite.cookie.get(\"ext\") : \"\",\n             sv54: _satellite.getVar(\"[ALL] TransactionId\") ? _satellite.getVar(\"[ALL] TransactionId\") : \"\"\n        }\n  };\n\n  var adformlib = document.createElement('script'); \n  adformlib.type = 'text/javascript'; \n  adformlib.async = true; \n  adformlib.src = 'https://s2.adform.net/banners/scripts/st/trackpoint-async.js'; \n  document.getElementsByTagName('script')[0].parentNode.insertBefore(adformlib, document.getElementsByTagName('script')[0]); \n",language:"javascript"}}]},{id:"RL1e5fa13e27f6414f8644c2765c848baf",name:"[DR] [AOL] aolrenewcart_build",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"aolrenewcart_build"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["collprj.abbonamento.sky.it","abbonamento.sky.it","collam.abbonamento.sky.it","collam.abbonamento-o.sky.it","collprj.abbonamento-o.sky.it","abbonamento-o.sky.it","preprod.abbonamento-o.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){console.info("ADOBELaunch: aolrenewcart_build uploaded"),t.pageName=t.products="",t.linkTrackVars="events,products,eVar34,prop34,eVar37,prop37,eVar35,prop35,prop62,eVar98",t.events="",t.transactionID="",t.linkTrackEvents=t.events="add"==_satellite.getVar("aolrenew_cart")?"scAdd":"remove"==_satellite.getVar("aolrenew_cart")?"scRemove":"",t.products=_satellite.getVar("aolrenew_product"),t.prop34=_satellite.getVar("aolrenew_promocode"),t.prop35=_satellite.getVar("[AOL] EntryProduct"),t.prop37=_satellite.getVar("aolrenew_offertype"),t.prop62="",t.prop34&&(t.eVar34="D=c34"),t.prop35&&(t.eVar35="D=c35"),t.prop37&&(t.eVar37="D=c37"),t.eVar98=""}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"aol_add_remove",linkType:"o"}}]},{id:"RLe14d9606352b40a98e63c7cbc5438d1e",name:"#55 [ER] [CLICK CORPORATE] Netflix intrattenimento - Tab",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.netflix-acquista_tabs-container--tab",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.location.href.match(/tv\/intrattenimento-plus/)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="eVar24,prop55,eVar55,events",t.linkTrackEvents=t.events="event16";var a=$(this).text().trim().toLowerCase();t.eVar24="tab:"+a,t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}}]},{id:"RL60d7ab8408c841ffa2037c3db594cd05",name:"#05 [PL] [TARGET] Library V2",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:5}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["www.sky.it","collcms.www.sky.it","preprod.abbonamento.sky.it","abbonamento.sky.it","collprj.abbonamento-o.sky.it","abbonamento-o.sky.it","preprod.abbonamento-o.sky.it"]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!location.href.match(/sky\.it\/offerte\?ver=b/)}}}],actions:[{modulePath:"adobe-target-v2/lib/loadTarget.js",settings:{}},{modulePath:"adobe-target-v2/lib/firePageLoad.js",settings:{bodyHiddenStyle:"body {opacity: 0}",bodyHidingEnabled:!0}}]},{id:"RLb7c8e2d15e39457c9f78d191ac5f208b",name:"[DR] [AOL] aolrenewchat",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"aolrenewchat"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["collprj.abbonamento.sky.it","abbonamento.sky.it","collam.abbonamento.sky.it","collam.abbonamento-o.sky.it","collprj.abbonamento-o.sky.it","abbonamento-o.sky.it","preprod.abbonamento-o.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){console.info("ADOBE LAUNCH: apertura chat uploaded"),t.pageName=t.products="",t.linkTrackVars="events,eVar34,eVar37,eVar80,eVar81,eVar98,prop34,prop37,prop62",t.events="",t.linkTrackEvents=t.events="event11",t.prop34=_satellite.getVar("aolrenew_promocode"),t.prop37=_satellite.getVar("aolrenew_offertype"),t.prop62="",t.prop34&&(t.eVar34="D=c34"),t.prop37&&(t.eVar37="D=c37"),t.eVar80="chat renew aol",t.eVar81=document.location.href,t.eVar98=""}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"aolrenew_chat",linkType:"o"}}]},{id:"RLadb035a76a8140cd988c125d39671dfb",name:"#50 [DR] Speed Test Configuratore - esito in parte positivo",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"configuratore-speed-test_inpartepositivo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["www.sky.it","caem.sky.it","collcms.www.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.server=_satellite.getVar("[ALL] Server"),t.channel=_satellite.getVar("[DigitalData] Channel")?_satellite.getVar("[DigitalData] Channel"):"",t.pageName="sky:offerte:configuratore-abbonamento-sky:esito-speed-test-inpartepositivo",t.prop2=t.getPreviousValue(t.pageName,"gpv_pn"),t.prop5=_satellite.getVar("[DigitalData] Quarto Livello")?_satellite.getVar("[DigitalData] Quarto Livello"):"",t.prop29=_satellite.getVar("[ALL] Query String Parameter Social")?_satellite.getVar("[ALL] Query String Parameter Social"):"",t.prop50=_satellite.getVar("[ALL] External Id")?_satellite.getVar("[ALL] External Id"):"",t.prop54=location.href,t.prop55=location.href.split(/[?#]/)[0],t.prop59=_satellite.getVar("[DigitalData] Secondo Livello")?_satellite.getVar("[DigitalData] Secondo Livello"):"",t.prop60=_satellite.getVar("[DigitalData] Terzo Livello")?_satellite.getVar("[DigitalData] Terzo Livello"):"",t.prop67=_satellite.getVar("[ALL] Cookie Login Status"),t.pageName&&(t.eVar1="D=pageName"),t.prop2&&(t.eVar2="D=c2"),t.prop5&&(t.eVar5="D=c5"),t.prop54&&(t.eVar54="D=c54"),t.prop55&&(t.eVar55="D=c55"),t.prop59&&(t.eVar59="D=c59"),t.prop60&&(t.eVar60="D=c60"),t.prop67&&(t.eVar67="D=c67")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RL8a6b7d0cb88b49be8ccf9f446610c646",name:"#55 [ER] [CLICK CORPORATE] Offerte - Click filtro prezzo alto",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".order-by.higher-price",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.location.href.match(/offerte/)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageName="",t.linkTrackVars="eVar24,prop55,eVar55,events",t.linkTrackEvents=t.events="event16",t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55"),t.eVar24="offerteindex_filtro_prezzopiualto"}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}}]},{id:"RLd5c2255416bd44d6a9fa743b752f5e1c",name:"#50 [ALL] CMN (GOOGLE ADS)",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!(!location.search.match(/leadid=/i)||document.location.href.match(/notyp|no-typ/)||!location.href.match(/www.sky.it/))}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"\x3c!-- Global site tag (gtag.js) - Google Ads: 1048265226 --\x3e\n<script async src=\"https://www.googletagmanager.com/gtag/js?id=AW-1048265226\"><\/script>\n<script>\n  window.dataLayer = window.dataLayer || [];\n  function gtag(){dataLayer.push(arguments);}\n  gtag('js', new Date());\n\n  gtag('config', 'AW-1048265226');\n  gtag('event', 'conversion', {'send_to': 'AW-1048265226/23mACIau1MIBEIqE7fMD'}); \n<\/script>",language:"html"}}]},{id:"RLf4c1fed6d9214fd9a9f26dfd89e5426d",name:"#50 [DR] Speed Test Configuratore - esito positivo",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"configuratore-speed-test_positivo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["www.sky.it","caem.sky.it","collcms.www.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.server=_satellite.getVar("[ALL] Server"),t.channel=_satellite.getVar("[DigitalData] Channel")?_satellite.getVar("[DigitalData] Channel"):"",t.pageName="sky:offerte:configuratore-abbonamento-sky:esito-speed-test-positivo",t.prop2=t.getPreviousValue(t.pageName,"gpv_pn"),t.prop5=_satellite.getVar("[DigitalData] Quarto Livello")?_satellite.getVar("[DigitalData] Quarto Livello"):"",t.prop29=_satellite.getVar("[ALL] Query String Parameter Social")?_satellite.getVar("[ALL] Query String Parameter Social"):"",t.prop50=_satellite.getVar("[ALL] External Id")?_satellite.getVar("[ALL] External Id"):"",t.prop54=location.href,t.prop55=location.href.split(/[?#]/)[0],t.prop59=_satellite.getVar("[DigitalData] Secondo Livello")?_satellite.getVar("[DigitalData] Secondo Livello"):"",t.prop60=_satellite.getVar("[DigitalData] Terzo Livello")?_satellite.getVar("[DigitalData] Terzo Livello"):"",t.prop67=_satellite.getVar("[ALL] Cookie Login Status"),t.pageName&&(t.eVar1="D=pageName"),t.prop2&&(t.eVar2="D=c2"),t.prop5&&(t.eVar5="D=c5"),t.prop54&&(t.eVar54="D=c54"),t.prop55&&(t.eVar55="D=c55"),t.prop59&&(t.eVar59="D=c59"),t.prop60&&(t.eVar60="D=c60"),t.prop67&&(t.eVar67="D=c67")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RL313948d62a504006b7df29d2e51757e0",name:"#55 [ER] [CLICK CORPORATE] Sky Kids - Cta attiva kids ",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#wrapper > section.help.spotify-help.scrollAnimation > div.bottom > div > div.row.row-eq-height > div > div.swiper-wrapper > div.spotify-slide.swiper-slide-next > div > p > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.location.href.match(/tv\/sky-kids/)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="eVar24,eVar55,prop55,events",t.linkTrackEvents=t.events="event16",t.eVar24="cta_sky-kids_attiva",t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}}]},{id:"RL548576e887de463994edf2787532867f",name:"#55 [ER] [CLICK CORPORATE] SkyQ attivazione - Box Cta scopri",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".two-boxes-hover .box .mask .hover .cta",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.location.href.match(/tv\/skyq\/attivazione/)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="eVar24,prop55,eVar55,events",t.linkTrackEvents=t.events="event16";var a=$(this).first().text().toLowerCase();t.eVar24=a.trim(),t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}}]},{id:"RL614fa4e1b0214e2ab8a5dda953a74f96",name:"#50 [PL] [TAG TERZI] Google ADS (Libreria)",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!location.href.match(/file:\/\/\/C\:\//)}}},{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["www.sky.it"]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"\x3c!-- Global site tag (gtag.js) - Google Ads: 1048265226 --\x3e\n<script async src=\"https://www.googletagmanager.com/gtag/js?id=AW-1048265226\"><\/script>\n<script>\n  window.dataLayer = window.dataLayer || [];\n  function gtag(){dataLayer.push(arguments);}\n  gtag('js', new Date());\n\n  gtag('config', 'AW-1048265226');\n<\/script>",language:"html"}}]},{id:"RL9253dd3dee394012a73ab708d57ca351",name:"#55 [ER] [CLICK CORPORATE] SkyQ attivazione - Button switch",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".switch-controller .switch-button button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.location.href.match(/tv\/skyq\/attivazione/)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="eVar24,prop55,eVar55,events",t.linkTrackEvents=t.events="event16";var a=$(this).first().text().toLowerCase();t.eVar24=a.trim(),t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}}]},{id:"RL8202781c048a460288b8beae12f6b50b",name:"#50 [DR] Tracking CTA Extra",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track_trackingctaextra_action"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){document.location.href.match(/extra\/csr\/unmaredasalvare/)?(t.events="",t.linkTrackVars="events,eVar24,prop55,eVar55",t.linkTrackEvents=t.events="event16",t.eVar24="quiz ocean typ",t.prop55=t.eVar55=window.location.href.split(/[?#]/)[0]):(t.events="",t.pageName="",t.linkTrackVars="events,eVar39,prop54,eVar54,prop55,eVar55",t.eVar39=_satellite.getVar("track_trackingctaextra_step"),t.eVar39&&(t.linkTrackEvents=t.events="event87"),t.prop54=window.location.href,t.prop54&&(t.eVar54="D=c54"),t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")),console.info("ADOBE LAUNCH Trackingctaextra : "+_satellite.getVar("track_trackingctaextra_step"))}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"trackingctaextra",linkType:"o"}}]},{id:"RL55890d871eac4407b612bb97cdeab4b4",name:"#50 [ER] [ALL] Logout",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".logout-balloon-logout-area, .logout-overlay-logout-area",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageName="",t.linkTrackVars="server,prop54,prop55,eVar54,eVar55",t.linkTrackEvents=t.events="event120",t.prop54=window.location.href,t.prop55=window.location.href.split(/[?#]/)[0],t.prop54&&(t.eVar54="D=c54"),t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"logout_sky",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL78f2d346d3164195b9722c326da20e7d",name:"#50 [ER] [ALL] Zone Id",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a, img.sky-logo",elementProperties:[{name:"zoneid",value:".*",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!this.getAttribute("zoneid")}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageName="",t.linkTrackVars="eVar79",t.eVar79=this.getAttribute("zoneid")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"zoneid_menu",linkType:"o"}}]},{id:"RLa8ac3c81596c4cf795144b049005a33d",name:"#50 [DR] Tracking Click Corporate",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track_trackingclickcorporate_arrow"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageName="",t.events="",t.linkTrackVars="events,eVar24,prop55,eVar55",t.linkTrackEvents=t.events="event16",t.eVar24=_satellite.getVar("track_trackingclickcorporate_category").toLowerCase(),t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"trackingclickcorporate",linkType:"o"}}]},{id:"RL6a89c251639a44f898ceee22adf94489",name:"#02 [PL] [ALL] Library Loaded Heartbeats",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:2}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:'/*************************************************************************\n * ADOBE CONFIDENTIAL\n * ___________________\n *\n * Copyright 2019 Adobe\n * All Rights Reserved.\n *\n * NOTICE: All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n **************************************************************************/\n/*\n * MediaSDK - 2.2.0 - 2019-02-12\n * Copyright (c) 2019 Adobe. All Rights Reserved.\n *\n * Copyright for external libraries used in Media SDK\n * JavaScript MD5 1.0.1\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n *\n *\n * umdjs (commonjsStrict.js)\n * Copyright (c) the UMD contributors\n * Licensed under the MIT license:\n * https://github.com/umdjs/umd/blob/master/LICENSE.md\n */\n(function (root, factory) {\n  if (typeof define === \'function\' && define.amd) {\n    define([\'exports\'], factory);\n  } else if (typeof exports === \'object\' && typeof exports.nodeName !== \'string\') {\n    factory(exports);\n  } else {\n    factory(root.ADB = {});\n  }\n}(typeof self !== \'undefined\' ? self : this, function (exports) {\n  var lib = {};\n  (function () {\n    \n\n// Heartbeat core\n!function(a){if(void 0===b)var b={};if(void 0===c)var c={};if(void 0===d)var d={};if(d.radio||(d.radio={}),d.plugin||(d.plugin={}),void 0===e)var e={};e.clock||(e.clock={}),function(a){"use strict";function b(a,b){var c=(65535&a)+(65535&b);return(a>>16)+(b>>16)+(c>>16)<<16|65535&c}function c(a,b){return a<<b|a>>>32-b}function d(a,d,e,f,g,h){return b(c(b(b(d,a),b(f,h)),g),e)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,c){a[c>>5]|=128<<c%32,a[14+(c+64>>>9<<4)]=c;var d,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(d=0;d<a.length;d+=16)i=m,j=n,k=o,l=p,m=e(m,n,o,p,a[d],7,-680876936),p=e(p,m,n,o,a[d+1],12,-389564586),o=e(o,p,m,n,a[d+2],17,606105819),n=e(n,o,p,m,a[d+3],22,-1044525330),m=e(m,n,o,p,a[d+4],7,-176418897),p=e(p,m,n,o,a[d+5],12,1200080426),o=e(o,p,m,n,a[d+6],17,-1473231341),n=e(n,o,p,m,a[d+7],22,-45705983),m=e(m,n,o,p,a[d+8],7,1770035416),p=e(p,m,n,o,a[d+9],12,-1958414417),o=e(o,p,m,n,a[d+10],17,-42063),n=e(n,o,p,m,a[d+11],22,-1990404162),m=e(m,n,o,p,a[d+12],7,1804603682),p=e(p,m,n,o,a[d+13],12,-40341101),o=e(o,p,m,n,a[d+14],17,-1502002290),n=e(n,o,p,m,a[d+15],22,1236535329),m=f(m,n,o,p,a[d+1],5,-165796510),p=f(p,m,n,o,a[d+6],9,-1069501632),o=f(o,p,m,n,a[d+11],14,643717713),n=f(n,o,p,m,a[d],20,-373897302),m=f(m,n,o,p,a[d+5],5,-701558691),p=f(p,m,n,o,a[d+10],9,38016083),o=f(o,p,m,n,a[d+15],14,-660478335),n=f(n,o,p,m,a[d+4],20,-405537848),m=f(m,n,o,p,a[d+9],5,568446438),p=f(p,m,n,o,a[d+14],9,-1019803690),o=f(o,p,m,n,a[d+3],14,-187363961),n=f(n,o,p,m,a[d+8],20,1163531501),m=f(m,n,o,p,a[d+13],5,-1444681467),p=f(p,m,n,o,a[d+2],9,-51403784),o=f(o,p,m,n,a[d+7],14,1735328473),n=f(n,o,p,m,a[d+12],20,-1926607734),m=g(m,n,o,p,a[d+5],4,-378558),p=g(p,m,n,o,a[d+8],11,-2022574463),o=g(o,p,m,n,a[d+11],16,1839030562),n=g(n,o,p,m,a[d+14],23,-35309556),m=g(m,n,o,p,a[d+1],4,-1530992060),p=g(p,m,n,o,a[d+4],11,1272893353),o=g(o,p,m,n,a[d+7],16,-155497632),n=g(n,o,p,m,a[d+10],23,-1094730640),m=g(m,n,o,p,a[d+13],4,681279174),p=g(p,m,n,o,a[d],11,-358537222),o=g(o,p,m,n,a[d+3],16,-722521979),n=g(n,o,p,m,a[d+6],23,76029189),m=g(m,n,o,p,a[d+9],4,-640364487),p=g(p,m,n,o,a[d+12],11,-421815835),o=g(o,p,m,n,a[d+15],16,530742520),n=g(n,o,p,m,a[d+2],23,-995338651),m=h(m,n,o,p,a[d],6,-198630844),p=h(p,m,n,o,a[d+7],10,1126891415),o=h(o,p,m,n,a[d+14],15,-1416354905),n=h(n,o,p,m,a[d+5],21,-57434055),m=h(m,n,o,p,a[d+12],6,1700485571),p=h(p,m,n,o,a[d+3],10,-1894986606),o=h(o,p,m,n,a[d+10],15,-1051523),n=h(n,o,p,m,a[d+1],21,-2054922799),m=h(m,n,o,p,a[d+8],6,1873313359),p=h(p,m,n,o,a[d+15],10,-30611744),o=h(o,p,m,n,a[d+6],15,-1560198380),n=h(n,o,p,m,a[d+13],21,1309151649),m=h(m,n,o,p,a[d+4],6,-145523070),p=h(p,m,n,o,a[d+11],10,-1120210379),o=h(o,p,m,n,a[d+2],15,718787259),n=h(n,o,p,m,a[d+9],21,-343485551),m=b(m,i),n=b(n,j),o=b(o,k),p=b(p,l);return[m,n,o,p]}function j(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function k(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function l(a){return j(i(k(a),8*a.length))}function m(a,b){var c,d,e=k(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=i(e,8*a.length)),c=0;c<16;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=i(f.concat(k(b)),512+8*b.length),j(i(g.concat(d),640))}function n(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function o(a){return unescape(encodeURIComponent(a))}function p(a){return l(o(a))}function q(a){return n(p(a))}function r(a,b){return m(o(a),o(b))}function s(a,b){return n(r(a,b))}function t(a,b,c){return b?c?r(b,a):s(b,a):c?p(a):q(a)}a.md5=t}(b),function(a){"use strict";var b={};b.startsWith=function(a,b){return 0==a.indexOf(b)},a.StringUtils=b}(b),function(a){"use strict";var b={};b.clone=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},b.merge=function(a,c){var d=b.clone(a);for(var e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);return d},b.append=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])},a.ObjectUtils=b}(b),function(a){"use strict";function b(a){if(null==a)return!0;for(var b=0;b<a.length;++b)if(isNaN(a[b]))return!1;return!0}function c(a,c){if("string"!=typeof a||"string"!=typeof c)return NaN;var d=a.split("."),e=c.split(".");if(!b(d)||!b(e))return NaN;for(var f=Math.max(d.length,e.length),g=0;g<f;++g){var h=void 0!=d[g]?d[g]:"0",i=void 0!=e[g]?e[g]:"0";if(h=Number(h),i=Number(i),h>i)return 1;if(h<i)return-1}return 0}var d={};d.isGreaterThan=function(a,b){return c(a,b)>0},d.isGreaterThanEqual=function(a,b){return c(a,b)>=0},d.isLessThan=function(a,b){return c(a,b)<0},d.isLessThanEqual=function(a,b){return c(a,b)<=0},d.isSame=function(a,b){return 0===c(a,b)},d.isDifferent=function(a,b){return 0!==c(a,b)},a.VersionUtils=d}(b),function(a){"use strict";function b(a,b,c){this.fn=a,this.ctx=b,this.params=c}b.prototype.run=function(){this.params?this.fn.apply(this.ctx,this.params):this.fn.apply(this.ctx)},a.radio.Command=b}(d),function(a){"use strict";function b(a,b){this._queue=[],this._lastTs=0,this._isSuspended=void 0!==a&&a,this._delay=void 0!==b?b:0}b.prototype.addCommand=function(a){this._queue.push(a),this._drain()},b.prototype.cancelAllCommands=function(){this._queue=[]},b.prototype.isEmpty=function(){return 0===this._queue.length},b.prototype.suspend=function(){this._isSuspended=!0},b.prototype.resume=function(){this._isSuspended=!1,this._drain()},b.prototype.flush=function(){this._isSuspended=!1;for(var a=0;a<this._queue.length;a++){this._queue[a].run()}this._queue=[]},b.prototype._drain=function(){if(!this._isSuspended&&!this._drainInProgress){this._drainInProgress=!0;var a=this;!function b(){var c=a._queue.shift();c?a._runCommand(c,function(){a._isSuspended||b()}):a._drainInProgress=!1}()}},b.prototype._runCommand=function(a,b){function c(){a.run(),null!=b&&b.call(d)}var d=this;if(0==this._lastTs)c();else{var e=(new Date).getTime(),f=e-this._lastTs;this._lastTs=e,f<this._delay?setTimeout(c,this._delay-f):c()}},a.radio.CommandQueue=b}(d),function(a){"use strict";function b(a,b){if(this._name=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._listeners={},this._requests={},this._commands={},this._isShutDown=!1}function c(a,c){if(a===c)return!0;for(var d=(a||"").split(b.SEPARATOR),e=(c||"").split(b.SEPARATOR),f=!0,g=0;g<d.length;g++)f=f&&(d[g]===b.WILDCARD||d[g]===e[g]);return f}b.WILDCARD="*",b.SEPARATOR=":",b.prototype.toString=function(){return"<channel: "+this._name+">"},b.prototype.shutdown=function(){this._isShutDown||(this._logger.debug(d,"#shutdown > Shutting down"),this.off(),this._requests={},this._commands={},this._isShutDown=!0)},b.prototype.on=function(a,b,c){this._isShutDown||(this._listeners[a]||(this._listeners[a]=[]),this._listeners[a].push({fn:b,ctx:c}))},b.prototype.off=function(a,b,c){if(!this._isShutDown){if(b="function"==typeof b?b:null,!a&&null==b&&!c)return void(this._listeners={});if(a)this._removeListener(a,b,c);else for(a in this._listeners)this._listeners.hasOwnProperty(a)&&this._removeListener(a,b,c)}},b.prototype.trigger=function(a){if(!this._isShutDown)for(var b in this._listeners)if(this._listeners.hasOwnProperty(b)&&c(b,a.name))for(var d=this._listeners[b].slice(0),e=0;e<d.length;e++){var f=d[e];f.fn.call(f.ctx,a)}},b.prototype.comply=function(a,b,c){this._isShutDown||(this._commands[a]={cmd:b,ctx:c})},b.prototype.command=function(a,b){if(!this._isShutDown){var c=this._commands[a];if(!c)return void this._logger.warn(d,"#command > No command handler for: "+a);c.cmd.call(c.ctx,b)}},b.prototype.reply=function(a,b,c){this._isShutDown||(this._requests[a]={fn:b,ctx:c})},b.prototype.request=function(a){if(!this._isShutDown){var b=this._requests[a];return b?b.fn.call(b.ctx):(this._logger.warn(d,"#request > No request handler for: "+a),null)}},b.prototype._removeListener=function(a,b,c){b="function"==typeof b?b:null;var d=this._listeners[a];if(d){if(!d.length||null==b&&!c)return void delete this._listeners[a];for(var e=0;e<d.length;e++){var f=d[e];null!==b&&b!==f.fn||c&&c!==f.ctx||this._listeners[a].splice(e,1)}}};var d="radio::Channel";a.radio.Channel=b}(d),function(a){"use strict";function b(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._channels={}}var c=a.radio.Channel;b.prototype.channel=function(a){return this._channels[a]||(this._channels[a]=new c(a,this._logger)),this._channels[a]},b.prototype.shutdown=function(){for(var a in this._channels)this._channels.hasOwnProperty(a)&&this._channels[a].shutdown()},a.radio.Radio=b}(d),function(a){"use strict";function b(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a}a.extend=b}(d),function(a){"use strict";function b(){}b.prototype.write=function(a){throw new Error("Implementation error: Method must be overridden.")},a.ILogWriter=b}(d),function(a){"use strict";function b(){}b.prototype.write=function(a){window.console&&window.console.log&&window.console.log(a)},a.LogWriter=b}(d),function(a){"use strict";function b(){}b.prototype.setLogWriter=function(a){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getLogWriter=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getEnabled=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.debug=function(a,b){throw new Error("Implementation error: Method must be overridden.")},b.prototype.info=function(a,b){throw new Error("Implementation error: Method must be overridden.")},b.prototype.warn=function(a,b){throw new Error("Implementation error: Method must be overridden.")},b.prototype.error=function(a,b){throw new Error("Implementation error: Method must be overridden.")},a.ILogger=b}(d),function(a){"use strict";function b(){this._logWriter=new d}function c(a){return a<10?"00"+a:a<100?"0"+a:""+a}var d=a.LogWriter;b.prototype.setLogWriter=function(a){if(!a)throw new Error("Reference to the ILogWriter object cannot be NULL");this._logWriter=a,this._enabled=!1},b.prototype.getLogWriter=function(){return this._logWriter},b.prototype.getEnabled=function(){return this._enabled},b.prototype.enable=function(){this._enabled=!0},b.prototype.disable=function(){this._enabled=!1},b.prototype.debug=function(a,b){this._log(a,f,b)},b.prototype.info=function(a,b){this._log(a,e,b)},b.prototype.warn=function(a,b){this._log(a,g,b)},b.prototype.error=function(a,b){this._log(a,h,b)},b.prototype._log=function(a,b,d){if(b==h||this._enabled){var e="",f=new Date;e+="["+f.toTimeString()+"."+c(f.getMilliseconds())+"] ["+b+"] ",e+="["+a+"] "+d,this._logWriter.write(e)}};var e="INFO",f="DEBUG",g="WARN",h="ERROR";a.Logger=b}(d),function(a){"use strict";function b(a,b){this._pluginName=a,this._eventName=b}var c=a.radio.Channel;b.prototype.getPluginName=function(){return this._pluginName},b.prototype.getEventName=function(){return this._eventName},b.prototype.getName=function(){return this._pluginName+c.SEPARATOR+this._eventName},a.Trigger=b}(d),function(a){"use strict";function b(a,b){this.name=a,this.data=b}b.SUCCESS="success",b.ERROR="error",b.createFromTrigger=function(a){return new b(a.getName())},a.Event=b}(d),function(a){"use strict";function b(){this._events={}}b.prototype.addEventListener=function(a,b,c){a&&b&&(c=c||window,this._events[a]=this._events[a]||[],this._events[a].push({cb:b,ctx:c}))},b.prototype.removeEventListener=function(a,b,c){if(a&&b){c=c||window;var d,e,f=!1;for(e in this._events)if(a===e){f=!0;break}if(f){for(d=this._events[e].length-1;d>=0;d--){var g=this._events[e][d];b===g.cb&&c===g.ctx&&this._events[e].splice(d,1)}this._events[e].length||delete this._events[e]}}},b.prototype.dispatchEvent=function(a){if(a.name){var b,c;for(b in this._events)if(this._events.hasOwnProperty(b)&&a.name===b){var d=this._events[b],e=d.slice(0),f=e.length;for(c=0;c<f;c++)e[c].cb.call(e[c].ctx,a);break}}},b.prototype.removeAllListeners=function(a){if(a){var b,c;for(c in this._events)if(this._events.hasOwnProperty(c)){for(b=this._events[c].length-1;b>=0;b--){var d=this._events[c][b];d.ctx===a&&this._events[c].splice(b,1)}this._events[c].length||delete this._events[c]}}else this._events={}},a.EventDispatcher=b}(d),function(a){"use strict";function b(){}function c(a,b){this.url=a||null,this.method=b,this._xmlhttp=null}function d(){d.__super__.constructor.call(this),this._connection=null}var e=a.Event,f=a.EventDispatcher;b.GET="GET",d.RESPONSE="response",d.INSTANCE="instance",a.extend(d,f),d.prototype.close=function(){this.removeAllListeners(null)},d.prototype.load=function(a){a&&a.method&&a.url&&(a._xmlhttp=this._createCORSRequest(a),a._xmlhttp?a._xmlhttp.send():this._loadImage(a))},d.prototype._createCORSRequest=function(a){var b=null;if(void 0!==window.XMLHttpRequest){var c=new window.XMLHttpRequest;"withCredentials"in c&&(b=c,b.open(a.method,a.url,!0))}if(null==b&&void 0!==window.XDomainRequest&&(b=new window.XDomainRequest,b.open(a.method,a.url)),b){var f={};f[d.INSTANCE]=this;var g=this;b.onload=function(){if(b.status&&parseInt(b.status,10)>=400)return this.onerror();f[d.RESPONSE]=b.responseText,g.dispatchEvent(new e(e.SUCCESS,f))},b.onerror=function(){g.dispatchEvent(new e(e.ERROR,f))}}return b},d.prototype._loadImage=function(a){this._connection||(this._connection=new Image,this._connection.alt=""),this._connection.src=a.url;var b={};b[d.RESPONSE]="",b[d.INSTANCE]=this,this.dispatchEvent(new e(e.SUCCESS,b))},a.URLRequestMethod=b,a.URLRequest=c,a.URLLoader=d}(d),function(a){"use strict";var b="2.2.0.223",c="05c3c4",d={};d.getVersion=function(){return"js-"+b+"-"+c},d.getMajor=function(){return d.getNumberAtPosition(0)},d.getMinor=function(){return d.getNumberAtPosition(1)},d.getMicro=function(){return d.getNumberAtPosition(2)},d.getPatch=function(){return d.getNumberAtPosition(3)},d.getBuild=function(){return c},d.getApiLevel=function(){return 4},d.getNumberAtPosition=function(a){return b.split(".")[a]},a.Version=d}(c),function(a){"use strict";function b(a,b){this._message=a,this._details=b}b.prototype.getMessage=function(){return this._message},b.prototype.getDetails=function(){return this._details},a.ErrorInfo=b}(c),function(a){"use strict";function b(){this.debugLogging=!1}a.HeartbeatConfig=b}(c),function(a){"use strict";function b(){}b.prototype.onError=function(a){},a.HeartbeatDelegate=b}(c),function(a){"use strict";function b(){}b.prototype.configure=function(a){throw new Error("Implementation error: Method must be overridden.")},b.prototype.bootstrap=function(a){throw new Error("Implementation error: Method must be overridden.")},b.prototype.setup=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.destroy=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getName=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.isInitialized=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.resolveData=function(a){throw new Error("Implementation error: Method must be overridden.")},a.plugin.IPlugin=b}(d),function(a){"use strict";function b(a,b,c,d){this.trigger=a,this.action=c,this.plugin=b,this._paramMappings={},this.mergeParams(d)}var c=a.plugin.ParamMapping;b.prototype.mergeParams=function(a){if(a)for(var b=0;b<a.length;b++){var c=a[b];this._paramMappings[c.getKeyName()]=c}},b.prototype.getParams=function(){var a=[];for(var b in this._paramMappings)this._paramMappings.hasOwnProperty(b)&&a.push(this._paramMappings[b]);return a},b.prototype.addParam=function(a){this._paramMappings[a.getKeyName()]=a},b.prototype.removeParam=function(a,b){var d=new c(a,b);this._paramMappings.hasOwnProperty(d.getKeyName())&&delete this._paramMappings[d.getKeyName()]},a.plugin.Behaviour=b}(d),function(a){"use strict";function b(a,b,d){this._pluginName=a,this._key=b,this._paramName=d||a+c.SEPARATOR+b}var c=a.radio.Channel;b.prototype.getPluginName=function(){return this._pluginName},b.prototype.getKey=function(){return this._key},b.prototype.getKeyName=function(){return this._pluginName+c.SEPARATOR+this._key},b.prototype.getParamName=function(){return this._paramName},a.plugin.ParamMapping=b}(d),function(a){"use strict";function b(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._plugins={},this._behaviours={},this._radio=new d(this._logger),this._dataChannel=this._radio.channel(g),this._ctrlChannel=this._radio.channel(h)}var c=a.Event,d=a.radio.Radio,e=a.radio.Channel,f=a.plugin.Behaviour;b.ERROR="error",b.prototype.addPlugin=function(a){var b=a.getName();this._plugins[b]&&this._logger.warn(i,"#addPlugin > Replacing plugin: "+b),this._plugins[b]=a,a.bootstrap(this)},b.prototype.setupPlugins=function(){for(var a in this._plugins)this._plugins.hasOwnProperty(a)&&this._plugins[a].setup()},b.prototype.pluginExists=function(a){return!!this._plugins[a]},b.prototype.isPluginInitialized=function(a){return this._plugins[a]&&this._plugins[a].isInitialized()},b.prototype.on=function(a,b,c,d){this._dataChannel.on(a+e.SEPARATOR+b,c,d)},b.prototype.off=function(a,b,c,d){var f=a&&b?a+e.SEPARATOR+b:null;this._dataChannel.off(f,c,d)},b.prototype.trigger=function(a){var b=a.name,c=this._behaviours[b];if(c){var d,e,f,g,h,i={},j={};for(d=0;d<c.length;d++)if(f=c[d],g=f.getParams())for(e=0;e<g.length;e++)h=g[e],i[h.getPluginName()]=i[h.getPluginName()]||[],h.key in i[h.getPluginName()]||i[h.getPluginName()].push(h.getKey());for(var k in i)i.hasOwnProperty(k)&&(j[k]=this.request(k,i[k]));for(d=0;d<c.length;d++){f=c[d];var l={_behaviour:f,_eventData:a.data||{}};if(g=f.getParams()){for(e=0;e<g.length;e++)h=g[e],l[h.getParamName()]=j[h.getPluginName()]?j[h.getPluginName()][h.getKey()]:null;this.command(f.plugin.getName(),f.action,l)}}}this._dataChannel.trigger(a)},b.prototype.request=function(a,b){var c=this._plugins[a];return c&&b&&0!=b.length?c.resolveData(b):null},b.prototype.raise=function(a){this._errorInfo=a;var d=new c(b.ERROR,a);this._ctrlChannel.trigger(d)},b.prototype.getErrorInfo=function(){return this._errorInfo},b.prototype.destroy=function(){this._radio.shutdown();for(var a in this._plugins)this._plugins.hasOwnProperty(a)&&this._plugins[a].destroy()},b.prototype.comply=function(a,b,c){this._dataChannel.comply(a.getName()+e.SEPARATOR+b,c,a)},b.prototype.command=function(a,b,c){this._dataChannel.command(a+e.SEPARATOR+b,c)},b.prototype.registerBehaviour=function(a,b,c,d){var e=a.getName(),g=new f(a,b,c,d);this._behaviours[e]=this._behaviours[e]||[],this._behaviours[e].push(g)};var g="data_channel",h="ctrl_channel",i="plugin::PluginManager";a.plugin.PluginManager=b}(d),function(a,b){"use strict";function c(a){this._name=a,this._isInitialized=!1,this._isDestroyed=!1,this._isEnabled=!0,this._dataResolver={},this._logTag="plugin::"+this.getName(),this._logger=new d}var d=a.Logger,e=a.Trigger,f=a.Event,g=b.ErrorInfo;c.INITIALIZED="initialized",c.prototype.configure=function(a){},c.prototype.bootstrap=function(a){this._pluginManager=a,this._isDestroyed&&this._pluginManager.raise(new g("Invalid state.","Plugin already destroyed."))},c.prototype.setup=function(){this._trigger(c.INITIALIZED),this._isInitialized=!0},c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._teardown())},c.prototype.enable=function(){this._isEnabled=!0,this._enabled()},c.prototype.disable=function(){this._isEnabled=!1,this._disabled()},c.prototype.getName=function(){return this._name},c.prototype.getLogger=function(){return this._logger},c.prototype.isInitialized=function(){return this._isInitialized},c.prototype.resolveData=function(a){if(!this._isEnabled||!this._isInitialized)return this._logger.warn(this._logTag,"Unable to retrieve plugin data. Plugin: "+this._name+". Enabled: "+this._isEnabled+". Initialized: "+this._isInitialized+"."),null;if("function"==typeof this._dataResolver)return this._dataResolver.call(this,a);var b=null;if(a)for(var c=0;c<a.length;c++){var d=a[c];this._dataResolver.hasOwnProperty(d)&&(b=b||{},"function"==typeof this._dataResolver[d]?b[d]=this._dataResolver[d].call(this):b[d]=this._dataResolver[d])}return b},c.prototype.toString=function(){return"<plugin: "+this._name+">"},c.prototype._enabled=function(){},c.prototype._disabled=function(){},c.prototype._teardown=function(){},c.prototype._canProcess=function(){return this._isEnabled?!this._isDestroyed||(this._logger.error(this._logTag,"Plugin destroyed."),!1):(this._logger.error(this._logTag,"Plugin disabled."),!1)},c.prototype._trigger=function(a,b){var c=f.createFromTrigger(new e(this.getName(),a));c.data=b,this._pluginManager.trigger(c)},a.plugin.BasePlugin=c}(d,c),function(a){"use strict";function b(a,b,c){this.name=a,this.interval=b,this.isActive=!1,this.repeatCount=void 0!==c?c:e,this._nextTickTimestamp=0,this.reset()}function c(a,b){if(!a)throw new Error("Reference to the ClockService object cannot be NULL");if(this._service=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._isDestroyed=!1,this._timers={};var c=this;this._clock=window.setInterval(function(){c._onTick()},1e3*f)}b.prototype.reset=function(){this.tick=0,this._createdTimestamp=(new Date).getTime(),this._updateNextTickTimestamp()},b.prototype.shouldTick=function(){return(new Date).getTime()>this._nextTickTimestamp-g/2&&(this.tick++,this._updateNextTickTimestamp(),!0)},b.prototype._updateNextTickTimestamp=function(){var a=(new Date).getTime();this._nextTickTimestamp=a+1e3*this.interval-1},c.prototype.createTimer=function(a,c,d){this._timers[a]=new b(a,c,d)},c.prototype.destroyTimer=function(a){delete this._timers[a]},c.prototype.resumeTimer=function(a,b){b=void 0!==b&&b,this._logger.debug(d,"#resumeTimer(name="+a+", reset="+b+")");var c=this._timers[a];c&&(c.isActive=!0,b&&c.reset())},c.prototype.pauseTimer=function(a,b){b=void 0!==b&&b,this._logger.debug(d,"#pauseTimer(name="+a+", reset="+b+")");var c=this._timers[a];c&&(c.isActive=!1,b&&c.reset())},c.prototype.isTimerPaused=function(a){var b=this._timers[a];return!!b&&!b.isActive},c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._timers={},window.clearInterval(this._clock))},c.prototype._onTick=function(){for(var a in this._timers)if(this._timers.hasOwnProperty(a)){var b=this._timers[a];b.isActive&&b.shouldTick()&&(b.interval>1&&this._logger.debug(d,"#_onTick() > "+b.name+"("+b.tick+" | "+b.repeatCount+")"),0!=b.repeatCount?(this._service.onTick(b.name,b.interval,b.tick),b.repeatCount!=e&&b.repeatCount--):this.destroyTimer(b.name))}};var d="service.clock::TimerManager",e=-1,f=.25,g=1e3*f;a.clock.TimerDescriptor=b,a.clock.TimerManager=c}(e),function(a,b,c){"use strict";function d(a){if(d.__super__.constructor.call(this,h),!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._timerManager=new e(this,this._logger),this._setupDataResolver()}var e=c.clock.TimerManager,f=b.StringUtils,g=a.plugin.BasePlugin;a.extend(d,g),d.prototype.bootstrap=function(a){d.__super__.bootstrap.call(this,a),this._pluginManager.comply(this,i,this._cmdCreate),this._pluginManager.comply(this,k,this._cmdResume),this._pluginManager.comply(this,j,this._cmdPause),this._pluginManager.comply(this,l,this._cmdDestroy)},d.prototype._teardown=function(){this._timerManager.destroy()},d.prototype._cmdCreate=function(a){var b=a[o]||s;this._timerManager.createTimer(a[m],a[n],b)},d.prototype._cmdPause=function(a){this._timerManager.pauseTimer(a[m],!!a[q])},d.prototype._cmdResume=function(a){this._timerManager.resumeTimer(a[m],!!a[q])},d.prototype._cmdDestroy=function(a){this._timerManager.destroyTimer(a[m])},d.prototype.onTick=function(a,b,c){a+=".tick";var d={};d[m]=a,d[n]=b,d[p]=c,this._trigger(a,d)},d.prototype._setupDataResolver=function(){var a={},b=this._timerManager;a[r]=function(a){return b.isTimerPaused(a)},this._dataResolver=function(b){if(!b||0==b.length)return null;for(var c=null,d=0;d<b.length;d++){var e=b[d];if(c=c||{},f.startsWith(e,r)){var g=e.split(r+".");g.length>0&&(c[e]=a[r].call(this,g[1]))}}return c}};var h="service.clock",i="create",j="pause",k="resume",l="destroy",m="name",n="interval",o="repeat_count",p="tick",q="reset",r="is_paused",s=-1;c.clock.ClockService=d}(d,b,e),function(a,b,c){"use strict";function d(a,b){if(this._logger=new e,this._pluginManager=new f(this._logger),this._pluginManager.addPlugin(new g(this._logger)),b)for(var c=0;c<b.length;c++)this._pluginManager.addPlugin(b[c]);this._pluginManager.setupPlugins(),this._isDestroyed=!1}var e=a.Logger,f=a.plugin.PluginManager,g=b.clock.ClockService;d.prototype.configure=function(a){if(!a)throw new Error("Configuration object cannot be NULL.");a.debugLogging?this._logger.enable():this._logger.disable(),this._isDestroyed&&this._logger.error(h,"Instance is destroyed.")},d.prototype.destroy=function(){this._isDestroyed||(this._pluginManager.destroy(),this._isDestroyed=!0)};var h="Heartbeat";c.Heartbeat=d}(d,e,c),a.ADB||(a.ADB={}),a.ADB.core||(a.ADB.core=d),a.ADB.va||(a.ADB.va=c),a.ADB.va.utils||(a.ADB.va.utils=b),a.ADB.va.plugins||(a.ADB.va.plugins={})}(this);\n\n// VideoPlayerPlugin\n!function(a){if(void 0===b)var b={};!function(a){"use strict";var b={};b.ASSET_TYPE_VOD="vod",b.ASSET_TYPE_LIVE="live",b.ASSET_TYPE_LINEAR="linear",a.AssetType=b}(b),function(a){"use strict";function b(){this.playerName=null,this.name=null,this.position=null,this.startTime=null}b.prototype.toString=function(){return"playerName="+this.playerName+", name="+this.name+", position="+this.position+", startTime="+this.startTime},a.AdBreakInfo=b}(b),function(a){"use strict";function b(){this.id=null,this.name=null,this.length=null,this.position=null,this.granularTracking=!0}b.prototype.toString=function(){return"id="+this.id+", name="+this.name+", length="+this.length+", position="+this.position+", granularTracking="+this.granularTracking},a.AdInfo=b}(b),function(a){"use strict";function b(){this.name=null,this.length=null,this.position=null,this.startTime=null}b.prototype.toString=function(){return"name="+this.name+", length="+this.length+", position="+this.position+", startTime="+this.startTime},a.ChapterInfo=b}(b),function(a){"use strict";function b(){this.bitrate=null,this.fps=null,this.droppedFrames=null,this.startupTime=null}b.prototype.toString=function(){return"bitrate="+this.bitrate+", fps="+this.fps+", droppedFrames="+this.droppedFrames+", startupTime="+this.startupTime},a.QoSInfo=b}(b),function(a){"use strict";function b(){this.playerName=null,this.id=null,this.name=null,this.length=null,this.playhead=null,this.mediaType=null,this.streamType=null,this.resumed=!1}b.prototype.toString=function(){return"playerName="+this.playerName+", id="+this.id+", name="+this.name+", length="+this.length+", playhead="+this.playhead+", mediaType="+this.mediaType+", streamType="+this.streamType+", resumed="+this.resumed},a.VideoInfo=b}(b),function(a){"use strict";function b(){this.debugLogging=!1}a.VideoPlayerPluginConfig=b}(b),function(a){"use strict";function b(){}b.prototype.getVideoInfo=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getAdBreakInfo=function(){return null},b.prototype.getAdInfo=function(){return null},b.prototype.getChapterInfo=function(){return null},b.prototype.getQoSInfo=function(){return null},a.VideoPlayerPluginDelegate=b}(b),function(a,b){"use strict";function c(a){if(c.__super__.constructor.call(this,h),!a)throw new Error("PlayerPlugin delegate cannot be NULL.");this._delegate=a,this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._setupDataResolver()}var d=a.plugin.ParamMapping,e=a.Trigger,f=a.plugin.BasePlugin,g=b.VideoPlayerPluginConfig;a.extend(c,f),c.prototype.configure=function(a){if(!a)throw new Error("Reference to the configuration data cannot be NULL.");if(!(a instanceof g))throw new Error("Expected config data to be instance of VideoPlayerPluginConfig.");a.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure(debugLogging="+a.debugLogging+")")},c.prototype.bootstrap=function(a){c.__super__.bootstrap.call(this,a),this._registerCommands(),this._registerBehaviours()},c.prototype._cmdVideoIdleStart=function(a){this._logger.info(this._logTag,"#_cmdVideoIdleStart()"),this._videoIdle=!0},c.prototype._cmdVideoIdleResume=function(a){this._logger.info(this._logTag,"#_cmdVideoIdleResume()"),this._videoIdle&&(this._trigger(p),this._trigger(q),a.isInAd&&(this._trigger(x),this._isTrackingAdBreak=!0),a.isInAd&&(this._trigger(z),this._isTrackingAd=!0),a.isInChapter&&this._trigger(G),this._trigger(u)),this._videoIdle=!1},c.prototype.trackSessionStart=function(){if(this._logger.info(this._logTag,"#trackSessionStart()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackSessionStart() > No active tracking session.");if(this._isTrackingSessionStarted)return void this._logger.info(this._logTag,"#trackSessionStart() > Tracking session already started.");this._trigger(p),this._isTrackingSessionStarted=!0;var a=this._dataResolver(["video.resumed"]);a.hasOwnProperty("video.resumed")&&a["video.resumed"]&&this._trigger(q)}},c.prototype.trackVideoLoad=function(){this._logger.info(this._logTag,"#trackVideoLoad()"),this._canProcess()&&(this._isTrackingAdBreak=!1,this._isTrackingAd=!1,this._contentStarted=!1,this._isPaused=!0,this._isBuffering=!1,this._isSeeking=!1,this._playheadTimer=null,this._previousPlayhead=-1,this._stalledPlayheadCount=0,this._playheadStalled=!1,this._videoIdle=!1,this._trigger(m),this._isTrackingSessionActive=!0,this._isTrackingSessionStarted=!1)},c.prototype.trackVideoUnload=function(){if(this._logger.info(this._logTag,"#trackVideoUnload()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackVideoUnload() > No active tracking session.");this._stopPlayheadTimer(),this._trigger(n),this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._contentStarted=!1}},c.prototype.trackPlay=function(){this._logger.info(this._logTag,"#trackPlay()"),this._canProcess()&&this._startSessionIfNeeded("trackPlay")&&this._allowPlayerStateChange()&&(this._isPaused=!1,this._trigger(u),this._startPlayheadTimer())},c.prototype.trackPause=function(){if(this._logger.info(this._logTag,"#trackPause()"),this._canProcess()&&this._startSessionIfNeeded("trackPause")&&this._allowPlayerStateChange()){this._stopPlayheadTimer();var a={};a[O]=!1,this._isPaused=!0,this._trigger(v,a)}},c.prototype.trackBufferStart=function(){this._logger.info(this._logTag,"#trackBufferStart()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferStart")&&this._allowPlayerStateChange()&&(this._stopPlayheadTimer(),this._isBuffering=!0,this._trigger(C))},c.prototype.trackBufferComplete=function(){this._logger.info(this._logTag,"#trackBufferComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferComplete")&&this._allowPlayerStateChange()&&(this._isBuffering=!1,this._trigger(D),this._startPlayheadTimer())},c.prototype.trackSeekStart=function(){this._logger.info(this._logTag,"#trackSeekStart()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekStart")&&this._allowPlayerStateChange()&&(this._stopPlayheadTimer(),this._isSeeking=!0,this._trigger(E))},c.prototype.trackSeekComplete=function(){this._logger.info(this._logTag,"#trackSeekComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekComplete")&&this._allowPlayerStateChange()&&(this._isSeeking=!1,this._trigger(F),this._startPlayheadTimer())},c.prototype.trackComplete=function(a,b){if(this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackComplete")){if(this._stopPlayheadTimer(),this._videoIdle)return this._logger.info(this._logTag,"#trackComplete() > Video session is already in Idle State."),void(a&&a());var c={};c[N]=a,b=void 0===b||!!b,b?this._trigger(r,c):(this._trigger(s),this._trigger(o,c))}},c.prototype.trackTimedMetadata=function(a){this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackTimedMetadata")&&this._trigger(t,a)},c.prototype.trackChapterStart=function(){this._logger.info(this._logTag,"#trackChapterStart()"),this._canProcess()&&this._startSessionIfNeeded("#trackChapterStart")&&this._trigger(G)},c.prototype.trackChapterComplete=function(){this._logger.info(this._logTag,"#trackChapterComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackChapterComplete")&&this._trigger(H)},c.prototype.trackChapterSkip=function(){this._logger.info(this._logTag,"#trackChapterSkip()"),this._canProcess()&&this._startSessionIfNeeded("trackChapterSkip")&&this._trigger(I)},c.prototype.trackAdBreakStart=function(){this._logger.info(this._logTag,"#trackAdBreakStart()"),this._canProcess()&&this._startSessionIfNeeded("trackAdBreakStart")&&(this._trigger(x),this._isTrackingAdBreak=!0)},c.prototype.trackAdBreakComplete=function(){this._logger.info(this._logTag,"#trackAdBreakComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackAdBreakComplete")&&(this._trigger(y),this._isTrackingAdBreak=!1)},c.prototype.trackAdStart=function(){this._logger.info(this._logTag,"#trackAdStart()"),this._canProcess()&&this._startSessionIfNeeded("trackAdStart")&&(this._trigger(z),this._isTrackingAd=!0)},c.prototype.trackAdComplete=function(){this._logger.info(this._logTag,"#trackAdComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackAdComplete")&&(this._trigger(A),this._isTrackingAd=!1)},c.prototype.trackAdSkip=function(){this._logger.info(this._logTag,"#trackAdSkip()"),this._canProcess()&&this._startSessionIfNeeded("trackAdSkip")&&(this._trigger(B),this._isTrackingAd=!1)},c.prototype.trackBitrateChange=function(){this._logger.info(this._logTag,"#trackBitrateChange()"),this._canProcess()&&this._startSessionIfNeeded("trackBitrateChange")&&this._trigger(J)},c.prototype.trackVideoPlayerError=function(a){if(this._logger.info(this._logTag,"#trackVideoPlayerError(errorId="+a+")"),this._startSessionIfNeeded("trackVideoPlayerError")){var b={};b[P]=l,b[Q]=a,this._trigger(K,b)}},c.prototype.trackApplicationError=function(a){if(this._logger.info(this._logTag,"#trackApplicationError(errorId="+a+")"),this._startSessionIfNeeded("trackApplicationError")){var b={};b[P]=k,b[Q]=a,this._trigger(K,b)}},c.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoIdleStart",this._cmdVideoIdleStart),this._pluginManager.comply(this,"handleVideoIdleResume",this._cmdVideoIdleResume)},c.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new e(j,L),this,"handleVideoIdleStart"),this._pluginManager.registerBehaviour(new e(j,M),this,"handleVideoIdleResume",[new d(i,"ad.isInAdBreak","isInAdBreak"),new d(i,"ad.isInAd","isInAd"),new d(i,"chapter.isInChapter","isInChapter")])},c.prototype._setupDataResolver=function(){function a(){return g.video?g.video:(g.video=h._delegate.getVideoInfo(),h._logger.info(h._logTag,"Data from delegate > VideoInfo: "+g.video),g.video)}function b(){return g.ad?g.ad:(g.ad=h._delegate.getAdInfo(),h._logger.info(h._logTag,"Data from delegate > AdInfo: "+g.ad),g.ad)}function c(){return g.pod?g.pod:(g.pod=h._delegate.getAdBreakInfo(),h._logger.info(h._logTag,"Data from delegate > AdBreakInfo: "+g.pod),g.pod)}function d(){return g.chapter?g.chapter:(g.chapter=h._delegate.getChapterInfo(),h._logger.info(h._logTag,"Data from delegate > ChapterInfo: "+g.chapter),g.chapter)}function e(){return g.qos?g.qos:(g.qos=h._delegate.getQoSInfo(),h._logger.info(h._logTag,"Data from delegate > QoSInfo: "+g.qos),g.qos)}var f={},g={},h=this;f["video.id"]=function(){var b=a(),c=b?b.id:null;return h._logger.debug(h._logTag,"Resolving video.id: "+c),c},f["video.name"]=function(){var b=a(),c=b?b.name:null;return h._logger.debug(h._logTag,"Resolving video.name: "+c),c},f["video.length"]=function(){var b=a(),c=b?b.length:NaN;return h._logger.debug(h._logTag,"Resolving video.length: "+c),c},f["video.playerName"]=function(){var b=a(),c=b?b.playerName:null;return h._logger.debug(h._logTag,"Resolving video.playerName: "+c),c},f["video.mediaType"]=function(){var b=a(),c=b?b.mediaType:null;return h._logger.debug(h._logTag,"Resolving video.mediaType: "+c),c},f["video.streamType"]=function(){var b=a(),c=b?b.streamType:null;return h._logger.debug(h._logTag,"Resolving video.streamType: "+c),c},f["video.playhead"]=function(){var b=a(),c=b?b.playhead:NaN;return h._logger.debug(h._logTag,"Resolving video.playhead: "+c),c},f["video.resumed"]=function(){var b=a(),c=!!b&&b.resumed;return h._logger.debug(h._logTag,"Resolving video.resumed: "+c),c},f["video.playheadStalled"]=function(){return this._playheadStalled},f["pod.name"]=function(){var a=c(),b=a?a.name:null;return h._logger.debug(h._logTag,"Resolving pod.name: "+b),b},f["pod.playerName"]=function(){var a=c(),b=a?a.playerName:null;return h._logger.debug(h._logTag,"Resolving pod.playerName: "+b),b},f["pod.position"]=function(){var a=c(),b=a?a.position:NaN;return h._logger.debug(h._logTag,"Resolving pod.position: "+b),b},f["pod.startTime"]=function(){var a=c(),b=a?a.startTime:NaN;return h._logger.debug(h._logTag,"Resolving pod.startTime: "+b),b},f["ad.isInAd"]=function(){var a=b(),c=null!=a;return h._logger.debug(h._logTag,"Resolving ad.isInAd: "+c),c},f["ad.isInAdBreak"]=function(){var a=c(),b=null!=a;return h._logger.debug(h._logTag,"Resolving ad.isInAdBreak: "+b),b},f["ad.id"]=function(){var a=b(),c=a?a.id:null;return h._logger.debug(h._logTag,"Resolving ad.id: "+c),c},f["ad.name"]=function(){var a=b(),c=a?a.name:null;return h._logger.debug(h._logTag,"Resolving ad.name: "+c),c},f["ad.length"]=function(){var a=b(),c=a?a.length:NaN;return h._logger.debug(h._logTag,"Resolving ad.length: "+c),c},f["ad.position"]=function(){var a=b(),c=a?a.position:NaN;return h._logger.debug(h._logTag,"Resolving ad.position: "+c),c},f["ad.granularTracking"]=function(){var a=b(),c=!!a&&a.granularTracking;return h._logger.debug(h._logTag,"Resolving ad.granularTracking: "+c),c},f["ad.trackingInterval"]=function(){var a=S;return h._logger.debug(h._logTag,"Resolving ad.trackingInterval: "+a),a},f["chapter.isInChapter"]=function(){var a=d(),b=null!=a;return h._logger.debug(h._logTag,"Resolving chapter.isInChapter: "+b),b},f["chapter.name"]=function(){var a=d(),b=a?a.name:null;return h._logger.debug(h._logTag,"Resolving chapter.name: "+b),b},f["chapter.length"]=function(){var a=d(),b=a?a.length:NaN;return h._logger.debug(h._logTag,"Resolving chapter.length: "+b),b},f["chapter.position"]=function(){var a=d(),b=a?a.position:NaN;return h._logger.debug(h._logTag,"Resolving chapter.position: "+b),b},f["chapter.startTime"]=function(){var a=d(),b=a?a.startTime:NaN;return h._logger.debug(h._logTag,"Resolving chapter.startTime: "+b),b},f["qos.bitrate"]=function(){var a=e(),b=a?a.bitrate:NaN;return h._logger.debug(h._logTag,"Resolving qos.bitrate: "+b),b},f["qos.fps"]=function(){var a=e(),b=a?a.fps:NaN;return h._logger.debug(h._logTag,"Resolving qos.fps: "+b),b},f["qos.droppedFrames"]=function(){var a=e(),b=a?a.droppedFrames:NaN;return h._logger.debug(h._logTag,"Resolving qos.droppedFrames: "+b),b},f["qos.startupTime"]=function(){var a=e(),b=a?1e3*a.startupTime:NaN;return h._logger.debug(h._logTag,"Resolving qos.startupTime: "+b),b},this._dataResolver=function(a){if(!a||0==a.length)return null;g={};for(var b=null,c=0;c<a.length;c++){var d=a[c];b=b||{},b[d]=f.hasOwnProperty(d)?f[d].call(this):null}return b}},c.prototype._trackPlayheadStall=function(){this._canProcess()&&(this._playheadStalled||(this._logger.info(this._logTag,"#_trackPlayheadStall()"),this._stalledPlayheadCount=0,this._playheadStalled=!0,this._trigger(v)))},c.prototype._trackExitStall=function(){this._canProcess()&&(this._stalledPlayheadCount=0,!this._playheadStalled||this._isPaused||this._isSeeking||this._isBuffering||(this._logger.info(this._logTag,"#_trackExitStall()"),this._playheadStalled=!1,this._trigger(u)))},c.prototype._startPlayheadTimer=function(){var a=this;this._playheadTimer||this._isPaused||this._isSeeking||this._isBuffering||(this._playheadTimer=setInterval(function(){if(a._canProcess()){var b=a._dataResolver(["ad.isInAd","video.playhead"]);if(a._isTrackingAdBreak)a._playheadStalled&&a._trackExitStall();else{var c=b["video.playhead"];c!=a._previousPlayhead?a._trackExitStall():a._previousPlayhead>=0&&c==a._previousPlayhead&&++a._stalledPlayheadCount==T&&a._trackPlayheadStall(),c!=a._previousPlayhead&&c>0&&!a._contentStarted&&(a._isPaused||a._isBuffering||a._isSeeking||(a._logger.info(a._logTag,"#_playheadTimer playhead progress to: "+c),a._trigger(w),a._contentStarted=!0)),a._previousPlayhead=c}}},R))},c.prototype._stopPlayheadTimer=function(){this._playheadTimer&&(clearInterval(this._playheadTimer),this._playheadTimer=null),this._trackExitStall()},c.prototype._startSessionIfNeeded=function(a){return this._isTrackingSessionActive?(this._isTrackingSessionStarted||(this._logger.info(this._logTag,"#"+a+"() > Tracking session auto-start."),this.trackSessionStart()),!0):(this._logger.warn(this._logTag,"#"+a+"() > No active tracking session."),!1)},c.prototype._allowPlayerStateChange=function(){return!(this._isTrackingAdBreak&&!this._isTrackingAd)||(this._logger.info(this._logTag,"_allowPlayerStateChange Player plugin does not allow player state changes when in Adbreak and not in Ad."),!1)};var h="player",i=h,j="adobe-heartbeat",k="sourceErrorExternal",l="sourceErrorSDK",m="video_load",n="video_unload",o="video_session_end",p="video_start",q="video_resume",r="video_complete",s="video_skip",t="timed_metadata",u="play",v="pause",w="content_start",x="adbreak_start",y="adbreak_complete",z="ad_start",A="ad_complete",B="ad_skip",C="buffer_start",D="buffer_complete",E="seek_start",F="seek_complete",G="chapter_start",H="chapter_complete",I="chapter_skip",J="bitrate_change",K="track_error",L="video_idle_start",M="video_idle_resume",N="callback",O="filter_report",P="source",Q="error_id",R=1001,S=1,T=2;b.VideoPlayerPlugin=c}(a.ADB.core,b),a.ADB.va.plugins.videoplayer||(a.ADB.va.plugins.videoplayer=b)}(this);\n\n// AdobeHeartbeatPlugin\n!function(a){if(void 0===b)var b={};b.clock||(b.clock={}),b.context||(b.context={}),b.filter||(b.filter={}),b.model||(b.model={}),b.network||(b.network={}),function(a,b){"use strict";function c(a,b,c,d,e){if(!b)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=b,!a)throw new Error("Reference to the pluginManager object cannot be NULL");if(this._pluginManager=a,!e)throw new Error("Reference to the logger object cannot be NULL");this._logTag="ah::Timer."+c,this._logger=e,this._isDestroyed=!1,this._createTimer(c,d),this._installHandlers()}var d=a.Event;c.KEY_NAME="name",c.KEY_INTERVAL="interval",c.KEY_RESET="reset",c.prototype.resume=function(a){this._logger.debug(this._logTag,"Starting timer: "+this._name);var b={};b[c.KEY_NAME]=e+"."+this._name,b[c.KEY_RESET]=a,this._pluginManager.command(f,i,b)},c.prototype.pause=function(a){this._logger.debug(this._logTag,"Stopping timer: "+this._name);var b={};b[c.KEY_NAME]=e+"."+this._name,b[c.KEY_RESET]=a,this._pluginManager.command(f,h,b)},c.prototype.destroy=function(){if(!this._isDestroyed){this._isDestroyed=!0,this._uninstallHandlers();var a={};a[c.KEY_NAME]=e+"."+this._name,this._pluginManager.command(f,j,a)}},c.prototype.setInterval=function(a){var b=k+"."+e+"."+this._name,c=this._pluginManager.request(f,[b])[b];this.pause(!0),this._createTimer(this._name,a),c||this.resume(!0)},c.prototype._cmdResume=function(a){var b=!1;null!=a&&a.hasOwnProperty(c.KEY_RESET)&&(b=a[c.KEY_RESET]),this.resume(b)},c.prototype._cmdPause=function(a){var b=!1;null!=a&&a.hasOwnProperty(c.KEY_RESET)&&(b=a[c.KEY_RESET]),this.pause(b)},c.prototype._onTick=function(a,b){this._channel.trigger(new d("clock:"+this._name+".tick",b))},c.prototype._installHandlers=function(){this._channel.comply("clock:"+this._name+".resume",this._cmdResume,this),this._channel.comply("clock:"+this._name+".pause",this._cmdPause,this),this._pluginManager.on(f,e+"."+this._name+".tick",this._onTick,this)},c.prototype._uninstallHandlers=function(){this._channel.off(null,null,this),this._pluginManager.off(null,null,null,this)},c.prototype._createTimer=function(a,b){this._name=a,this._interval=b;var d={};d[c.KEY_NAME]=e+"."+this._name,d[c.KEY_INTERVAL]=this._interval,this._pluginManager.command(f,g,d)};var e="heartbeat",f="service.clock",g="create",h="pause",i="resume",j="destroy",k="is_paused";b.clock.Timer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,f,h,d)}var d=a.Event,e=b.clock.Timer;a.extend(c,e),c.prototype._onCheckStatusComplete=function(a){var b=a.data[l];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+b+")"),b){if(b==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");b>g?(this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Interval value too large: "+b),this.setInterval(g)):(this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+b),this.setInterval(b))}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(h)},c.prototype._getSettings=function(a){this._logger.debug(this._logTag,"#_getSettings()"),this._channel.trigger(new d(i))},c.prototype._installHandlers=function(){c.__super__._installHandlers.call(this),this._channel.on(j,this._getSettings,this),this._channel.on(k,this._onCheckStatusComplete,this),this._channel.reply(l,function(){return this._interval},this)};var f="check_status",g=600,h=180,i="clock:check_status.tick",j="clock:check_status.get_settings",k="net:check_status_complete",l="check_status_interval";b.clock.CheckStatusTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,e,f,d),this._doNotOverrideInterval=!1}var d=b.clock.Timer;a.extend(c,d),c.prototype._onCheckStatusComplete=function(a){var b=a.data[g];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+b+")"),this._doNotOverrideInterval)this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed. (doNotOverrideInterval = true)");else if(b){if(b==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+b),this.setInterval(b)}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(f)},c.prototype._onUpdateReportingInterval=function(a){var b=a.data[g];if(this._doNotOverrideInterval=!!a.data[h],this._logger.debug(this._logTag,"#_onUpdateReportingInterval(interval="+b+", doNotOverrideInterval="+this._doNotOverrideInterval+")"),b){if(b==this._interval)return void this._logger.debug(this._logTag,"#_onUpdateReportingInterval() > Interval value not changed.");this._logger.debug(this._logTag,"#_onUpdateReportingInterval() > Interval changed to: "+b),this.setInterval(b)}else this._logger.warn(this._logTag,"#_onUpdateReportingInterval() > Invalid interval value."),this.setInterval(f)},c.prototype._installHandlers=function(){c.__super__._installHandlers.call(this),this._channel.on(j,this._onCheckStatusComplete,this),this._channel.on(i,this._onUpdateReportingInterval,this),this._channel.reply(g,function(){return this._interval},this)};var e="reporting",f=10,g="reporting_interval",h="do_not_override_interval",i="reporting:update_interval",j="net:check_status_complete";b.clock.ReportingTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,e,f,d)}var d=b.clock.Timer;a.extend(c,d);var e="idle",f=1800;b.clock.IdleTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,e,f,d)}var d=b.clock.Timer;a.extend(c,d);var e="flush_filter",f=.25;b.clock.FlushFilterTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,c){if(!a)throw new Error("Reference to the pluginManager object cannot be NULL");if(!b)throw new Error("Reference to the channel object cannot be NULL");if(!c)throw new Error("Reference to the logger object cannot be NULL");this._isDestroyed=!1,this._reportingTimer=new f(a,b,c),this._checkStatusTimer=new d(a,b,c),this._flushFilterTimer=new e(a,b,c),this._idleTimer=new g(a,b,c)}var d=b.clock.CheckStatusTimer,e=b.clock.FlushFilterTimer,f=b.clock.ReportingTimer,g=b.clock.IdleTimer;c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._reportingTimer.destroy(),this._checkStatusTimer.destroy(),this._flushFilterTimer.destroy(),this._idleTimer.destroy())},b.clock.Clock=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){this.value=a,this.hint=b}function d(a){this.realm=a,this.data={}}c.HINT_SHORT="short",d.prototype.setField=function(a,b,d){this.data[a]=new c(b,d)},d.prototype._createAccessor=function(a,b,c){var d=this;return function(){return arguments.length&&(d[a]=arguments[0],d.setField(b,arguments[0],c)),d[a]}},b.model.Dao=d,b.model.DaoField=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"asset"),this.adId=this._createAccessor("_adId","ad_id",null),this.sid=this._createAccessor("_sid","ad_sid",null),this.resolver=this._createAccessor("_resolver","resolver",null),this.podId=this._createAccessor("_podId","pod_id",null),this.podPosition=this._createAccessor("_podPosition","pod_position",null),this.podOffset=this._createAccessor("_podOffset","pod_offset",null),this.podName=this._createAccessor("_podName","pod_name",null),this.adLength=this._createAccessor("_adLength","ad_length",null),this.adName=this._createAccessor("_adName","ad_name",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.adId(a.adId()),this.sid(a.sid()),this.resolver(a.resolver()),this.podId(a.podId()),this.podPosition(a.podPosition()),this.podOffset(a.podOffset()),this.podName(a.podName()),this.adLength(a.adLength()),this.adName(a.adName())}else this.adId(""),this.sid(""),this.resolver(""),this.podId(""),this.podPosition(""),this.podOffset(0),this.podName(""),this.adLength(0),this.adName("")}var d=b.model.Dao;a.extend(c,d),b.model.AdDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"sc"),this.reportSuiteId=this._createAccessor("_reportSuiteId","rsid",null),this.trackingServer=this._createAccessor("_trackingServer","tracking_server",null),this.ssl=this._createAccessor("_ssl","ssl",e.HINT_SHORT),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.reportSuiteId(a.reportSuiteId()),this.trackingServer(a.trackingServer()),this.ssl(a.ssl())}else this.reportSuiteId(""),this.trackingServer(""),this.ssl(0)}var d=b.model.Dao,e=b.model.DaoField;a.extend(c,d),b.model.AdobeAnalyticsDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"stream"),this.id=this._createAccessor("_id","chapter_id",null),this.sid=this._createAccessor("_sid","chapter_sid",null),this.name=this._createAccessor("_name","chapter_name",null),this.position=this._createAccessor("_position","chapter_pos",null),this.length=this._createAccessor("_length","chapter_length",null),this.offset=this._createAccessor("_offset","chapter_offset",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.id(a.id()),this.sid(a.sid()),this.name(a.name()),this.position(a.position()),this.length(a.length()),this.offset(a.offset())}else this.id(""),this.sid(""),this.name(""),this.position(0),this.length(0),this.offset(0)}var d=b.model.Dao;a.extend(c,d),b.model.ChapterDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"asset"),this.type=this._createAccessor("_type","type",null),this.videoId=this._createAccessor("_videoId","video_id",null),this.publisher=this._createAccessor("_publisher","publisher",null),this.adData=this._createAccessor("_adData","ad_data",null),this.chapterData=this._createAccessor("_chapterData","chapter_data",null),this.length=this._createAccessor("_length","length",null),this.name=this._createAccessor("_name","name",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.type(a.type()),this.name(a.name()),this.videoId(a.videoId()),this.publisher(a.publisher()),this.length(a.length());var b=a.adData()?new e(a.adData()):null;this.adData(b);var d=a.chapterData()?new f(a.chapterData()):null;this.chapterData(d)}else this.type(""),this.name(""),this.videoId(""),this.publisher(""),this.length(0),this.adData(null),this.chapterData(null)}var d=b.model.Dao,e=b.model.AdDao,f=b.model.ChapterDao;a.extend(c,d),c.TYPE_AD="ad",c.TYPE_MAIN_CONTENT="main",b.model.AssetDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"event"),this.type=this._createAccessor("_type","type",null),this.duration=this._createAccessor("_duration","duration",null),this.playhead=this._createAccessor("_playhead","playhead",null),this.id=this._createAccessor("_id","id",null),this.source=this._createAccessor("_source","source",null),this.ts=this._createAccessor("_ts","ts",null),this.prevTs=this._createAccessor("_prevTs","prev_ts",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.type(a.type()),this.duration(a.duration()),this.playhead(a.playhead()),this.id(a.id()),this.source(a.source()),this.ts(a.ts()),this.prevTs(a.prevTs())}else this.type(""),this.duration(0),this.playhead(0),this.id(""),this.source(""),this.ts(0),this.prevTs(-1)}var d=b.model.Dao;a.extend(c,d),c.EVENT_TYPE_AA_START="aa_start",c.EVENT_TYPE_AA_AD_START="aa_ad_start",c.EVENT_TYPE_START="start",c.EVENT_TYPE_RESUME="resume",c.EVENT_TYPE_CHAPTER_START="chapter_start",c.EVENT_TYPE_CHAPTER_COMPLETE="chapter_complete",c.EVENT_TYPE_CHAPTER_SKIP="chapter_skip",c.EVENT_TYPE_PLAY="play",c.EVENT_TYPE_PAUSE="pause",c.EVENT_TYPE_STALL="stall",c.EVENT_TYPE_BUFFER="buffer",c.EVENT_TYPE_BITRATE_CHANGE="bitrate_change",c.EVENT_TYPE_ERROR="error",c.EVENT_TYPE_COMPLETE="complete",c.EVENT_TYPE_SKIP="skip",c.EVENT_TYPE_END="end",b.model.EventDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"stream"),this.bitrate=this._createAccessor("_bitrate","bitrate",null),this.fps=this._createAccessor("_fps","fps",null),this.droppedFrames=this._createAccessor("_droppedFrames","dropped_frames",null),this.startupTime=this._createAccessor("_startup_time","startup_time",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.bitrate(a.bitrate()),this.fps(a.fps()),this.droppedFrames(a.droppedFrames()),this.startupTime(a.startupTime()),this.isStartupTimeOverridden=a.isStartupTimeOverridden}else this.bitrate(0),this.fps(0),this.droppedFrames(0),this.startupTime(0),this.isStartupTimeOverridden=!1}var d=b.model.Dao;a.extend(c,d),b.model.QoSDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"sp"),this.ovp=this._createAccessor("_ovp","ovp",null),this.sdk=this._createAccessor("_sdk","sdk",null),this.channel=this._createAccessor("_channel","channel",null),this.playerName=this._createAccessor("_playerName","player_name",null),this.libVersion=this._createAccessor("_libVersion","hb_version",null),this.apiLevel=this._createAccessor("_apiLevel","hb_api_lvl",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.ovp(a.ovp()),this.sdk(a.sdk()),this.channel(a.channel()),this.playerName(a.playerName()),this.libVersion(a.libVersion()),this.apiLevel(a.apiLevel())}else this.ovp(e),this.sdk(e),this.channel(e),this.playerName(""),this.libVersion(""),this.apiLevel(0)}var d=b.model.Dao;a.extend(c,d);var e="unknown";b.model.ServiceProviderDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"event"),this.sessionId=this._createAccessor("_sessionId","sid",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.sessionId(a.sessionId())}else this.sessionId(null)}var d=b.model.Dao;a.extend(c,d),b.model.SessionDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"stream"),this.type=this._createAccessor("_type","type",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.type(a.type())}else this.type(null)}var d=b.model.Dao;a.extend(c,d),b.model.StreamDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"user"),this.analyticsVisitorId=this._createAccessor("_analyticsVisitorId","aid",null),this.marketingCloudVisitorId=this._createAccessor("_marketingCloudVisitorId","mid",null),this.visitorId=this._createAccessor("_visitorId","id",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.analyticsVisitorId(a.analyticsVisitorId()),this.marketingCloudVisitorId(a.marketingCloudVisitorId()),this.visitorId(a.visitorId())}else this.analyticsVisitorId(null),this.marketingCloudVisitorId(null),this.visitorId(null)}var d=b.model.Dao;a.extend(c,d),b.model.UserDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"aam"),this.audienceManagerBlob=this._createAccessor("_audienceManagerBlob","blob",null),this.audienceManagerLocationHint=this._createAccessor("_audienceManagerLocationHint","loc_hint",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.audienceManagerBlob(a.audienceManagerBlob()),this.audienceManagerLocationHint(a.audienceManagerLocationHint())}else this.audienceManagerBlob(null),this.audienceManagerLocationHint(null)}var d=b.model.Dao;a.extend(c,d),b.model.AudienceManagerDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,c,i,j){this.eventData=new e,this.eventData.type(b),this.eventData.duration(0),this.eventData.ts((new Date).getTime()),this.eventData.playhead(c),this.assetData=new f(a._assetData),this.streamData=new g(a._streamData),this.qosData=new h(a._qosData),this.cuserData=d.clone(a._cuserData),this.meta=i,this.callback=j,this.filterReport=!0}var d=a.ObjectUtils,e=b.model.EventDao,f=b.model.AssetDao,g=b.model.StreamDao,h=b.model.QoSDao;b.model.TrackItem=c}(a.ADB.va.utils,b),function(a,b){"use strict";function c(a,b,c,i,j,k){this.adobeAnalyticsData=a,this.userData=b,this.aamData=c,this.serviceProviderData=i,this.sessionData=j,this.eventData=new e(k.eventData),this.assetData=new f(k.assetData),this.streamData=new g(k.streamData),this.qosData=new h(k.qosData),this.cuserData=d.clone(k.cuserData),this.meta=d.clone(k.meta),this.callback=k.callback,this.filterReport=k.filterReport}var d=a.ObjectUtils,e=b.model.EventDao,f=b.model.AssetDao,g=b.model.StreamDao,h=b.model.QoSDao;b.model.CUserDao;b.model.Report=c}(a.ADB.va.utils,b),function(a){"use strict";function b(){}b.prototype.serializeReport=function(a){},b.prototype.serializeDao=function(a){},b.prototype.serializeMap=function(a){},b.prototype.serializeNumber=function(a,b,c,d){},b.prototype.serializeString=function(a,b,c,d){},a.model.ISerializer=b}(b),function(a,b){"use strict";function c(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a}var d=b.model.Dao,e=b.model.DaoField,f=b.model.ISerializer;a.extend(c,f),c.prototype.serializeReport=function(a){var b=[];return b.push(this.serializeDao(a.adobeAnalyticsData)),b.push(this.serializeDao(a.userData)),b.push(this.serializeDao(a.aamData)),b.push(this.serializeMap(a.cuserData,"cuser")),b.push(this.serializeDao(a.serviceProviderData)),b.push(this.serializeDao(a.sessionData)),b.push(this.serializeDao(a.eventData)),b.push(this.serializeDao(a.assetData)),b.push(this.serializeDao(a.streamData)),b.push(this.serializeDao(a.qosData)),b.push(this.serializeMap(a.meta,"meta")),{serializedOutput:b.filter(function(a){return!!a}).join("&"),callback:a.callback}},c.prototype.serializeDao=function(a){return this._processDao(a).filter(function(a){return!!a}).join("&")},c.prototype.serializeMap=function(a,b){var c=[],d=b||"meta";for(var e in a)a.hasOwnProperty(e)&&a[e]&&c.push("s:"+d+":"+e+"="+window.encodeURIComponent(a[e]));return c.join("&")},c.prototype.serializeNumber=function(a,b,c,d){var f=h;return null==b||isNaN(b)?null:(d===e.HINT_SHORT&&(f=i),f+":"+c+":"+a+"="+Math.floor(b))},c.prototype.serializeString=function(a,b,c,d){return b?j+":"+c+":"+a+"="+window.encodeURIComponent(b):null},c.prototype._processDao=function(a){var b=[];for(var c in a.data)if(a.data.hasOwnProperty(c)){var e=a.data[c],f=e.value,h=e.hint,i=null,j=a.realm;if(null==f)continue;"number"==typeof f?i=this.serializeNumber(c,f,j,h):"string"==typeof f?i=this.serializeString(c,f,j,h):f instanceof d?i=this.serializeDao(f):this._logger.warn(g,"#_processDao() > Unable to serialize DAO. Field: "+c+". Value: "+f+"."),i&&b.push(i)}return b};var g="ah::QuerystringSerializer",h="l",i="h",j="s";b.model.QuerystringSerializer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){if(!a)throw new Error("Reference to the data object cannot be NULL");if(this._data=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b}c.prototype.parse=function(){var a,b,c,j,k,l;if(window.DOMParser){l=(new window.DOMParser).parseFromString(this._data,"text/xml")}else l=new window.ActiveXObject("Microsoft.XMLDOM"),l.async=!1,l.loadXML(this._data);var m;m=parseInt(l.getElementsByTagName("trackingInterval")[0].childNodes[0].nodeValue,10),m&&(a=m),m=parseInt(l.getElementsByTagName("setupCheckInterval")[0].childNodes[0].nodeValue,10),m&&(b=m),m=parseInt(l.getElementsByTagName("trackExternalErrors")[0].childNodes[0].nodeValue,10),m&&(c=1==m),l.getElementsByTagName("trackingDisabled")[0]&&(m=parseInt(l.getElementsByTagName("trackingDisabled")[0].childNodes[0].nodeValue,10),j=1==m),l.getElementsByTagName("nielsenEnabled")[0]?(m=parseInt(l.getElementsByTagName("nielsenEnabled")[0].childNodes[0].nodeValue,10),k=1==m):k=!0;var n={};return n[e]=a,n[f]=b,n[g]=c,n[i]=j,n[h]=k,this._logger.debug(d,"#parse() > Obtained configuration settings."),n};var d="ah::SettingsParser",e="reporting_interval",f="check_status_interval",g="track_external_errors",h="nielsen_enabled",i="tracking_disabled";b.network.SettingsParser=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){if(this._trackingServer=null,this._checkStatusServer=null,this._publisher=null,this._isConfigured=!1,this._isDestroyed=!1,this._quietMode=!1,this._visitorOptedOut=!1,this._prevReportSent=null,!a)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._serializer=new i(b),this._installEventListeners()}var d=a.Event,e=a.URLRequestMethod,f=a.URLRequest,g=a.URLLoader,h=b.network.SettingsParser,i=b.model.QuerystringSerializer;c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(j,"#destroy()"),this._uninstallEventListeners())},c.prototype._onApiConfig=function(a){var b=a.data;this._logger.debug(j,"#_onApiConfig(sb_server="+b[k]+", check_status_server="+b[l]+", publisher="+b[m]+", quiet_mode="+b[n]+", ssl="+b[o]+")"),this._trackingServer=this._updateRequestProtocol(b[k],b[o]),this._checkStatusServer=this._updateRequestProtocol(b[l],b[o]),this._publisher=b[m],this._quietMode=b[n],this._isConfigured=!0},c.prototype._onUpdateVisitorOptOut=function(a){var b=a.data;this._logger.debug(j,"#_onUpdateVisitorOptOut(visitor_opt_out="+b[q]+")"),this._visitorOptedOut=b[q]},c.prototype._onFilterReportAvailable=function(a){var b=a.data;if(!this._isConfigured)return void this._logger.warn(j,"#_onFilterReportAvailable() > Unable to send request: not configured.");var c=b[p],h=this._serializer.serializeReport(c),i=this._trackingServer+"/?"+h.serializedOutput;if(this._prevReportSent&&this._prevReportSent.eventData&&c.eventData&&this._prevReportSent.eventData.playhead==c.eventData.playhead&&this._prevReportSent.eventData.ts==c.eventData.ts&&this._prevReportSent.eventData.prevTs==c.eventData.prevTs&&this._prevReportSent.eventData.type==c.eventData.type)return void this._logger.debug(j,"#_onFilterReportAvailable() > Duplicate heartbeat report not sent for URL:\\n"+i);this._prevReportSent=c;var k=new f(i,e.GET);this._logger.debug(j,"#_onFilterReportAvailable() > "+k.url);var l=this,m=function(a){o.close(),h.callback&&h.callback.call(null)},n=function(a){o.close(),l._logger.warn(j,"#_onFilterReportAvailable() > Failed to send heartbeat report."),h.callback&&h.callback.call(null)};if(!this._quietMode&&!this._visitorOptedOut){var o=new g;o.addEventListener(d.SUCCESS,m,this),o.addEventListener(d.ERROR,n,this),o.load(k)}},c.prototype._onClockCheckStatusTick=function(a){function b(a){if(a.data){var b=new h(a.data.response,i._logger),c=b.parse();c?i._channel.trigger(new d(v,c)):i._logger.warn(j,"#_onClockCheckStatusTick() > Failed to parse the config. settings.")}n.close()}function c(a){i._logger.warn(j,"#_onClockCheckStatusTick() > Failed to obtain the config. settings."),n.close()}if(!this._isConfigured)return void this._logger.warn(j,"#_onClockCheckStatusTick() > Unable to send request: not configured.");if(!this._publisher)return void this._logger.warn(j,"#_onClockCheckStatusTick() > Publisher is NULL.");var i=this,k=this._publisher.replace(/[^a-zA-Z0-9]+/,"-").toLocaleLowerCase(),l=this._checkStatusServer+k+".xml?r="+(new Date).getTime(),m=new f(l,e.GET),n=new g;n.addEventListener(d.SUCCESS,b,this),n.addEventListener(d.ERROR,c,this),this._logger.debug(j,"#_onClockCheckStatusTick() > Get new settings from: "+l),n.load(m)},c.prototype._updateRequestProtocol=function(a,b){var c=a;return 0===c.indexOf("http://")?c=c.slice(7):0===c.indexOf("https://")&&(c=c.slice(8)),b?"https://"+c:"http://"+c},c.prototype._installEventListeners=function(){this._channel.on(r,this._onApiConfig,this),this._channel.on(s,this._onUpdateVisitorOptOut,this),this._channel.on(t,this._onFilterReportAvailable,this),this._channel.on(u,this._onClockCheckStatusTick,this)},c.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var j="ah::Network",k="tracking_server",l="check_status_server",m="publisher",n="quiet_mode",o="ssl",p="report",q="visitor_opt_out",r="api:config",s="api:update_visitor_optout",t="filter:data_available",u="clock:check_status.tick",v="net:check_status_complete";b.network.Network=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){if(!a)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._isDestroyed=!1,this._isBufferingInProgress=!1,this._reportBuffer={},this._tsHistory={},this._workQueue=new i,this._installEventListeners()}function d(a){var b=[];return a&&a.forEach(function(a){a.eventData.type()==k.EVENT_TYPE_PAUSE||a.eventData.type()==k.EVENT_TYPE_STALL||a.eventData.type()==k.EVENT_TYPE_BUFFER?(!a.filterReport||a.eventData.duration()>u)&&b.push(a):b.push(a)}),b}function e(a){var b=-1,c=-1,d=[];return a.forEach(function(a){a.eventData.type()==k.EVENT_TYPE_START?a.assetData.type()==l.TYPE_MAIN_CONTENT?-1==b?b=d.push(a)-1:(a.eventData.prevTs(-1),d[b]=a):-1==c?c=d.push(a)-1:(a.eventData.prevTs(-1),d[c]=a):d.push(a)}),d}function f(a){var b=[];return a.forEach(function(c){if(c.eventData.type()==k.EVENT_TYPE_PLAY){if(c.eventData.duration()>t)b.push(c);else if(0==c.eventData.duration()&&c.assetData.type()==l.TYPE_MAIN_CONTENT){var d=g(a);d.indexOf(c)==d.length-1&&b.push(c)}}else b.push(c)}),b}function g(a){var b=[];return a.forEach(function(a){a.eventData.type()!=k.EVENT_TYPE_PLAY&&a.eventData.type()!=k.EVENT_TYPE_BUFFER&&a.eventData.type()!=k.EVENT_TYPE_START||b.push(a)}),b}var h=a.radio.Command,i=a.radio.CommandQueue,j=a.Event,k=b.model.EventDao,l=b.model.AssetDao;c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(w,"#destroy()"),this._uninstallEventListeners(),this.clear())},c.prototype.clear=function(){this._logger.debug(w,"#clear()"),this._workQueue.cancelAllCommands(),this._reportBuffer={},this._tsHistory={},this._isBufferingInProgress=!1},c.prototype.flush=function(){this._workQueue.addCommand(new h(this._flushBufferReport,this))},c.prototype._bufferReport=function(a){if(!this._isDestroyed){var b=a[q];if(b){var c=b.sessionData.sessionId();this._reportBuffer[c]=this._reportBuffer[c]||[],this._reportBuffer[c].push(b)}if(!this._isBufferingInProgress){this._isBufferingInProgress=!0;var d={};d[p]=!0,d[r]=1,this._channel.command(s,d)}}},c.prototype._flushBufferReport=function(){function a(a){if(a)for(var c=0;c<a.length;c++){var d=a[c],e=d.sessionData.sessionId();b._tsHistory[e]=b._tsHistory[e]||{};var f=d.eventData.type()+"."+(d.assetData.type()==l.TYPE_AD?d.assetData.adData().adId():d.assetData.videoId());b._tsHistory[e].hasOwnProperty(f)&&d.eventData.prevTs(b._tsHistory[e][f]),b._tsHistory[e][f]=d.eventData.ts()}}if(!this._isDestroyed){var b=this;for(var c in this._reportBuffer)if(this._reportBuffer.hasOwnProperty(c)){var g=f(e(d(this._reportBuffer[c])));a(g);for(var h=0;h<g.length;h++){var i=g[h],k={};k[q]=i,this._channel.trigger(new j(n,k))}}this._reportBuffer={};var m=this._channel.request(v),o=this._tsHistory[m]||{};this._tsHistory={},this._tsHistory[m]=o,this._isBufferingInProgress=!1}},c.prototype._onContextReportAvailable=function(a){var b=a.data;this._workQueue.addCommand(new h(this._bufferReport,this,[b]))},c.prototype._onClockFlushFilterTick=function(a){this.flush()},c.prototype._installEventListeners=function(){this._channel.on(m,this._onContextReportAvailable,this),this._channel.on(o,this._onClockFlushFilterTick,this)},c.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var m="context:report_available",n="filter:data_available",o="clock:flush_filter.tick",p="reset",q="report",r="repeat_count",s="clock:flush_filter.resume",t=250,u=250,v="session_id",w="ah::ReportFilter";b.filter.ReportFilter=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){this._onFail={fn:a,ctx:b}}var d=a.ErrorInfo;c.prototype.validateFields=function(a,b){if(!a)return this._fail("Data cannot be null");if(b)for(var c=0;c<b.length;c++){var d=b[c];switch(d){case"videoId":if(!a.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof a.videoId)return this._fail("The ID for the main video must be a String.");if(""===a.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"streamType":if(!a.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof a.streamType)return this._fail("The stream type for the main video must be a String.");if(""===a.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"videoLength":if(!a.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof a.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(a.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"playhead":if(!a.hasOwnProperty("playhead"))return this._fail("The playhead for the main video must be specified.");if("number"!=typeof a.playhead)return this._fail("The playhead for the main video must be a Number.");if(isNaN(a.playhead))return this._fail("The playhead for the main video cannot be NaN.");break;case"playerName":if(!a.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof a.playerName)return this._fail("The player name for the main video must be a String.");if(""===a.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"rsid":if(!a.hasOwnProperty("rsid"))return this._fail("account (rsid) is required and has to be set in the AppMeasurement instance.");if("string"!=typeof a.rsid)return this._fail("account (rsid) of the AppMeasurement instance must be a String.");if(""===a.rsid)return this._fail("account (rsid) of the AppMeasurement instance  cannot be an empty string.");break;case"trackingServer":if(!a.hasOwnProperty("trackingServer"))return this._fail("trackingServer is required and has to be set in the AppMeasurement instance.");if("string"!=typeof a.trackingServer)return this._fail("trackingServer of the AppMeasurement instance must be a String.");if(""===a.trackingServer)return this._fail("trackingServer of the AppMeasurement instance cannot be an empty string.");break;case"podPlayerName":if(!a.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof a.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===a.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!a.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof a.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(a.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!a.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof a.adId)return this._fail("The ad ID must be a String.");if(""===a.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!a.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof a.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(a.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"chapterPosition":if(!a.hasOwnProperty("chapterPosition"))return this._fail("Position (index) of the chapter must be specified.");if("number"!=typeof a.chapterPosition)return this._fail("Position (index) of the chapter must be a Number.");if(isNaN(a.chapterPosition))return this._fail("Position (index) of the chapter cannot be NaN.");break;case"chapterOffset":if(!a.hasOwnProperty("chapterOffset"))return this._fail("Chapter start-time (offset) must be specified.");if("number"!=typeof a.chapterOffset)return this._fail("Chapter start-time (offset) must be a Number.");if(isNaN(a.chapterOffset))return this._fail("Chapter start-time (offset) cannot be NaN.");break;case"chapterLength":if(!a.hasOwnProperty("chapterLength"))return this._fail("The length of the chapter must be specified.");if("number"!=typeof a.chapterLength)return this._fail("The length of the chapter must be a Number.");if(isNaN(a.chapterLength))return this._fail("The length of the chapter cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+d)}}return!0},c.prototype._fail=function(a){var b=new d("Invalid input data",a);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,b),!1},b.context.InputDataValidator=c}(a.ADB.va,b),function(a,b){"use strict";function c(a,b){if(!b)throw new Error("Reference to the logger object cannot be NULL");if(this._logger=b,!a)throw new Error("Reference to the context object cannot be NULL");this._context=a}var d=b.model.Report;c.prototype.createReportForItem=function(a){return this._logger.debug(e,"Creating report for item: "+a.eventData.type()),new d(this._context._adobeAnalyticsData,this._context._userData,this._context._aamData,this._context._serviceProviderData,this._context._sessionData,a)};var e="ah::ReportFactory";b.context.ReportFactory=c}(a.ADB.core,b),function(a,b,c,d){"use strict";function e(a,b){if(!a)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._lastInBandItem=null,this._stashedLastInBandItem=null,this._stashedMainMetadata=null,this._autoComputedStartupTime=0,this._reportingInterval=ma,this._assetData=null,this._streamData=null,this._qosData=null,this._sessionData=null,this._cuserData=null,this._adobeAnalyticsData=new j,this._serviceProviderData=new k,this._userData=new l,this._aamData=new m,this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._isDestroyed=!1,this._doNotOverrideEventDuration=!1,this._reportFactory=new u(this,this._logger),this._inputDataValidator=new v(function(a){this._logger.error(w,a.getMessage()+" | "+a.getDetails()),this._channel.trigger(new h(y,a))},this),this._trackExternalErrors=!0,this._installEventListeners()}var f=c.md5,g=c.ObjectUtils,h=a.Event,i=d.model.SessionDao,j=d.model.AdobeAnalyticsDao,k=d.model.ServiceProviderDao,l=d.model.UserDao,m=d.model.AudienceManagerDao,n=d.model.EventDao,o=d.model.AssetDao,p=d.model.StreamDao,q=d.model.QoSDao,r=d.model.AdDao,s=d.model.ChapterDao,t=d.model.TrackItem,u=d.context.ReportFactory,v=d.context.InputDataValidator;e.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(w,"#destroy()"),this._uninstallEventListeners())},e.prototype._onApiAnalyticsStart=function(a){this._logger.debug(w,"#_onApiAnalyticsStart()");var b=a.data;if(this._checkCall("_onApiAnalyticsStart")&&this._inputDataValidator.validateFields(b,["playhead"])){this._userData.visitorId(b.vid),this._userData.analyticsVisitorId(b.aid),this._userData.marketingCloudVisitorId(b.mid),this._aamData.audienceManagerBlob(b.blob),this._aamData.audienceManagerLocationHint(b.loc_hint),b.customerIDs&&(this._cuserData=b.customerIDs),this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_AA_START,b.playhead,null,b._eventData[E]);c.assetData.adData(null),c.assetData.type(o.TYPE_MAIN_CONTENT),this._cuserData=null,this._sendHit(c)}},e.prototype._onApiAnalyticsAdStart=function(a){this._logger.debug(w,"#_onApiAnalyticsAdStart()");var b=a.data;if(this._checkCall("_onApiAnalyticsAdStart")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_AA_AD_START,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiVideoLoad=function(a){var b=a.data;this._logger.debug(w,"#_onApiVideoLoad(rsid="+b.rsid+", aa_trackingServer="+b.trackingServer+")"),this._resetInternalState(),this._inputDataValidator.validateFields(b,["rsid","trackingServer"])&&(this._sessionData.sessionId(this._generateSessionId()),this._isTrackingSessionActive=!0)},e.prototype._onApiVideoUnload=function(a){if(this._logger.debug(w,"#_onApiVideoUnload()"),!this._isTrackingSessionActive)return void this._logger.debug(w,"#_onApiVideoUnload() > No active tracking session.");this._isTrackingSessionActive=!1},e.prototype._onApiVideoStart=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiVideoStart(id="+b.videoId+", name="+b.videoName+", length="+b.videoLength+", type="+b.streamType+", playerName="+b.playerName+")"),this._checkCall("_onApiVideoStart")&&this._inputDataValidator.validateFields(b,["videoId","streamType","videoLength","playhead","playerName"])){this._lastInBandItem=null,this._stashedLastInBandItem=null,this._adobeAnalyticsData.reportSuiteId(b.rsid),this._adobeAnalyticsData.trackingServer(b.trackingServer),this._adobeAnalyticsData.ssl(Number(b.useSsl)),this._serviceProviderData.ovp(b.ovp),this._serviceProviderData.sdk(b.sdk),this._serviceProviderData.channel(b.channel),this._serviceProviderData.libVersion(b.version),this._serviceProviderData.apiLevel(b.apiLvl),this._serviceProviderData.playerName(b.playerName),this._assetData.adData(null),this._assetData.chapterData(null),this._assetData.videoId(b.videoId),this._assetData.length(b.videoLength),this._assetData.type(o.TYPE_MAIN_CONTENT),this._assetData.publisher(b.publisher),this._assetData.name(b.videoName),this._streamData.type(b.streamType),this._updateQoSInfo(b);var c=b.metaNielsen?g.merge(b.metaVideo,b.metaNielsen):b.metaVideo,d=new t(this,n.EVENT_TYPE_START,b.playhead,c,b._eventData[E]);this._sendHit(d)}},e.prototype._onApiVideoResume=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiVideoResume(id="+b.videoId+", name="+b.videoName+", length="+b.videoLength+", type="+b.streamType+", playerName="+b.playerName+")"),this._checkCall("_onApiVideoResume")&&this._inputDataValidator.validateFields(b,["videoId","streamType","videoLength","playhead","playerName"])){this._assetData.videoId(b.videoId),this._assetData.length(b.videoLength),this._assetData.type(o.TYPE_MAIN_CONTENT),this._assetData.name(b.videoName),this._streamData.type(b.streamType);var c=new t(this,n.EVENT_TYPE_RESUME,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiVideoSessionEnd=function(a){this._logger.debug(w,"#_onApiVideoSessionEnd()");var b=a.data;if(this._checkCall("_onApiVideoSessionEnd")&&this._inputDataValidator.validateFields(b,["playhead"])){var c=new t(this,n.EVENT_TYPE_END,b.playhead,null,b._eventData[E]);c.assetData.adData(null),c.assetData.type(o.TYPE_MAIN_CONTENT),this._sendHit(c)}},e.prototype._onApiVideoComplete=function(a){this._logger.debug(w,"#_onApiVideoComplete()");var b=a.data;if(this._checkCall("_onApiVideoComplete")){var c=new t(this,n.EVENT_TYPE_COMPLETE,this._assetData.length(),null,b._eventData[E]);this._sendHit(c),this._isVideoComplete=!0}},e.prototype._onApiVideoSkip=function(a){this._logger.debug(w,"#_onApiVideoSkip()");var b=a.data;if(this._checkCall("_onApiVideoSkip")){var c=new t(this,n.EVENT_TYPE_SKIP,b.playhead,null,b._eventData[E]);this._sendHit(c),this._isVideoComplete=!0}},e.prototype._onApiPlay=function(a){this._logger.debug(w,"#_onApiPlay()");var b=a.data;if(this._checkCall("_onApiPlay")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_PLAY,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiPause=function(a){this._logger.debug(w,"#_onApiPause()");var b=a.data;if(this._checkCall("_onApiPause")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=b.playheadStalled?n.EVENT_TYPE_STALL:n.EVENT_TYPE_PAUSE,d=new t(this,c,b.playhead,null,b._eventData[E]);b._eventData.hasOwnProperty(F)&&(d.filterReport=b._eventData[F]),this._sendHit(d)}},e.prototype._onApiBufferStart=function(a){this._logger.debug(w,"#_onApiBufferStart()");var b=a.data;if(this._checkCall("_onApiBufferStart")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_BUFFER,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiAdBreakStart=function(a){this._logger.debug(w,"#_onApiAdBreakStart()");var b=a.data;this._checkCall("_onApiAdBreakStart")&&this._inputDataValidator.validateFields(b,["playhead"])&&(this._flushLastInbandItem(b),this._updateLastInbandItemToBuffering())},e.prototype._onApiAdBreakComplete=function(a){this._logger.debug(w,"#_onApiAdBreakComplete()");var b=a.data;this._checkCall("_onApiAdBreakComplete")&&this._inputDataValidator.validateFields(b,["playhead"])&&(this._flushLastInbandItem(b),this._restoreLastInbandItem())},e.prototype._onApiAdStart=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiAdStart(id="+b.adId+", player_name="+b.podPlayerName+", parent_name="+this._assetData.videoId()+", pod_pos="+b.adPosition+")"),this._checkCall("_onApiAdStart")&&this._inputDataValidator.validateFields(b,["playhead","podPosition","podPlayerName","adId","adPosition"])){var c=new r;c.adId(b.adId),c.adName(b.adName),c.adLength(b.adLength),c.resolver(b.podPlayerName),c.podId(f(this._assetData.videoId())+"_"+b.podPosition),c.podPosition(b.adPosition+""),c.podName(b.podName),c.podOffset(b.podSecond),c.sid(this._generateSessionId()),this._assetData.adData(c),this._assetData.type(o.TYPE_AD),this._updateQoSInfo(b);var d=g.merge(b.metaVideo,b.metaAd);d=b.metaNielsen?g.merge(d,b.metaNielsen):d,d=b.metaAdNielsen?g.merge(d,b.metaAdNielsen):d;var e=new t(this,n.EVENT_TYPE_START,b.playhead,d,b._eventData[E]);this._sendHit(e),this._restoreLastInbandItem();if(!!b.adGranularTracking){var h=b.adTrackingInterval?b.adTrackingInterval:this._reportingInterval;this._updateReportingInterval(h,!0)}}},e.prototype._onApiAdComplete=function(a){this._logger.debug(w,"#_onApiAdComplete()");var b=a.data;if(this._checkCall("_onApiAdComplete")&&this._inputDataValidator.validateFields(b,["playhead"])){if(this._assetData.type()!=o.TYPE_AD)return void this._logger.warn(w,"#_onApiAdComplete() > Ignoring the ad complete event, because we are no longer in an ad.");this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_COMPLETE,b.playhead,null,b._eventData[E]);this._sendHit(c),this._updateLastInbandItemToBuffering(),this._assetData.adData(null),this._assetData.type(o.TYPE_MAIN_CONTENT),this._updateReportingInterval(this._reportingInterval,!1)}},e.prototype._onApiAdSkip=function(a){this._logger.debug(w,"#_onApiAdSkip()");var b=a.data;if(this._checkCall("_onApiAdSkip")&&this._inputDataValidator.validateFields(b,["playhead"])){if(this._assetData.type()!=o.TYPE_AD)return void this._logger.warn(w,"#_onApiAdSkip() > Ignoring the ad skip event, because we are no longer in an ad.");this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_SKIP,b.playhead,null,b._eventData[E]);this._sendHit(c),this._updateLastInbandItemToBuffering(),this._assetData.adData(null),this._assetData.type(o.TYPE_MAIN_CONTENT),this._updateReportingInterval(this._reportingInterval,!1)}},e.prototype._onApiChapterStart=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiChapterStart(name="+b.chapterName+", length="+b.chapterLength+", position="+b.chapterPosition+", chapter_offset="+b.chapterOffset+")"),this._checkCall("_onApiChapterStart")&&this._inputDataValidator.validateFields(b,["playhead","chapterPosition","chapterOffset","chapterLength"])){var c=new s;c.id(f(this._assetData.videoId())+"_"+b.chapterPosition),c.name(b.chapterName),c.length(b.chapterLength),c.position(b.chapterPosition),c.offset(b.chapterOffset),c.sid(this._generateSessionId()),this._assetData.chapterData(c),this._updateQoSInfo(b);var d=g.merge(b.metaVideo,b.metaChapter),e=new t(this,n.EVENT_TYPE_CHAPTER_START,b.playhead,d,b._eventData[E]);e.assetData.adData(null),e.assetData.type(o.TYPE_MAIN_CONTENT),this._sendHit(e)}},e.prototype._onApiChapterComplete=function(a){this._logger.debug(w,"#_onApiChapterComplete()");var b=a.data;if(this._checkCall("_onApiChapterComplete")&&this._inputDataValidator.validateFields(b,["playhead"])){if(!this._assetData.chapterData())return void this._logger.warn(w,"#_onApiChapterComplete() > Ignoring the chapter complete event, because we are no longer in a chapter.");this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_CHAPTER_COMPLETE,b.playhead,null,b._eventData[E]);c.assetData.adData(null),c.assetData.type(o.TYPE_MAIN_CONTENT),this._sendHit(c),this._assetData.chapterData(null)}},e.prototype._onApiChapterSkip=function(a){this._logger.debug(w,"#_onApiChapterSkip()");var b=a.data;if(this._checkCall("_onApiChapterSkip")&&this._inputDataValidator.validateFields(b,["playhead"])){if(!this._assetData.chapterData())return void this._logger.warn(w,"#_onApiChapterSkip() > Ignoring the chapter skip event, because we are no longer in a chapter.");this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_CHAPTER_SKIP,b.playhead,null,b._eventData[E]);c.assetData.adData(null),c.assetData.type(o.TYPE_MAIN_CONTENT),this._sendHit(c),this._assetData.chapterData(null)}},e.prototype._onApiBitrateChange=function(a){this._logger.debug(w,"#_onApiBitrateChange()");var b=a.data;if(this._checkCall("_onApiBitrateChange")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_BITRATE_CHANGE,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiTrackError=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiTrackError(source="+b._eventData.source+", err_id="+b._eventData.error_id+")"),!this._isTrackingSessionActive)return void this._logger.warn(w,"#_onApiTrackError() > No active tracking session.");if(this._trackExternalErrors||b._eventData.source===x){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_ERROR,0,null,b._eventData[E]);c.eventData.id(b._eventData.error_id),c.eventData.source(b._eventData.source),this._sendHit(c)}},e.prototype._onApiTrackInternalError=function(a){var b=a.data;this._logger.debug(w,"#_onApiTrackInternalError(source="+b.source+", err_id="+b.error_id+")"),this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_ERROR,0);c.eventData.id(b.error_id),c.eventData.source(b.source),this._sendHit(c)},e.prototype._onApiQuantumEnd=function(a){this._logger.debug(w,"#_onApiQuantumEnd(interval="+this._channel.request(B)+")");var b=a.data;if(this._checkCall("_onApiQuantumEnd")&&this._inputDataValidator.validateFields(b,["playhead"])){var c=this._lastInBandItem;if(c){this._updateQoSInfo(b);var d=new t(this,c.eventData.type(),b.playhead,c.meta,c.callback);d.filterReport=c.filterReport,this._sendHit(d,!0)}}},e.prototype._onNetworkCheckStatusComplete=function(a){var b=a.data;this._trackExternalErrors=b[I],this._reportingInterval=b[J],this._reportingInterval||(this._reportingInterval=ma),this._logger.debug(w,"#_onNetworkCheckStatusComplete(track_ext_err="+this._trackExternalErrors+")")},e.prototype._onResetSessionId=function(a){var b=this._generateSessionId();this._sessionData=new i,this._sessionData.sessionId(b),this._logger.debug(w,"#_resetSessionId(new sessionId="+b+")")},e.prototype._installEventListeners=function(){this._channel.on(L,this._onApiAnalyticsStart,this),this._channel.on(M,this._onApiAnalyticsAdStart,this),this._channel.on(N,this._onApiVideoLoad,this),this._channel.on(O,this._onApiVideoUnload,this),this._channel.on(P,this._onApiVideoStart,this),this._channel.on(Q,this._onApiVideoComplete,this),this._channel.on(R,this._onApiVideoSkip,this),this._channel.on(S,this._onApiVideoResume,this),this._channel.on(T,this._onApiVideoSessionEnd,this),this._channel.on(U,this._onApiAdBreakStart,this),this._channel.on(V,this._onApiAdBreakComplete,this),this._channel.on(W,this._onApiAdStart,this),this._channel.on(X,this._onApiAdComplete,this),this._channel.on(Y,this._onApiAdSkip,this),this._channel.on(Z,this._onApiPlay,this),this._channel.on($,this._onApiPause,this),this._channel.on(_,this._onApiBufferStart,this),this._channel.on(aa,this._onApiChapterStart,this),this._channel.on(ba,this._onApiChapterComplete,this),this._channel.on(ca,this._onApiChapterSkip,this),this._channel.on(fa,this._onApiBitrateChange,this),this._channel.on(da,this._onApiTrackError,this),this._channel.on(ea,this._onApiTrackInternalError,this),this._channel.on(ga,this._onApiQuantumEnd,this),this._channel.on(ia,this._onNetworkCheckStatusComplete,this),this._channel.on(D,this._onResetSessionId,this),this._channel.reply(C,function(){return this._sessionData&&this._sessionData.sessionId()?this._sessionData.sessionId():null},this)},e.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)},e.prototype._resetInternalState=function(){this._logger.debug(w,"#_resetInternalState()"),this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._autoComputedStartupTime=0,this._lastInBandItem=null,this._stashedLastInBandItem=null,this._streamData=new p,this._qosData=new q,this._sessionData=new i,this._assetData=new o,this._cuserData=null},e.prototype._generateSessionId=function(){return""+(new Date).getTime()+Math.floor(1e9*Math.random())},e.prototype._updateQoSInfo=function(a){this._qosData.bitrate(a.bitrate||0),this._qosData.fps(a.fps||0),this._qosData.droppedFrames(a.droppedFrames||0),null==a.startupTime||isNaN(a.startupTime)?(this._qosData.startupTime(this._autoComputedStartupTime),this._qosData.isStartupTimeOverridden=!1):(this._qosData.startupTime(a.startupTime),this._qosData.isStartupTimeOverridden=!0)},e.prototype._checkCall=function(a){return this._isTrackingSessionActive?!this._isVideoComplete||"_onApiVideoSessionEnd"===a||(this._logger.warn(w,"#"+a+"() > The video content already completed."),!1):(this._logger.warn(w,"#"+a+"() > No active tracking session."),!1)},e.prototype._updateReportingInterval=function(a,b){var c={};c[K]=!!b,c[J]=a,this._channel.trigger(new h(ja,c))},e.prototype._updateLastInBandItem=function(a){var b=this._lastInBandItem,c=(new Date).getTime(),d=b.assetData.type()===o.TYPE_AD||a.assetData.type()===o.TYPE_AD,e=1e3*Math.abs(a.eventData.playhead()-b.eventData.playhead()),f=Math.abs(c-b.eventData.ts()),g=Math.abs(e-f),h=f;h>ka?(this._logger.warn(w," Resetting duration in lastInBandItem["+b.assetData.type()+":"+b.eventData.type()+"] call to 0 as calculated duration ("+h+")exceeds 10mins"),h=0):b.eventData.type()==n.EVENT_TYPE_PLAY&&!d&&!this._doNotOverrideEventDuration&&g>la&&(h=Math.min(e,f),this._logger.warn(w," Resetting duration in lastInBandItem["+b.assetData.type()+":"+b.eventData.type()+"] call to "+h+" as calculated error delta ("+g+")exceeds 2sec")),this._doNotOverrideEventDuration=!1,b.eventData.duration(h),b.eventData.ts(c),b.eventData.playhead(a.eventData.playhead()),b.qosData.startupTime(a.qosData.startupTime()),b.qosData.isStartupTimeOverridden=a.qosData.isStartupTimeOverridden},e.prototype._updateLastInbandItemToBuffering=function(){this._stashedLastInBandItem=this._lastInBandItem;var a=0;null!=this._lastInBandItem&&(this._lastInBandItem.assetData.type()==o.TYPE_MAIN_CONTENT&&this._lastInBandItem.eventData.type()==n.EVENT_TYPE_START&&(this._stashedMainMetadata=this._lastInBandItem.meta),a=this._lastInBandItem.eventData.playhead());var b=new t(this,n.EVENT_TYPE_BUFFER,a,null,null);b.assetData.adData(null),b.assetData.type(o.TYPE_MAIN_CONTENT),this._lastInBandItem=b},e.prototype._restoreLastInbandItem=function(){if(null!=this._stashedLastInBandItem){var a=null;this._stashedLastInBandItem.eventData.type()==n.EVENT_TYPE_START&&(this._lastInBandItem.assetData.type()==o.TYPE_AD?a=this._lastInBandItem.meta:(a=this._stashedMainMetadata,this._stashedMainMetadata=null));var b=new t(this,this._stashedLastInBandItem.eventData.type(),this._stashedLastInBandItem.eventData.playhead(),a,this._stashedLastInBandItem.callback);b.filterReport=this._stashedLastInBandItem.filterReport,this._lastInBandItem=b,this._stashedLastInBandItem=null}},e.prototype._flushLastInbandItem=function(a){if(this._lastInBandItem){this._updateQoSInfo(a);var b=new t(this,this._lastInBandItem.eventData.type(),a.playhead,this._lastInBandItem.meta,this._lastInBandItem.callback);this._sendHit(b,!0)}},e.prototype._createAndSendReport=function(a){var b=this._reportFactory.createReportForItem(a);b.qosData.isStartupTimeOverridden||b.qosData.startupTime(this._autoComputedStartupTime);var c={};if(c[G]=b,this._channel.trigger(new h(ha,c)),b.eventData.type()==n.EVENT_TYPE_START||b.eventData.type()==n.EVENT_TYPE_PLAY||b.eventData.type()==n.EVENT_TYPE_PAUSE||b.eventData.type()==n.EVENT_TYPE_STALL||b.eventData.type()==n.EVENT_TYPE_BUFFER){var d={};d[H]=!0,this._channel.command(z,d)}},e.prototype._sendHit=function(a,b){switch(a.eventData.type()){case n.EVENT_TYPE_START:case n.EVENT_TYPE_PLAY:case n.EVENT_TYPE_PAUSE:case n.EVENT_TYPE_STALL:case n.EVENT_TYPE_BUFFER:this._lastInBandItem?(this._updateLastInBandItem(a),this._lastInBandItem.eventData.type()==n.EVENT_TYPE_START&&this._lastInBandItem.assetData.type()==o.TYPE_MAIN_CONTENT&&(this._autoComputedStartupTime+=this._lastInBandItem.eventData.duration()),this._createAndSendReport(this._lastInBandItem),b&&this._lastInBandItem.eventData.type()==a.eventData.type()||this._createAndSendReport(a)):this._createAndSendReport(a),this._lastInBandItem=a;break;case n.EVENT_TYPE_COMPLETE:case n.EVENT_TYPE_SKIP:if(this._lastInBandItem&&(this._updateLastInBandItem(a),this._createAndSendReport(this._lastInBandItem)),a.eventData.type()!==n.EVENT_TYPE_SKIP&&this._createAndSendReport(a),a.assetData.type()==o.TYPE_MAIN_CONTENT){this._lastInBandItem=null,this._stashedLastInBandItem=null;var c={};c[H]=!0,this._channel.command(A,c)}else a.assetData.type()==o.TYPE_AD&&(this._lastInBandItem.assetData.adData(null),this._lastInBandItem.assetData.type(o.TYPE_MAIN_CONTENT),this._doNotOverrideEventDuration=!0);break;case n.EVENT_TYPE_CHAPTER_START:case n.EVENT_TYPE_CHAPTER_COMPLETE:case n.EVENT_TYPE_CHAPTER_SKIP:this._lastInBandItem&&(this._updateLastInBandItem(a),this._createAndSendReport(this._lastInBandItem)),a.eventData.type()!==n.EVENT_TYPE_CHAPTER_SKIP&&this._createAndSendReport(a),this._lastInBandItem&&(this._lastInBandItem.assetData.chapterData(a.eventData.type()==n.EVENT_TYPE_CHAPTER_START?new s(a.assetData.chapterData()):null),this._lastInBandItem.eventData.duration(0),this._createAndSendReport(this._lastInBandItem));break;default:this._createAndSendReport(a)}};var w="ah::Context",x="sourceErrorSDK",y="error",z="clock:reporting.resume",A="clock:reporting.pause",B="reporting_interval",C="session_id",D="reset_session_id",E="callback",F="filter_report",G="report",H="reset",I="track_external_errors",J="reporting_interval",K="do_not_override_interval",L="api:aa_start",M="api:aa_ad_start",N="api:video_load",O="api:video_unload",P="api:video_start",Q="api:video_complete",R="api:video_skip",S="api:video_resume",T="api:video_session_end",U="api:adbreak_start",V="api:adbreak_complete",W="api:ad_start",X="api:ad_complete",Y="api:ad_skip",Z="api:play",$="api:pause",_="api:buffer_start",aa="api:chapter_start",ba="api:chapter_complete",ca="api:chapter_skip",da="api:track_error",ea="api:track_internal_error",fa="api:bitrate_change",ga="api:quantum_end",ha="context:report_available",ia="net:check_status_complete",ja="reporting:update_interval",ka=6e5,la=2e3,ma=10;d.context.Context=e}(a.ADB.core,a.ADB.va,a.ADB.va.utils,b),function(a){"use strict";function b(a,b){this.trackingServer=a,this.publisher=b,this.ssl=!1,this.ovp=c,this.sdk=c,this.quietMode=!1,this.debugLogging=!1,this.__isPrimetime=!1,this.__psdkVersion=null}var c="unknown";a.AdobeHeartbeatPluginConfig=b}(b),function(a){"use strict";function b(){}b.prototype.onError=function(a){},b.prototype.onTrackingDisabled=function(){},a.AdobeHeartbeatPluginDelegate=b}(b),function(a,b,c){"use strict";function d(a){d.__super__.constructor.call(this,q),this._radio=new i(this._logger),this._channel=this._radio.channel(y),this._delegate=a,this._context=new l(this._channel,this._logger),this._filter=new m(this._channel,this._logger),this._network=new n(this._channel,this._logger),this._setupDataResolver()}var e=a.Event,f=a.Trigger,g=a.plugin.BasePlugin,h=a.plugin.ParamMapping,i=a.radio.Radio,j=b.ErrorInfo,k=b.Version,l=c.context.Context,m=c.filter.ReportFilter,n=c.network.Network,o=c.clock.Clock,p=c.AdobeHeartbeatPluginConfig;a.extend(d,g),d.prototype.configure=function(a){if(!a)throw new Error("Reference to the configuration data cannot be NULL.");if(!(a instanceof p))throw new Error("Expected config data to be instance of AdobeHeartbeatPluginConfig.");this._config=a,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.trackingServer+", publisher="+this._config.publisher+", quietMode="+this._config.quietMode+", ssl="+this._config.ssl+"})");var b=this._config.trackingServer+"/settings/",c={};c[ia]=this._config.trackingServer,c[ja]=b,c[ka]=this._config.publisher,c[la]=this._config.quietMode,c[ma]=this._config.ssl,this._channel.trigger(new e(sa,c)),this._isConfigured=!0},d.prototype.bootstrap=function(a){d.__super__.bootstrap.call(this,a),this._channel.on(z,this._onError,this),this._clock=new o(this._pluginManager,this._channel,this._logger),this._channel.command(Ra),this._channel.trigger(new e(Ya)),this._channel.on(pa,this._onCheckStatusComplete,this),this._registerCommands(),this._registerBehaviours()},d.prototype._teardown=function(){this._logger.debug(this._logTag,"#_teardown()"),this._radio.shutdown(),this._context.destroy(),this._clock.destroy(),this._filter.destroy(),this._network.destroy()},d.prototype._canProcess=function(){return this._isConfigured?this._errorInfo?(this._logger.error(this._logTag,"_canProcess() > Plugin in ERROR state."),!1):d.__super__._canProcess.call(this):(this._logger.error(this._logTag,"_canProcess() > Plugin not configured."),!1)},d.prototype._cmdAnalyticsError=function(a){this._errorInfo||(this._errorInfo=new j("Internal error","AdobeAnalyticsPlugin is in ERROR state."),this._trigger(z,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},d.prototype._cmdAnalyticsStart=function(a){if(this._canProcess()){var b={};b[na]=a.visitorOptedOut,this._channel.trigger(new e(ta,b)),this._channel.trigger(new e(qa,a))}},d.prototype._cmdAnalyticsAdStart=function(a){this._canProcess()&&this._channel.trigger(new e(ra,a))},d.prototype._cmdVideoLoad=function(a){this._errorInfo=null,this._canProcess()&&(this._isTrackingSessionActive&&this._channel.trigger(new e(va,a)),this._isTrackingSessionActive=!1,this._isPaused=!0,this._isSeeking=!1,this._isBuffering=!1,this._isVideoIdle=!1,this._filter.clear(),this._channel.trigger(new e(ua,a)),this._isTrackingSessionActive=!0)},d.prototype._cmdVideoUnload=function(a){this._errorInfo=null,this._canProcess()&&(this._channel.trigger(new e(va,a)),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._isTrackingSessionActive=!1)},d.prototype._cmdVideoSessionEnd=function(a){this._canProcess()&&this._channel.trigger(new e(Aa,a))},d.prototype._cmdVideoStart=function(a){this._canProcess()&&(this._channel.trigger(new e(wa,a)),this._filter.flush())},d.prototype._cmdVideoComplete=function(a){this._canProcess()&&this._channel.trigger(new e(xa,a))},d.prototype._cmdVideoSkip=function(a){this._canProcess()&&this._channel.trigger(new e(ya,a))},d.prototype._cmdVideoResume=function(a){this._canProcess()&&this._channel.trigger(new e(za,a))},d.prototype._cmdPlay=function(a){this._canProcess()&&(this._isPaused=!1,this._resumePlaybackIfPossible(a))},d.prototype._cmdPause=function(a){this._canProcess()&&(this._channel.trigger(new e(Ha,a)),this._isPaused=!0,this._runIdleTimer(!0))},d.prototype._cmdAdBreakStart=function(a){this._canProcess()&&this._channel.trigger(new e(Ba,a))},d.prototype._cmdAdBreakComplete=function(a){this._canProcess()&&(this._channel.trigger(new e(Ca,a)),this._resumePlaybackIfPossible(a))},d.prototype._cmdAdStart=function(a){this._canProcess()&&(this._channel.trigger(new e(Da,a)),this._resumePlaybackIfPossible(a))},d.prototype._cmdAdComplete=function(a){this._canProcess()&&this._channel.trigger(new e(Ea,a))},d.prototype._cmdAdSkip=function(a){this._canProcess()&&this._channel.trigger(new e(Fa,a))},d.prototype._cmdBufferStart=function(a){this._canProcess()&&(this._channel.trigger(new e(Ia,a)),this._isBuffering=!0,this._runIdleTimer(!0))},d.prototype._cmdBufferComplete=function(a){this._canProcess()&&(this._isBuffering=!1,this._isPaused?this._channel.trigger(new e(Ha,a)):this._resumePlaybackIfPossible(a))},d.prototype._cmdSeekStart=function(a){this._canProcess()&&(this._channel.trigger(new e(Ha,a)),this._isSeeking=!0,this._runIdleTimer(!0))},d.prototype._cmdSeekComplete=function(a){this._canProcess()&&(this._isSeeking=!1,this._resumePlaybackIfPossible(a))},d.prototype._cmdChapterStart=function(a){this._canProcess()&&this._channel.trigger(new e(Ja,a))},d.prototype._cmdChapterComplete=function(a){this._canProcess()&&this._channel.trigger(new e(Ka,a))},d.prototype._cmdChapterSkip=function(a){this._canProcess()&&this._channel.trigger(new e(La,a))},d.prototype._cmdBitrateChange=function(a){this._canProcess()&&this._channel.trigger(new e(Oa,a))},d.prototype._cmdTrackError=function(a){this._canProcess()&&this._channel.trigger(new e(Ma,a))},d.prototype._cmdClockReportingTick=function(a){this._canProcess()&&this._channel.trigger(new e(Pa,a))},d.prototype._onCheckStatusComplete=function(a){if(this._canProcess()){var b=!1;a&&a.data&&a.data[oa]&&(b=a.data[oa]),this._logger.debug(this._logTag,"#_onCheckStatusComplete(trackingDisabled="+b+")"),b&&this._delegate&&this._delegate.onTrackingDisabled()}},d.prototype._cmdIdleTick=function(a){this._canProcess()&&(this._isVideoIdle=!0,this._trigger(aa),this._channel.trigger(new e(Aa,a)),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._trigger($))},d.prototype._onError=function(a){this._errorInfo=a.data;var b={};b[ga]=Qa,b[ha]=this._errorInfo.getMessage()+"|"+this._errorInfo.getDetails(),this._channel.trigger(new e(Na,b)),this._runReportingTimer(!1),this._trigger(z,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo)},d.prototype._runIdleTimer=function(a){var b={};b[fa]=!0,a?this._channel.command(Wa,b):this._channel.command(Xa,b)},d.prototype._runFlushFilterTimer=function(a){var b={};b[fa]=!0,a?this._channel.command(Ua,b):this._channel.command(Va,b)},d.prototype._runReportingTimer=function(a){var b={};b[fa]=!0,a?this._channel.command(Sa,b):this._channel.command(Ta,b)},d.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleAnalyticsError",this._cmdAnalyticsError),this._pluginManager.comply(this,"handleAnalyticsStart",this._cmdAnalyticsStart),this._pluginManager.comply(this,"handleAnalyticsAdStart",this._cmdAnalyticsAdStart),this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoUnload",this._cmdVideoUnload),this._pluginManager.comply(this,"handleVideoSessionEnd",this._cmdVideoSessionEnd),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleVideoComplete",this._cmdVideoComplete),this._pluginManager.comply(this,"handleVideoSkip",this._cmdVideoSkip),this._pluginManager.comply(this,"handleVideoResume",this._cmdVideoResume),this._pluginManager.comply(this,"handlePlay",this._cmdPlay),this._pluginManager.comply(this,"handlePause",this._cmdPause),this._pluginManager.comply(this,"handleAdBreakStart",this._cmdAdBreakStart),this._pluginManager.comply(this,"handleAdBreakComplete",this._cmdAdBreakComplete),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleAdComplete",this._cmdAdComplete),this._pluginManager.comply(this,"handleAdSkip",this._cmdAdSkip),this._pluginManager.comply(this,"handleBufferStart",this._cmdBufferStart),this._pluginManager.comply(this,"handleBufferComplete",this._cmdBufferComplete),this._pluginManager.comply(this,"handleSeekStart",this._cmdSeekStart),this._pluginManager.comply(this,"handleSeekComplete",this._cmdSeekComplete),this._pluginManager.comply(this,"handleChapterStart",this._cmdChapterStart),this._pluginManager.comply(this,"handleChapterComplete",this._cmdChapterComplete),this._pluginManager.comply(this,"handleChapterSkip",this._cmdChapterSkip),this._pluginManager.comply(this,"handleBitrateChange",this._cmdBitrateChange),this._pluginManager.comply(this,"handleTrackError",this._cmdTrackError),this._pluginManager.comply(this,"handleClockReportingTick",this._cmdClockReportingTick),this._pluginManager.comply(this,"handleIdleTick",this._cmdIdleTick)},d.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new f(t,C),this,"handleVideoLoad",[new h(s,"rsid","rsid"),new h(s,"tracking_server","trackingServer")]),this._pluginManager.registerBehaviour(new f(t,D),this,"handleVideoUnload"),this._pluginManager.registerBehaviour(new f(t,E),this,"handleVideoSessionEnd",[new h(t,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new f(t,F),this,"handleVideoStart",[new h(t,"video.id","videoId"),new h(t,"video.name","videoName"),new h(t,"video.length","videoLength"),new h(t,"video.playhead","playhead"),new h(t,"video.playerName","playerName"),new h(t,"video.streamType","streamType"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime"),new h(s,"rsid","rsid"),new h(s,"tracking_server","trackingServer"),new h(s,"channel","channel"),new h(s,"meta.video.*","metaVideo"),new h(s,"ssl","useSsl"),new h(u,"meta","metaNielsen"),new h(r,"publisher","publisher"),new h(r,"sdk","sdk"),new h(r,"ovp","ovp"),new h(r,"version","version"),new h(r,"api_level","apiLvl")]),this._pluginManager.registerBehaviour(new f(t,H),this,"handleVideoComplete",[new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,I),this,"handleVideoSkip",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,G),this,"handleVideoResume",[new h(t,"video.id","videoId"),new h(t,"video.name","videoName"),new h(t,"video.length","videoLength"),new h(t,"video.playhead","playhead"),new h(t,"video.playerName","playerName"),new h(t,"video.streamType","streamType")]),this._pluginManager.registerBehaviour(new f(t,J),this,"handlePlay",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,K),this,"handlePause",[new h(t,"video.playhead","playhead"),new h(t,"video.playheadStalled","playheadStalled"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,M),this,"handleAdBreakStart",[new h(t,"ad.isInAdBreak","isInAdBreak"),new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,N),this,"handleAdBreakComplete",[new h(t,"ad.isInAdBreak","isInAdBreak"),new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,O),this,"handleAdStart",[new h(t,"video.playhead","playhead"),new h(t,"ad.id","adId"),new h(t,"ad.name","adName"),new h(t,"ad.length","adLength"),new h(t,"ad.position","adPosition"),new h(t,"ad.granularTracking","adGranularTracking"),new h(t,"ad.trackingInterval","adTrackingInterval"),new h(t,"pod.name","podName"),new h(t,"pod.playerName","podPlayerName"),new h(t,"pod.position","podPosition"),new h(t,"pod.startTime","podSecond"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime"),new h(s,"meta.video.*","metaVideo"),new h(s,"meta.ad.*","metaAd"),new h(u,"meta","metaNielsen"),new h(u,"metaAd","metaAdNielsen")]),this._pluginManager.registerBehaviour(new f(t,P),this,"handleAdComplete",[new h(t,"video.playhead","playhead"),new h(t,"ad.isInAdBreak","isInAdBreak"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,Q),this,"handleAdSkip",[new h(t,"video.playhead","playhead"),new h(t,"ad.isInAdBreak","isInAdBreak"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,R),this,"handleBufferStart",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,S),this,"handleBufferComplete",[new h(t,"video.playhead","playhead"),new h(t,"video.playheadStalled","playheadStalled"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,T),this,"handleSeekStart",[new h(t,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new f(t,U),this,"handleSeekComplete",[new h(t,"video.playhead","playhead"),new h(t,"ad.isInAd","isInAd"),new h(t,"ad.id","adId"),new h(t,"ad.position","adPosition"),new h(t,"pod.playerName","podPlayerName"),new h(t,"pod.position","podPosition"),new h(t,"chapter.isInChapter","isInChapter"),new h(t,"chapter.position","chapterPosition"),new h(t,"chapter.name","chapterName"),new h(t,"chapter.length","chapterLength"),new h(t,"chapter.startTime","chapterOffset"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,V),this,"handleChapterStart",[new h(t,"video.playhead","playhead"),new h(t,"chapter.position","chapterPosition"),new h(t,"chapter.name","chapterName"),new h(t,"chapter.length","chapterLength"),new h(t,"chapter.startTime","chapterOffset"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime"),new h(s,"meta.video.*","metaVideo"),new h(s,"meta.chapter.*","metaChapter"),new h(u,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new f(t,W),this,"handleChapterComplete",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,X),this,"handleChapterSkip",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,Y),this,"handleBitrateChange",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,Z),this,"handleTrackError"),this._pluginManager.registerBehaviour(new f(v,ca),this,"handleClockReportingTick",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,L),this,"handleClockReportingTick",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(v,ea),this,"handleIdleTick",[new h(t,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new f(r,aa),this,"handleClockReportingTick",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(s,z),this,"handleAnalyticsError"),this._pluginManager.registerBehaviour(new f(s,A),this,"handleAnalyticsStart",[new h(s,"vid","vid"),new h(s,"aid","aid"),new h(s,"mid","mid"),new h(s,"customerIDs","customerIDs"),new h(s,"visitorOptedOut","visitorOptedOut"),new h(s,"blob","blob"),new h(s,"loc_hint","loc_hint"),new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(s,B),this,"handleAnalyticsAdStart",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")])},d.prototype._setupDataResolver=function(){var a={},b=this;a.version=function(){return k.getVersion()},a.api_level=function(){return k.getApiLevel()},a.tracking_server=function(){return b._config?b._config.trackingServer:null},a.publisher=function(){return b._config?b._config.publisher:null},a.quiet_mode=function(){return!!b._config&&b._config.quietMode},a.ovp=function(){return b._config?b._config.ovp:null},a.sdk=function(){return b._config?b._config.sdk:null},a.is_primetime=function(){return!!b._config&&b._config.__isPrimetime},a.psdk_version=function(){return b._config?b._config.__psdkVersion:null},a.session_id=function(){return b._channel.request(w)},this._dataResolver=function(b){if(!b||0==b.length)return null;for(var c=null,d=0;d<b.length;d++){var e=b[d];c=c||{},c[e]=a.hasOwnProperty(e)?a[e].call(this):null}return c}},d.prototype._resumePlaybackIfPossible=function(a){this._errorInfo||this._isPaused||this._isSeeking||this._isBuffering||(this._isVideoIdle?(this._isVideoIdle=!1,this._resumePlaybackFromIdle()):this._channel.trigger(new e(Ga,a)),this._runIdleTimer(!1))},d.prototype._resumePlaybackFromIdle=function(){this._trigger(aa),this._filter.clear(),this._channel.trigger(new e(x)),this._trigger(_),this._runReportingTimer(!0),this._runFlushFilterTimer(!0)};var q="adobe-heartbeat",r=q,s="adobe-analytics",t="player",u="nielsen",v="service.clock",w="session_id",x="reset_session_id",y="heartbeat-channel",z="error",A="aa_start",B="sc_ad_start",C="video_load",D="video_unload",E="video_session_end",F="video_start",G="video_resume",H="video_complete",I="video_skip",J="play",K="pause",L="content_start",M="adbreak_start",N="adbreak_complete",O="ad_start",P="ad_complete",Q="ad_skip",R="buffer_start",S="buffer_complete",T="seek_start",U="seek_complete",V="chapter_start",W="chapter_complete",X="chapter_skip",Y="bitrate_change",Z="track_error",$="video_idle_start",_="video_idle_resume",aa="quantum_close",ba="heartbeat.reporting",ca=ba+".tick",da="heartbeat.idle",ea=da+".tick",fa="reset",ga="source",ha="error_id",ia="tracking_server",ja="check_status_server",ka="publisher",la="quiet_mode",ma="ssl",na="visitor_opt_out",oa="tracking_disabled",pa="net:check_status_complete",qa="api:aa_start",ra="api:aa_ad_start",sa="api:config",ta="api:update_visitor_optout",ua="api:video_load",va="api:video_unload",wa="api:video_start",xa="api:video_complete",ya="api:video_skip",za="api:video_resume",Aa="api:video_session_end",Ba="api:adbreak_start",Ca="api:adbreak_complete",Da="api:ad_start",Ea="api:ad_complete",Fa="api:ad_skip",Ga="api:play",Ha="api:pause",Ia="api:buffer_start",Ja="api:chapter_start",Ka="api:chapter_complete",La="api:chapter_skip",Ma="api:track_error",Na="api:track_internal_error",Oa="api:bitrate_change",Pa="api:quantum_end",Qa="sourceErrorHeartbeat",Ra="clock:check_status.resume",Sa="clock:reporting.resume",Ta="clock:reporting.pause",Ua="clock:flush_filter.resume",Va="clock:flush_filter.pause",Wa="clock:idle.resume",Xa="clock:idle.pause",Ya="clock:check_status.get_settings";c.AdobeHeartbeatPlugin=d}(a.ADB.core,a.ADB.va,b),a.ADB.va.plugins.ah||(a.ADB.va.plugins.ah=b)}(this);\n\n// AdobeAnalyticsPlugin\n!function(a){if(void 0===b)var b={};!function(a,b){"use strict";function c(a,b){this._onFail={fn:a,ctx:b}}var d=a.ErrorInfo;c.prototype.validateFields=function(a,b){if(!a)return this._fail("Data cannot be null");if(b)for(var c=0;c<b.length;c++){var d=b[c];switch(d){case"videoId":if(!a.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof a.videoId)return this._fail("The ID for the main video must be a String.");if(""===a.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"mediaType":if(!a.hasOwnProperty("mediaType"))return this._fail("The media type for the main video must be specified.");if("string"!=typeof a.mediaType)return this._fail("The media type for the main video must be a String.");if(""===a.mediaType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"streamType":if(!a.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof a.streamType)return this._fail("The stream type for the main video must be a String.");if(""===a.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"playerName":if(!a.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof a.playerName)return this._fail("The player name for the main video must be a String.");if(""===a.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"videoLength":if(!a.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof a.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(a.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"podPlayerName":if(!a.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof a.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===a.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!a.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof a.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(a.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!a.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof a.adId)return this._fail("The ad ID must be a String.");if(""===a.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!a.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof a.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(a.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"adLength":if(!a.hasOwnProperty("adLength"))return this._fail("The length of the ad must be specified.");if("number"!=typeof a.adLength)return this._fail("The length of the ad must be a Number.");if(isNaN(a.adLength))return this._fail("The length of the ad cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+d)}}return!0},c.prototype._fail=function(a){var b=new d("Invalid input data",a);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,b),!1},b.InputDataValidator=c}(a.ADB.va,b),function(a){"use strict";function b(){this.channel=c,this.debugLogging=!1}var c="";a.AdobeAnalyticsPluginConfig=b}(b),function(a){"use strict";function b(){}b.prototype.onError=function(a){},a.AdobeAnalyticsPluginDelegate=b}(b),function(a,b,c,d){"use strict";function e(a,b){if(e.__super__.constructor.call(this,r),!a)throw new Error("The reference to the AppMeasurement object cannot be NULL.");if(a.unsupportedBrowser)throw new Error("AppMeasurement is not supported in current browser.");this._appMeasurement=a,this._delegate=b,this._videoMetadata={},this._adMetadata={},this._chapterMetadata={},this._errorInfo=null,this._workQueue=new k(!0,w),this._inputDataValidator=new q(function(a){this._errorInfo=a,this._logger.error(this._logTag,a.getMessage()+" | "+a.getDetails());var b=this;setTimeout(function(){b._trigger(x,a),b._delegate&&b._delegate.onError(b._errorInfo)},0)},this),this._appMeasurement.isReadyToTrack(),this._setupDataResolver()}var f=a.Trigger,g=a.plugin.BasePlugin,h=a.plugin.ParamMapping,i=a.radio.Channel,j=a.radio.Command,k=a.radio.CommandQueue,l=b.ErrorInfo,m=c.md5,n=c.StringUtils,o=c.ObjectUtils,p=d.AdobeAnalyticsPluginConfig,q=d.InputDataValidator;a.extend(e,g),e.prototype.configure=function(a){if(!a)throw new Error("Reference to the configuration data cannot be NULL.");if(!(a instanceof p))throw new Error("Expected config data to be instance of AdobeAnalyticsPluginConfig.");this._config=a,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.debugLogging+", channel="+this._config.channel+", ssl="+this._appMeasurement.ssl+"})")},e.prototype.bootstrap=function(a){e.__super__.bootstrap.call(this,a),this._registerCommands(),this._registerBehaviours()},e.prototype.setup=function(){this._appMeasurement.isReadyToTrack()?this._onAppMeasurementReady():this._appMeasurement.callbackWhenReadyToTrack(this,this._onAppMeasurementReady,[]),e.__super__.setup.call(this)},e.prototype.setVideoMetadata=function(a){this._videoMetadata=o.clone(a)},e.prototype.setAdMetadata=function(a){this._adMetadata=o.clone(a)},e.prototype.setChapterMetadata=function(a){this._chapterMetadata=o.clone(a)},e.prototype._canProcess=function(){return this._errorInfo?(this._logger.error(this._logTag,"#_canProcess() > In ERROR state."),!1):e.__super__._canProcess.call(this)},e.prototype._cmdVideoLoad=function(a){this._errorInfo=null},e.prototype._cmdVideoStart=function(a){this._logger.debug(this._logTag,"#_cmdVideoStart()"),this._canProcess()&&this._workQueue.addCommand(new j(this._executeOpen,this,[a]))},e.prototype._cmdAdStart=function(a){this._logger.debug(this._logTag,"#_cmdAdStart()"),this._canProcess()&&this._workQueue.addCommand(new j(this._executeOpenAd,this,[a]))},e.prototype._cmdHeartbeatPluginError=function(a){this._errorInfo||(this._errorInfo=new l("Internal error","HeartbeatPlugin is in ERROR state."),this._trigger(x,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},e.prototype._track=function(a){try{if(!this._appMeasurement.visitorOptedOut){var b=this._appMeasurement.linkTrackVars;this._appMeasurement.linkTrackVars="",this._appMeasurement.track(a),this._appMeasurement.linkTrackVars=b}}catch(a){this._logger.warn(this._logTag,"appMeasurement.track() call threw an exception.")}},e.prototype._executeOpen=function(a){if(this._logger.debug(this._logTag,"#_executeOpen(id="+a.videoId+", videoName="+a.videoName+", mediaType="+a.mediaType+", streamType="+a.streamType+", length="+a.videoLength+", playerName="+a.playerName+", channel="+a.channel+", isPrimetime="+a.isPrimetime+", sessionId="+a.sessionId+")"),this._canProcess()&&this._inputDataValidator.validateFields(a,["videoId","mediaType","streamType","videoLength","playerName"])){var b={};for(var c in a.metaVideo)a.metaVideo.hasOwnProperty(c)&&(b[c]=a.metaVideo[c]);if(a.metaNielsen)for(var c in a.metaNielsen)a.metaNielsen.hasOwnProperty(c)&&(b[c]=a.metaNielsen[c]);b["a.contentType"]=a.streamType,b["a.media.name"]=a.videoId,b["a.media.friendlyName"]=a.videoName||"",b["a.media.length"]=Math.floor(a.videoLength)||"0",b["a.media.playerName"]=a.playerName,b["a.media.channel"]=a.channel||"",b["a.media.view"]=!0,b["a.media.vsid"]=a.sessionId;var d={};d.contextData=b,"audio"===a.mediaType?(d.pev3=A,d.ms_a="1"):d.pev3=y,d.pe=a.isPrimetime?D:C,this._track(d);var e=this;setTimeout(function(){e._trigger(G,a)},0)}},e.prototype._executeOpenAd=function(a){var b=m(a.videoId)+"_"+a.podPosition;if(this._logger.debug(this._logTag,"#_executeOpenAd(id="+a.adId+", mediaType="+a.mediaType+", streamType="+a.streamType+", length="+a.adLength+", podPlayerName="+a.podPlayerName+", parentId="+a.videoId+", podId="+b+", parentPodPosition="+a.adPosition+", podSecond="+a.podSecond+")"),this._canProcess()&&this._inputDataValidator.validateFields(a,["videoId","mediaType","streamType","playerName","adId","adLength","podPlayerName","adPosition"])){a.podSecond=null==a.podSecond||isNaN(a.podSecond)?a.playhead:a.podSecond;var c,d={};for(c in a.metaVideo)a.metaVideo.hasOwnProperty(c)&&(d[c]=a.metaVideo[c]);for(c in a.metaAd)a.metaAd.hasOwnProperty(c)&&(d[c]=a.metaAd[c]);if(a.metaNielsen)for(var c in a.metaNielsen)a.metaNielsen.hasOwnProperty(c)&&(d[c]=a.metaNielsen[c]);d["a.contentType"]=a.streamType,d["a.media.name"]=a.videoId,d["a.media.playerName"]=a.playerName,d["a.media.channel"]=a.channel||"",d["a.media.vsid"]=a.sessionId,d["a.media.friendlyName"]=a.videoName||"",d["a.media.length"]=Math.floor(a.videoLength)||"0",d["a.media.ad.name"]=a.adId,d["a.media.ad.friendlyName"]=a.adName||"",d["a.media.ad.podFriendlyName"]=a.podName||"",d["a.media.ad.length"]=Math.floor(a.adLength)||"0",d["a.media.ad.playerName"]=a.podPlayerName,d["a.media.ad.pod"]=b,d["a.media.ad.podPosition"]=Math.floor(a.adPosition)||"0",d["a.media.ad.podSecond"]=Math.floor(a.podSecond)||"0",d["a.media.ad.view"]=!0;var e={};e.contextData=d,"audio"===a.mediaType?(e.pev3=B,e.ms_a="1"):e.pev3=z,e.pe=a.isPrimetime?F:E,this._track(e);var f=this;setTimeout(function(){f._trigger(H,a)},0)}},e.prototype._setupDataResolver=function(){var a={},b=this;a.rsid=function(){return b._appMeasurement.account},a.tracking_server=function(){return b._appMeasurement.ssl&&b._appMeasurement.trackingServerSecure?b._appMeasurement.trackingServerSecure:b._appMeasurement.trackingServer},a.ssl=function(){return b._appMeasurement.ssl},a.vid=function(){return b._appMeasurement.visitorID},a.aid=function(){return b._appMeasurement.analyticsVisitorID},a.mid=function(){return b._appMeasurement.marketingCloudVisitorID},a.blob=function(){return b._appMeasurement.audienceManagerBlob},a.loc_hint=function(){return b._appMeasurement.audienceManagerLocationHint?parseInt(b._appMeasurement.audienceManagerLocationHint):""},a.customerIDs=function(){var a={},c=b._appMeasurement.visitor.getCustomerIDs();for(var d in c)if(c.hasOwnProperty(d)){var e=c[d];if("object"==typeof e){for(var f in e)e.hasOwnProperty(f)&&("authState"==f?a[d+".as"]=e[f]:a[d+"."+f]=e[f]);a[d+".as"]||(a[d+".as"]="0")}}return a},a.visitorOptedOut=function(){return!!b._appMeasurement.visitorOptedOut},a.channel=function(){return b._config?b._config.channel:null},a.meta=function(a){var c=a.split(".");if(c.length<2)return null;var d=c.shift();switch(a=c.join("."),d){case"video":return a==i.WILDCARD?b._videoMetadata:b._videoMetadata[a];case"ad":return a==i.WILDCARD?b._adMetadata:b._adMetadata[a];case"chapter":return a==i.WILDCARD?b._chapterMetadata:b._chapterMetadata[a];default:return null}},this._dataResolver=function(b){if(!b||0==b.length)return null;for(var c=null,d=0;d<b.length;d++){var e=b[d];c=c||{},n.startsWith(e,"meta.")?c[e]=a.meta(e.split("meta.")[1]):c[e]=a.hasOwnProperty(e)?a[e].call(this):null}return c}},e.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleHeartbeatPluginError",this._cmdHeartbeatPluginError)},e.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new f(u,I),this,"handleVideoLoad"),this._pluginManager.registerBehaviour(new f(u,J),this,"handleVideoStart",[new h(u,"video.id","videoId"),new h(u,"video.mediaType","mediaType"),new h(u,"video.streamType","streamType"),new h(u,"video.name","videoName"),new h(u,"video.length","videoLength"),new h(u,"video.playerName","playerName"),new h(u,"video.streamType","streamType"),new h(v,"is_primetime","isPrimetime"),new h(v,"session_id","sessionId"),new h(s,"channel","channel"),new h(s,"meta.video.*","metaVideo"),new h(t,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new f(u,K),this,"handleAdStart",[new h(u,"video.id","videoId"),new h(u,"video.mediaType","mediaType"),new h(u,"video.streamType","streamType"),new h(u,"video.playhead","playhead"),new h(u,"video.playerName","playerName"),new h(u,"video.name","videoName"),new h(u,"video.length","videoLength"),new h(u,"ad.id","adId"),new h(u,"ad.length","adLength"),new h(u,"ad.position","adPosition"),new h(u,"ad.name","adName"),new h(u,"pod.name","podName"),new h(u,"pod.position","podPosition"),new h(u,"pod.playerName","podPlayerName"),new h(u,"pod.startTime","podSecond"),new h(v,"is_primetime","isPrimetime"),new h(v,"session_id","sessionId"),new h(s,"channel","channel"),new h(s,"meta.video.*","metaVideo"),new h(s,"meta.ad.*","metaAd"),new h(t,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new f(v,x),this,"handleHeartbeatPluginError")},e.prototype._onAppMeasurementReady=function(){this._logger.debug(this._logTag,"[Init] #_onAppMeasurementReady"),this._workQueue.resume()};var r="adobe-analytics",s=r,t="nielsen",u="player",v="adobe-heartbeat",w=2e3,x="error",y="video",z="videoAd",A="audio",B="audioAd",C="ms_s",D="msp_s",E="msa_s",F="mspa_s",G="aa_start",H="sc_ad_start",I="video_load",J="video_start",K="ad_start";d.AdobeAnalyticsPlugin=e}(a.ADB.core,a.ADB.va,a.ADB.va.utils,b),function(a){"use strict";var b={SHOW:"a.media.show",SEASON:"a.media.season",EPISODE:"a.media.episode",ASSET_ID:"a.media.asset",GENRE:"a.media.genre",FIRST_AIR_DATE:"a.media.airDate",FIRST_DIGITAL_DATE:"a.media.digitalDate",RATING:"a.media.rating",ORIGINATOR:"a.media.originator",NETWORK:"a.media.network",SHOW_TYPE:"a.media.type",AD_LOAD:"a.media.adLoad",MVPD:"a.media.pass.mvpd",AUTHORIZED:"a.media.pass.auth",DAY_PART:"a.media.dayPart",FEED:"a.media.feed",STREAM_FORMAT:"a.media.format"},c={ARTIST:"a.media.artist",ALBUM:"a.media.album",LABEL:"a.media.label",AUTHOR:"a.media.author",STATION:"a.media.station",PUBLISHER:"a.media.publisher"},d={ADVERTISER:"a.media.ad.advertiser",CAMPAIGN_ID:"a.media.ad.campaign",CREATIVE_ID:"a.media.ad.creative",PLACEMENT_ID:"a.media.ad.placement",SITE_ID:"a.media.ad.site",CREATIVE_URL:"a.media.ad.creativeURL"};a.VideoMetadataKeys=b,a.AudioMetadataKeys=c,a.AdMetadataKeys=d}(b),a.ADB.va.plugins.aa||(a.ADB.va.plugins.aa=b)}(this);\n\n// MediaHeartbeat\n!function(a){!function(a,b){"use strict";function c(){this._processAction=!0,this._store={}}function d(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._rules=[]}c.prototype.setRuleName=function(a){this._ruleName=a},c.prototype.getRuleName=function(a,b){return this._ruleName},c.prototype.setData=function(a,b){this._store[a]=b},c.prototype.getData=function(a){return this._store[a]},c.prototype.shouldProcessAction=function(){return this._processAction},c.prototype.stopProcessingAction=function(){this._processAction=!1},c.prototype.startProcessingAction=function(){this._processAction=!0},d.createContext=function(){return new c},d.createPredicate=function(a,b,c){return{fn:a,expectedValue:b,msg:c}},d.prototype.registerRule=function(a,b,c,d,e){this._rules.push({name:a,desc:b,preconditions:c,actions:d,scope:e})},d.prototype.registerEnterExitAction=function(a,b){this._enterAction=a,this._exitAction=b},d.prototype._handleFailure=function(a,b){this._logger.error(e,a.desc+" -  "+b.msg)},d.prototype._getRule=function(a){for(var b=0;b<this._rules.length;++b)if(this._rules[b].name===a)return this._rules[b];return null},d.prototype.processRule=function(a,b){var c=!0,f=this._getRule(a);if(f){var g=f.scope;b||(b=d.createContext()),b.setRuleName(a);for(var h=!1,i=0;i<f.preconditions.length;++i){var j=f.preconditions[i];if(h=!!j.fn.call(g,b)!==j.expectedValue){this._handleFailure(f,j);break}}if(h)c=!1;else{b.startProcessingAction(),this._enterAction&&this._enterAction.call(g,b);for(var i=0;i<f.actions.length;++i){var k=f.actions[i];if(!b.shouldProcessAction()){this._logger.info(e,"Stopping actions for "+f.desc);break}k.call(g,b)}this._exitAction&&b.shouldProcessAction()&&this._exitAction.call(g,b)}}else this._logger.warn(e,"No registered event found for ruleName "+a),c=!1;return c};var e="RuleEngine";b._RuleEngine=d}(a.ADB.core,a.ADB.va),function(a,b){"use strict";function c(a,b,c){this.taskFn=a,this.scope=b,this.interval=c,this.remainingInterval=c}function d(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._tasks=[],this._pausedTasks=[]}c.prototype.elapsedTime=function(a){this.remainingInterval-=a},c.prototype.shouldExecute=function(){return this.remainingInterval<=0},c.prototype.execute=function(){this.taskFn.call(this.scope)},d.prototype._getCurrentTimeInMS=function(){return(new Date).getTime()},d.prototype._runTasksForTime=function(a){var b=[],c=a-this._lastTickTime;this._lastTickTime=a;for(var d=0;d<this._tasks.length;){var e=this._tasks[d];e.elapsedTime(c),e.shouldExecute()?(b.push(e),this._tasks.splice(d,1)):++d}this._checkStopTimer();for(var d=0;d<b.length;++d)b[d].execute()},d.prototype._onTick=function(){var a=this._getCurrentTimeInMS();this._runTasksForTime(a)},d.prototype._startTimer=function(){var a=this;this._timer||(this._logger.info(e,"#startTimer()"),a._lastTickTime=this._getCurrentTimeInMS(),this._timer=window.setInterval(function(){a._onTick()},f))},d.prototype._stopTimer=function(){this._timer&&(this._logger.info(e,"#stopTimer()"),window.clearInterval(this._timer),this._timer=null)},d.prototype._checkStartTimer=function(){this._tasks.length>0&&this._startTimer()},d.prototype._checkStopTimer=function(){0===this._tasks.length&&this._stopTimer()},d.prototype._removeTask=function(a,b){for(var c=0;c<a.length;++c)if(a[c]===b)return a.splice(c,1),!0;return!1},d.prototype.scheduleTask=function(a,b,d){if(this._logger.info(e,"#scheduleTask()"),!a)throw new Error("Reference to the taskFn cannot be NULL");var f=new c(a,b,d);return this._tasks.push(f),this._checkStartTimer(),f},d.prototype.cancelTask=function(a){this._logger.info(e,"#cancelTask()"),this._removeTask(this._tasks,a),this._checkStopTimer()},d.prototype.pauseTask=function(a){this._logger.info(e,"#pauseTask()"),this._removeTask(this._tasks,a)&&this._pausedTasks.push(a),this._checkStopTimer()},d.prototype.resumeTask=function(a){this._logger.info(e,"#resumeTask()"),this._removeTask(this._pausedTasks,a)&&this._tasks.push(a),this._checkStartTimer()},d.prototype.clearTasks=function(){this._stopTimer(),this._tasks=[],this._pausedTasks=[]};var e="TaskScheduler",f=250;b._TaskScheduler=d}(a.ADB.core,a.ADB.va),function(a){"use strict";function b(){this.trackingServer=void 0,this.channel=void 0,this.ovp=void 0,this.appVersion=void 0,this.playerName=void 0,this.ssl=!1,this.debugLogging=!1}a.MediaHeartbeatConfig=b,a.MediaHeartbeatConfig.sharedInstance=new b}(a.ADB.va),function(a){"use strict";function b(){this.data={}}var c=a.plugins.videoplayer.VideoInfo,d=a.plugins.videoplayer.AdBreakInfo,e=a.plugins.videoplayer.AdInfo,f=a.plugins.videoplayer.ChapterInfo,g=a.plugins.videoplayer.QoSInfo;b.MEDIAINFO_KEY_NAME="a.name",b.MEDIAINFO_KEY_VIDEOID="a.videoId",b.MEDIAINFO_KEY_ADID="a.adId",b.MEDIAINFO_KEY_LENGTH="a.length",b.MEDIAINFO_KEY_PLAYHEAD="a.playhead",b.MEDIAINFO_KEY_MEDIATYPE="a.mediaType",b.MEDIAINFO_KEY_STREAMTYPE="a.streamType",b.MEDIAINFO_KEY_POSITION="a.position",b.MEDIAINFO_KEY_STARTTIME="a.startTime",b.MEDIAINFO_KEY_BITRATE="a.bitrate",b.MEDIAINFO_KEY_FPS="a.fps",b.MEDIAINFO_KEY_DROPPEDFRAMES="a.droppedFrames",b.MEDIAINFO_KEY_STARTUPTIME="a.startupTime",b.MEDIAINFO_KEY_TIMEDMETADATA="a.timedMetadata",b.prototype.setValue=function(a,b){this.data[a]=b},b.prototype.getValue=function(a){return this.data.hasOwnProperty(a)?this.data[a]:null},b.prototype.createVideoInfo=function(){var a=new c;return a.id=null!=this.getValue(b.MEDIAINFO_KEY_VIDEOID)?this.getValue(b.MEDIAINFO_KEY_VIDEOID):"",a.name=null!=this.getValue(b.MEDIAINFO_KEY_NAME)?this.getValue(b.MEDIAINFO_KEY_NAME):"",a.length=null!=this.getValue(b.MEDIAINFO_KEY_LENGTH)?this.getValue(b.MEDIAINFO_KEY_LENGTH):0,a.playhead=null!=this.getValue(b.MEDIAINFO_KEY_PLAYHEAD)?this.getValue(b.MEDIAINFO_KEY_PLAYHEAD):0,a.mediaType=null!=this.getValue(b.MEDIAINFO_KEY_MEDIATYPE)?this.getValue(b.MEDIAINFO_KEY_MEDIATYPE):"",a.streamType=null!=this.getValue(b.MEDIAINFO_KEY_STREAMTYPE)?this.getValue(b.MEDIAINFO_KEY_STREAMTYPE):"",a},b.prototype.createAdBreakInfo=function(){var a=new d;return a.name=null!=this.getValue(b.MEDIAINFO_KEY_NAME)?this.getValue(b.MEDIAINFO_KEY_NAME):"",a.position=null!=this.getValue(b.MEDIAINFO_KEY_POSITION)?this.getValue(b.MEDIAINFO_KEY_POSITION):0,a.startTime=null!=this.getValue(b.MEDIAINFO_KEY_STARTTIME)?this.getValue(b.MEDIAINFO_KEY_STARTTIME):0,a},b.prototype.createAdInfo=function(){var a=new e;return a.id=null!=this.getValue(b.MEDIAINFO_KEY_ADID)?this.getValue(b.MEDIAINFO_KEY_ADID):"",a.name=null!=this.getValue(b.MEDIAINFO_KEY_NAME)?this.getValue(b.MEDIAINFO_KEY_NAME):"",a.length=null!=this.getValue(b.MEDIAINFO_KEY_LENGTH)?this.getValue(b.MEDIAINFO_KEY_LENGTH):0,a.position=null!=this.getValue(b.MEDIAINFO_KEY_POSITION)?this.getValue(b.MEDIAINFO_KEY_POSITION):0,a},b.prototype.createChapterInfo=function(){var a=new f;return a.name=null!=this.getValue(b.MEDIAINFO_KEY_NAME)?this.getValue(b.MEDIAINFO_KEY_NAME):"",a.length=null!=this.getValue(b.MEDIAINFO_KEY_LENGTH)?this.getValue(b.MEDIAINFO_KEY_LENGTH):0,a.startTime=null!=this.getValue(b.MEDIAINFO_KEY_STARTTIME)?this.getValue(b.MEDIAINFO_KEY_STARTTIME):0,a.position=null!=this.getValue(b.MEDIAINFO_KEY_POSITION)?this.getValue(b.MEDIAINFO_KEY_POSITION):0,a},b.prototype.createQoSInfo=function(){var a=new g;return a.bitrate=null!=this.getValue(b.MEDIAINFO_KEY_BITRATE)?this.getValue(b.MEDIAINFO_KEY_BITRATE):0,a.fps=null!=this.getValue(b.MEDIAINFO_KEY_FPS)?this.getValue(b.MEDIAINFO_KEY_FPS):0,a.droppedFrames=null!=this.getValue(b.MEDIAINFO_KEY_DROPPEDFRAMES)?this.getValue(b.MEDIAINFO_KEY_DROPPEDFRAMES):0,a.startupTime=null!=this.getValue(b.MEDIAINFO_KEY_STARTUPTIME)?this.getValue(b.MEDIAINFO_KEY_STARTUPTIME):0,a},b.prototype.isEqual=function(a){if(this===a)return!0;if(!a||"object"!=typeof a||"function"!=typeof a.getValue)return!1;for(var c=[b.MEDIAINFO_KEY_NAME,b.MEDIAINFO_KEY_VIDEOID,b.MEDIAINFO_KEY_ADID,b.MEDIAINFO_KEY_LENGTH,b.MEDIAINFO_KEY_PLAYHEAD,b.MEDIAINFO_KEY_STREAMTYPE,b.MEDIAINFO_KEY_MEDIATYPE,b.MEDIAINFO_KEY_POSITION,b.MEDIAINFO_KEY_STARTTIME,b.MEDIAINFO_KEY_BITRATE,b.MEDIAINFO_KEY_FPS,b.MEDIAINFO_KEY_DROPPEDFRAMES,b.MEDIAINFO_KEY_STARTUPTIME,b.MEDIAINFO_KEY_TIMEDMETADATA],d=0;d<c.length;++d){var e=c[d];if(this.getValue(e)!==a.getValue(e))return!1}return!0},a.MediaObject=b}(a.ADB.va),function(a,b){"use strict";function c(a){c.__super__.constructor.call(this),this._heartbeat=a}function d(a){d.__super__.constructor.call(this),this._heartbeat=a}function e(a){e.__super__.constructor.call(this),this._heartbeat=a}function f(a){f.__super__.constructor.call(this),this._heartbeat=a}a.extend(c,b.plugins.aa.AdobeAnalyticsPluginDelegate),c.prototype.onError=function(a){this._heartbeat&&this._heartbeat._onDelegateError(a)},a.extend(d,b.plugins.ah.AdobeHeartbeatPluginDelegate),d.prototype.onError=function(a){this._heartbeat&&this._heartbeat._onDelegateError(a)},d.prototype.onTrackingDisabled=function(){this._heartbeat&&this._heartbeat._disableHBTracking()},a.extend(e,b.HeartbeatDelegate),e.prototype.onError=function(a){this._heartbeat&&this._heartbeat._onDelegateError(a)},a.extend(f,b.plugins.videoplayer.VideoPlayerPluginDelegate),f.prototype.getVideoInfo=function(){return this._heartbeat&&this._heartbeat._videoInfo?(this._heartbeat._delegate&&(this._heartbeat._videoInfo.playhead=this._heartbeat._delegate.getCurrentPlaybackTime()),this._heartbeat._videoInfo):null},f.prototype.getAdBreakInfo=function(){return this._heartbeat&&this._heartbeat._adBreakInfo?this._heartbeat._adBreakInfo:null},f.prototype.getAdInfo=function(){return this._heartbeat&&this._heartbeat._adInfo?this._heartbeat._adInfo:null},f.prototype.getChapterInfo=function(){return this._heartbeat&&this._heartbeat._chapterInfo?this._heartbeat._chapterInfo:null},f.prototype.getQoSInfo=function(){if(this._heartbeat&&this._heartbeat._delegate&&this._heartbeat._delegate.getQoSObject()){var a=this._heartbeat._delegate.getQoSObject();if(a&&"object"==typeof a&&a.setValue)return a.createQoSInfo()}return null},b._MediaAnalyticsPluginDelegate=c,b._MediaHeartbeatPluginDelegate=d,b._ADBMediaHeartbeatDelegate=e,b._MediaHeartbeatVideoPlayerPluginDelegate=f}(a.ADB.core,a.ADB.va),function(a,b){"use strict";function c(a,d){c.__super__.constructor.call(this),this._heartbeat=a,this._logger=d,this._validator=new b.plugins.nielsen.MetadataValidator(d)}var d="MediaHeartbeatNielsenPluginDelegate",e={NielsenContentMetadata:"media_nielsen_content_metadata",NielsenChannelMetadata:"media_nielsen_channel_metadata",NielsenAdMetadata:"media_nielsen_ad_metadata"};b.plugins.nielsen&&a.extend(c,b.plugins.nielsen.NielsenPluginDelegate),c.prototype.getMetadataInfo=function(){if(this._heartbeat&&this._heartbeat._currentMediaObject){var a=this._heartbeat._currentMediaObject.getValue(e.NielsenContentMetadata);if(a&&"object"==typeof a)return this._validator.validateContentMetadata(a,"MediaHeartbeat.NielsenContentMetadataKeys"),a;this._logger.warn(d,"We expect a valid object for MediaHeartbeat.MediaObjectKey.NielsenContentMetadata in MediaObject")}return null},c.prototype.getAdMetadataInfo=function(){if(this._heartbeat&&this._heartbeat._currentAdObject){var a=this._heartbeat._currentAdObject.getValue(e.NielsenAdMetadata);if(a&&"object"==typeof a)return this._validator.validateAdMetadata(a,"MediaHeartbeat.NielsenAdMetadataKeys"),a;this._logger.warn(d,"We expect a valid object for MediaHeartbeat.MediaObjectKey.NielsenAdMetadata in MediaObject")}return null},c.prototype.getChannelInfo=function(){if(this._heartbeat&&this._heartbeat._currentMediaObject){var a=this._heartbeat._currentMediaObject.getValue(e.NielsenChannelMetadata);if(a&&"object"==typeof a)return this._validator.validateChannelMetadata(a,"MediaHeartbeat.NielsenChannelMetadataKeys"),a;this._logger.warn(d,"We expect a valid object for MediaHeartbeat.MediaObjectKey.NielsenChannelMetadata in MediaObject")}return null},c.prototype.onError=function(a){this._heartbeat&&this._heartbeat._onDelegateError(a)},b.plugins.nielsen&&(b._NielsenObjectKey=e,b._NielsenPluginDelegate=c)}(a.ADB.core,a.ADB.va),function(b,c){"use strict";function d(){}function e(b,d,e){if(this._appMeasurement=e||a.s,!this._appMeasurement)throw new Error("MediaHeartbeat needs a valid AppMeasurement instance.");if(!this._appMeasurement.visitor||!this._appMeasurement.visitor.marketingCloudOrgID)throw new Error("MediaHeartbeat needs a valid visitor instance with marketingCloudOrgId set.");if(!b)throw new Error("MediaHeartbeat needs a valid delegate object.");if(!d||"object"!=typeof d||!d.trackingServer)throw new Error("MediaHeartbeat needs a valid config object with trackingServer set.");this._config=d,this._delegate=b,this._debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,this._logger=new f,this._debugLogging?this._logger.enable():this._logger.disable(),this._ruleEngine=new t(this._logger),this._taskScheduler=new u(this._logger),this._resetState(),this._setupRules()}var f=b.Logger,g=c.MediaObject,h=c.Heartbeat,i=c.HeartbeatConfig,j=c._ADBMediaHeartbeatDelegate,k=c.plugins.videoplayer.VideoPlayerPlugin,l=c.plugins.videoplayer.VideoPlayerPluginConfig,m=c._MediaHeartbeatVideoPlayerPluginDelegate,n=c.plugins.aa.AdobeAnalyticsPlugin,o=c.plugins.aa.AdobeAnalyticsPluginConfig,p=c._MediaAnalyticsPluginDelegate,q=c.plugins.ah.AdobeHeartbeatPlugin,r=c.plugins.ah.AdobeHeartbeatPluginConfig,s=c._MediaHeartbeatPluginDelegate,t=c._RuleEngine,u=c._TaskScheduler,v=c.utils.ObjectUtils,w=c.utils.VersionUtils;if(d.prototype.getCurrentPlaybackTime=function(){return null},d.prototype.getQoSObject=function(){return null},e.MediaType={Video:"video",Audio:"audio"},e.Event={AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",TimedMetadataUpdate:"timedMetadataUpdate"},e.StreamType={VOD:"vod",LIVE:"live",LINEAR:"linear",PODCAST:"podcast",AUDIOBOOK:"audiobook",AOD:"aod"},e.MediaObjectKey={StandardVideoMetadata:"media_standard_content_metadata",StandardMediaMetadata:"media_standard_content_metadata",StandardAdMetadata:"media_standard_ad_metadata",VideoResumed:"resumed",MediaResumed:"resumed",PrerollTrackingWaitingTime:"preroll_tracking_waiting_time"},e.VideoMetadataKeys=c.plugins.aa.VideoMetadataKeys,e.AudioMetadataKeys=c.plugins.aa.AudioMetadataKeys,e.AdMetadataKeys=c.plugins.aa.AdMetadataKeys,e.createMediaObject=function(a,b,c,d,f){var h=new g;h.setValue(g.MEDIAINFO_KEY_VIDEOID,b),h.setValue(g.MEDIAINFO_KEY_NAME,a),h.setValue(g.MEDIAINFO_KEY_LENGTH,c),h.setValue(g.MEDIAINFO_KEY_PLAYHEAD,0);var i=d||e.StreamType.VOD;return h.setValue(g.MEDIAINFO_KEY_STREAMTYPE,i),("string"!=typeof f||f!=e.MediaType.Video&&f!=e.MediaType.Audio)&&(f=e.MediaType.Video),h.setValue(g.MEDIAINFO_KEY_MEDIATYPE,f),h},e.createAdBreakObject=function(a,b,c){var d=new g;return d.setValue(g.MEDIAINFO_KEY_NAME,a),d.setValue(g.MEDIAINFO_KEY_POSITION,b),d.setValue(g.MEDIAINFO_KEY_STARTTIME,c),d},e.createAdObject=function(a,b,c,d){var e=new g;return e.setValue(g.MEDIAINFO_KEY_NAME,a),e.setValue(g.MEDIAINFO_KEY_ADID,b),e.setValue(g.MEDIAINFO_KEY_POSITION,c),e.setValue(g.MEDIAINFO_KEY_LENGTH,d),e},e.createChapterObject=function(a,b,c,d){var e=new g;return e.setValue(g.MEDIAINFO_KEY_NAME,a),e.setValue(g.MEDIAINFO_KEY_POSITION,b),e.setValue(g.MEDIAINFO_KEY_LENGTH,c),e.setValue(g.MEDIAINFO_KEY_STARTTIME,d),e},e.createQoSObject=function(a,b,c,d){var e=new g;return e.setValue(g.MEDIAINFO_KEY_BITRATE,a),e.setValue(g.MEDIAINFO_KEY_FPS,c),e.setValue(g.MEDIAINFO_KEY_DROPPEDFRAMES,d),e.setValue(g.MEDIAINFO_KEY_STARTUPTIME,b),e},e.createTimedMetadataObject=function(a){var b=new g;return b.setValue(g.MEDIAINFO_KEY_TIMEDMETADATA,a),b},e.version=function(){return c.Version.getVersion()},e.prototype.trackSessionStart=function(a,b){this._logger.info(C,"#::trackSessionStart()");var c=t.createContext();c.setData(D,a),c.setData(I,this._cleanContextData(b)),this._processRule(A.SessionStart,c)},e.prototype.trackPlay=function(){this._logger.info(C,"#::trackPlay()"),this._processRule(A.Play)},e.prototype.trackPause=function(){this._logger.info(C,"#::trackPause()"),this._processRule(A.Pause)},e.prototype.trackComplete=function(){this._logger.info(C,"#::trackComplete()"),this._processRule(A.VideoComplete)},e.prototype.trackSessionEnd=function(){this._logger.info(C,"#::trackSessionEnd()"),this._processRule(A.SessionEnd)},e.prototype.trackError=function(a){this._logger.info(C,"#::trackError()");var b=t.createContext();b.setData(J,a),this._processRule(A.Error,b)},e.prototype.trackEvent=function(a,b,c){this._logger.info(C,"#::trackEvent() - "+a);var d,f=t.createContext();switch(a){case e.Event.AdBreakStart:f.setData(E,b),f.setData(I,this._cleanContextData(c)),d=A.AdBreakStart;break;case e.Event.AdBreakComplete:d=A.AdBreakComplete;break;case e.Event.AdStart:f.setData(F,b),f.setData(I,this._cleanContextData(c)),d=A.AdStart;break;case e.Event.AdComplete:d=A.AdComplete;break;case e.Event.AdSkip:d=A.AdSkip;break;case e.Event.SeekStart:d=A.SeekStart;break;case e.Event.SeekComplete:d=A.SeekComplete;break;case e.Event.ChapterStart:f.setData(G,b),f.setData(I,this._cleanContextData(c)),d=A.ChapterStart;break;case e.Event.ChapterComplete:d=A.ChapterComplete;break;case e.Event.ChapterSkip:d=A.ChapterSkip;break;case e.Event.BufferStart:d=A.BufferStart;break;case e.Event.BufferComplete:d=A.BufferComplete;break;case e.Event.BitrateChange:d=A.BitrateChange;break;case e.Event.TimedMetadataUpdate:d=A.TimedMetadataUpdate,f.setData(H,b);break;default:return void this._logger.error(C,"Incorrect event name.")}this._processRule(d,f)},c.plugins.nielsen){var x=c.MediaHeartbeatConfig;x.prototype.nielsenConfigKey=void 0,x.prototype.nielsenAppInfo=void 0;var y=c._NielsenObjectKey;e.MediaObjectKey.NielsenContentMetadata=y.NielsenContentMetadata,e.MediaObjectKey.NielsenAdMetadata=y.NielsenAdMetadata,e.MediaObjectKey.NielsenChannelMetadata=y.NielsenChannelMetadata,e.NielsenContentMetadataKeys=c.plugins.nielsen.ContentMetadataKeys,e.NielsenChannelMetadataKeys=c.plugins.nielsen.ChannelMetadataKeys,e.NielsenAdMetadataKeys=c.plugins.nielsen.AdMetadataKeys,e.prototype.nielsenLoadMetadata=function(a){this._nielsenPlugin&&this._nielsenPlugin.loadMetadata(a)}}e.prototype._setState=function(a,b){this._mediaState[a]=b},e.prototype._isInState=function(a){return this._mediaState[a]},e.prototype._isTrackingDisabled=function(a){return this._mediaHeartbeatDisabled},e.prototype._isInSession=function(a){return this._isInState(z.Session)},e.prototype._isInMedia=function(a){return this._isInState(z.Media)},e.prototype._isInAd=function(a){return this._isInState(z.Ad)},e.prototype._isInAdBreak=function(a){return this._isInState(z.AdBreak)},e.prototype._isInChapter=function(a){return this._isInState(z.Chapter)},e.prototype._isInPlay=function(a){return this._isInState(z.PlayPause)},e.prototype._isInPause=function(a){return!this._isInState(z.PlayPause)},e.prototype._isInBuffer=function(a){return this._isInState(z.Buffer)},e.prototype._isInSeek=function(a){return this._isInState(z.Seek)},e.prototype._isPlatformTrackingSupported=function(a){return!this._appMeasurement.unsupportedBrowser},e.prototype._isAudioTrackingSupported=function(a){return a.getData(D).getValue(g.MEDIAINFO_KEY_MEDIATYPE)!==e.MediaType.Audio||w.isGreaterThanEqual(this._appMeasurement.version,"2.11.0")},e.prototype._isValidMediaObject=function(a){var b=a.getData(D);if(b&&b instanceof g){var c=b.getValue(e.MediaObjectKey.MediaResumed);null!=c&&"boolean"!=typeof c&&this._logger.warn(C,"Ignoring value set for MediaHeartbeat.MediaObjectKey.MediaResumed in MediaObject as we expect a boolean value");var d=b.getValue(e.MediaObjectKey.PrerollTrackingWaitingTime);if(null!=d){("string"==typeof d||"number"==typeof d)&&!isNaN(d)||this._logger.warn(C,"Ignoring value set for MediaHeartbeat.MediaObjectKey.PrerollTrackingWaitingTime in MediaObject as we expect a valid duration as number in milliseconds.")}var f=b.getValue(e.MediaObjectKey.StandardMediaMetadata);return null!=f&&"object"!=typeof f&&this._logger.warn(C,"Ignoring value set for MediaHeartbeat.MediaObjectKey.StandardMediaMetadata in MediaObject as we expect a valid object with kv pairs."),!0}return!1},e.prototype._isValidAdBreakObject=function(a){var b=a.getData(E);return b&&b instanceof g},e.prototype._isDifferentAdBreakObject=function(a){var b=a.getData(E);return!(this._currentAdBreakObject&&this._currentAdBreakObject.isEqual(b))},e.prototype._isValidAdObject=function(a){var b=a.getData(F);if(b&&b instanceof g){var c=b.getValue(M);null!=c&&"boolean"!=typeof c&&this._logger.warn(C,"Ignoring value set for MediaHeartbeat.MediaObjectKey.GranularAdTracking in AdObject as we expect a boolean value.");var d=b.getValue(e.MediaObjectKey.StandardAdMetadata);return null!=d&&"object"!=typeof d&&this._logger.warn(C,"Ignoring value set for MediaHeartbeat.MediaObjectKey.StandardAdMetadata in AdObject as we expect a valid object with kv pairs."),!0}return!1},e.prototype._isDifferentAdObject=function(a){var b=a.getData(F);return!(this._currentAdObject&&this._currentAdObject.isEqual(b))},e.prototype._isValidChapterObject=function(a){var b=a.getData(G);return b&&b instanceof g},e.prototype._isDifferentChapterObject=function(a){var b=a.getData(G);return!(this._currentChapterObject&&this._currentChapterObject.isEqual(b))},e.prototype._isValidTimedMetadataObject=function(a){var b=a.getData(H);if(b&&b instanceof g){var c=b.getValue(g.MEDIAINFO_KEY_TIMEDMETADATA);return c&&"string"==typeof c}return!1},e.prototype._shouldAllowPlayerStateChange=function(a){return!(this._isInState(z.AdBreak)&&!this._isInState(z.Ad))},e.prototype._deferredTrackPlay=function(){this._prerollWaitEnabled&&(this._logger.info(C,"Executing deferred API:trackPlay."),this._prerollWaitEnabled=!1,this._playTaskHandle=null,this._processRule(A.Play))},e.prototype._cmdEnterAction=function(a){var b=a.getRuleName();if(this._prerollWaitEnabled)if(this._playReceived)switch(b){case A.SeekStart:case A.BufferStart:this._logger.info(C,"Cancelling scheduled API:trackPlay because of SeekStart/BufferStart event"),this._taskScheduler.cancelTask(this._playTaskHandle),this._playTaskHandle=null;break;case A.SeekComplete:case A.BufferComplete:this._logger.info(C,"Rescheduled API:trackPlay after SeekComplete/BufferComplete event"),this._playTaskHandle=this._taskScheduler.scheduleTask(this._deferredTrackPlay,this,this._prerollWaitTime);break;case A.Play:this._logger.info(C,"Dropping API:trackPlay as we already have a API:trackPlay scheduled."),a.stopProcessingAction();break;case A.Pause:this._logger.info(C,"Cancelling scheduled API:trackPlay because of API:trackPause call."),this._taskScheduler.cancelTask(this._playTaskHandle),this._playTaskHandle=null,this._prerollWaitEnabled=!1;break;case A.AdBreakStart:this._logger.info(C,"Received API:trackEvent(AdBreakStart) within "+this._prerollWaitTime+" ms after API:trackPlay. We will track this as preroll AdBreak."),this._taskScheduler.cancelTask(this._playTaskHandle),this._playTaskHandle=null,this._prerollWaitEnabled=!1,this._playAfterAdStart=!0}else switch(b){case A.Play:this._logger.info(C,"Deferring API:trackPlay for "+this._prerollWaitTime+" ms."),this._playReceived=!0,this._playTaskHandle=this._taskScheduler.scheduleTask(this._deferredTrackPlay,this,this._prerollWaitTime),a.stopProcessingAction();break;case A.AdBreakStart:this._logger.info(C,"Received trackEvent(AdBreakStart) before first trackPlay."),this._prerollWaitEnabled=!1}},e.prototype._cmdExitAction=function(a){var b=a.getRuleName();this._playAfterAdStart&&(b===A.AdStart?(this._cmdPlay(a),this._playAfterAdStart=!1):b===A.AdBreakComplete&&(this._playAfterAdStart=!1)),b!==A.AdStart||this._isInState(z.FPlayPause)||this._cmdPlay(a)},e.prototype._cmdConfigure=function(a){this._resetState(),this._configureAdobeAnalyticsPlugin(),this._configureAdobeHearbeatPlugin(),this._configureVideoPlayerPlugin(),this._configureOtherPlugins(),this._configureHeartbeat()},e.prototype._cmdSessionStart=function(a){var b=a.getData(D),c=a.getData(I);this._currentMediaObject=b,this._videoInfo=b.createVideoInfo(),this._videoInfo.playerName=this._config.playerName?this._config.playerName:"";var d=b.getValue(e.MediaObjectKey.StandardMediaMetadata);d&&"object"==typeof d||(d=null);var f=b.getValue(e.MediaObjectKey.MediaResumed);"boolean"==typeof f&&(this._videoInfo.resumed=f);var g=b.getValue(e.MediaObjectKey.PrerollTrackingWaitingTime);"string"!=typeof g&&"number"!=typeof g||isNaN(g)||(this._prerollWaitTime=Number(g),this._prerollWaitTime<=0&&(this._prerollWaitEnabled=!1));var h=this._prepareMetadata(d,c);h[K]=this._videoInfo.mediaType,this._aaPlugin.setVideoMetadata(h),this._playerPlugin.trackVideoLoad(),this._playerPlugin.trackSessionStart(),this._setState(z.Session,!0),this._setState(z.Media,!0)},e.prototype._cmdVideoEnd=function(a){var b=a.getRuleName()===A.VideoComplete;if(this._isInState(z.Media)){var c=this._heartbeat,d=this._playerPlugin;this._playerPlugin.trackComplete(function(){d&&d.trackVideoUnload(),c&&c.destroy()},b)}this._setState(z.Media,!1)},e.prototype._cmdHandleMediaComplete=function(a){this._isInMedia(a)||(this._logger.info(C,"API:trackComplete has already cleaned up Heartbeat instance."),this._cmdSessionEnd(a),a.stopProcessingAction())},e.prototype._cmdSessionEnd=function(a){this._setState(z.Session,!1),this._resetState()},e.prototype._cmdDisableTracking=function(a){this._logger.info(C,"#_cmdDisableTracking: ADBMediaHeartbeat Tracking Disabled Remotely."),this._mediaHeartbeatDisabled=!0},e.prototype._cmdBufferStart=function(a){this._playerPlugin.trackBufferStart(),this._setState(z.Buffer,!0)},e.prototype._cmdBufferComplete=function(a){this._isInState(z.Buffer)&&this._playerPlugin.trackBufferComplete(),this._setState(z.Buffer,!1)},e.prototype._cmdSeekStart=function(a){this._playerPlugin.trackSeekStart(),this._setState(z.Seek,!0)},e.prototype._cmdSeekComplete=function(a){this._isInState(z.Seek)&&this._playerPlugin.trackSeekComplete(),this._setState(z.Seek,!1)},e.prototype._cmdPlay=function(a){this._playerPlugin.trackPlay(),this._setState(z.PlayPause,!0),this._setState(z.FPlayPause,!0)},e.prototype._cmdPause=function(a){this._playerPlugin.trackPause(),this._setState(z.PlayPause,!1),this._setState(z.FPlayPause,!0)},e.prototype._cmdAdBreakStart=function(a){var b=a.getData(E);this._currentAdBreakObject=b,this._adBreakInfo=b.createAdBreakInfo(),this._adBreakInfo.playerName=this._config.playerName?this._config.playerName:"",this._playerPlugin.trackAdBreakStart(),this._setState(z.AdBreak,!0)},e.prototype._cmdAdBreakComplete=function(a){this._currentAdBreakObject=null,this._adBreakInfo=null,this._isInState(z.AdBreak)&&this._playerPlugin.trackAdBreakComplete(),this._setState(z.AdBreak,!1)},e.prototype._cmdAdStart=function(a){var b=a.getData(F),c=a.getData(I);this._currentAdObject=b,this._adInfo=b.createAdInfo();var d=b.getValue(M);"boolean"==typeof d&&(this._adInfo.granularTracking=d);var f=b.getValue(e.MediaObjectKey.StandardAdMetadata);f&&"object"==typeof f||(f=null);var g=this._prepareMetadata(f,c);this._aaPlugin.setAdMetadata(g),this._playerPlugin.trackAdStart(),this._setState(z.Ad,!0)},e.prototype._cmdAdComplete=function(a){this._currentAdObject=null,this._adInfo=null,this._isInState(z.Ad)&&this._playerPlugin.trackAdComplete(),this._setState(z.Ad,!1)},e.prototype._cmdAdSkip=function(a){this._currentAdObject=null,this._adInfo=null,this._isInState(z.Ad)&&this._playerPlugin.trackAdSkip(),this._setState(z.Ad,!1)},e.prototype._cmdChapterStart=function(a){var b=a.getData(G),c=a.getData(I);this._currentChapterObject=b,this._chapterInfo=b.createChapterInfo();var d=this._prepareMetadata(null,c);this._aaPlugin.setChapterMetadata(d),this._playerPlugin.trackChapterStart(),this._setState(z.Chapter,!0)},e.prototype._cmdChapterComplete=function(a){this._currentChapterObject=null,this._chapterInfo=null,this._isInState(z.Chapter)&&this._playerPlugin.trackChapterComplete(),this._setState(z.Chapter,!1)},e.prototype._cmdChapterSkip=function(a){this._currentChapterObject=null,this._chapterInfo=null,this._isInState(z.Chapter)&&this._playerPlugin.trackChapterSkip(),this._setState(z.Chapter,!1)},e.prototype._cmdError=function(a){var b=a.getData(J);b||(b="unknown_error_id"),this._playerPlugin.trackVideoPlayerError(b)},e.prototype._cmdBitrate=function(a){this._playerPlugin.trackBitrateChange()},e.prototype._cmdTimedMetadataUpdate=function(a){var b=a.getData(H),c=b.getValue(g.MEDIAINFO_KEY_TIMEDMETADATA);this._playerPlugin.trackTimedMetadata(c)},e.prototype._processRule=function(a,b){return this._ruleEngine.processRule(a,b)},e.prototype._setupRules=function(){this._ruleEngine.registerEnterExitAction(this._cmdEnterAction,this._cmdExitAction),this._ruleEngine.registerRule(A.SessionStart,"API:trackSessionStart",[t.createPredicate(this._isPlatformTrackingSupported,!0,B.ErrUnSupportedPlatform),t.createPredicate(this._isTrackingDisabled,!1,B.ErrTrackingDisabled),t.createPredicate(this._isInSession,!1,B.ErrInSession),t.createPredicate(this._isValidMediaObject,!0,B.ErrInvalidMediaObject),t.createPredicate(this._isAudioTrackingSupported,!0,B.ErrAudioTrackingNotSupported)],[this._cmdConfigure,this._cmdSessionStart],this),this._ruleEngine.registerRule(A.SessionEnd,"API:trackSessionEnd",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession)],[this._cmdHandleMediaComplete,this._cmdAdSkip,this._cmdAdBreakComplete,this._cmdChapterSkip,this._cmdVideoEnd,this._cmdSessionEnd],this),this._ruleEngine.registerRule(A.VideoComplete,"API:trackComplete",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia)],[this._cmdAdSkip,this._cmdAdBreakComplete,this._cmdChapterSkip,this._cmdVideoEnd],this),this._ruleEngine.registerRule(A.DisableTracking,"DisableTracking",[t.createPredicate(this._isTrackingDisabled,!1,B.ErrTrackingDisabled)],[this._cmdDisableTracking],this),this._ruleEngine.registerRule(A.Error,"API:trackError",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia)],[this._cmdError],this),this._ruleEngine.registerRule(A.Play,"API:trackPlay",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._shouldAllowPlayerStateChange,!0,B.ErrInvalidPlayerState)],[this._cmdSeekComplete,this._cmdBufferComplete,this._cmdPlay],this),this._ruleEngine.registerRule(A.Pause,"API:trackPause",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._shouldAllowPlayerStateChange,!0,B.ErrInvalidPlayerState),t.createPredicate(this._isInBuffer,!1,B.ErrInBuffer),t.createPredicate(this._isInSeek,!1,B.ErrInSeek)],[this._cmdPause],this),this._ruleEngine.registerRule(A.BufferStart,"API:trackEvent(BufferStart)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._shouldAllowPlayerStateChange,!0,B.ErrInvalidPlayerState),t.createPredicate(this._isInBuffer,!1,B.ErrInBuffer),t.createPredicate(this._isInSeek,!1,B.ErrInSeek)],[this._cmdBufferStart],this),this._ruleEngine.registerRule(A.BufferComplete,"API:trackEvent(BufferComplete)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._shouldAllowPlayerStateChange,!0,B.ErrInvalidPlayerState),t.createPredicate(this._isInBuffer,!0,B.ErrNotInBuffer)],[this._cmdBufferComplete],this),this._ruleEngine.registerRule(A.SeekStart,"API:trackEvent(SeekStart)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._shouldAllowPlayerStateChange,!0,B.ErrInvalidPlayerState),t.createPredicate(this._isInSeek,!1,B.ErrInSeek),t.createPredicate(this._isInBuffer,!1,B.ErrInBuffer)],[this._cmdSeekStart],this),this._ruleEngine.registerRule(A.SeekComplete,"API:trackEvent(SeekComplete)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._shouldAllowPlayerStateChange,!0,B.ErrInvalidPlayerState),t.createPredicate(this._isInSeek,!0,B.ErrNotInSeek)],[this._cmdSeekComplete],this),this._ruleEngine.registerRule(A.AdBreakStart,"API:trackEvent(AdBreakStart)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._isValidAdBreakObject,!0,B.ErrInvalidAdBreakObject),t.createPredicate(this._isDifferentAdBreakObject,!0,B.ErrDuplicateAdBreakObject)],[this._cmdAdSkip,this._cmdAdBreakComplete,this._cmdAdBreakStart],this),this._ruleEngine.registerRule(A.AdBreakComplete,"API:trackEvent(AdBreakComplete)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._isInAdBreak,!0,B.ErrNotInAdBreak)],[this._cmdAdSkip,this._cmdAdBreakComplete],this),this._ruleEngine.registerRule(A.AdStart,"API:trackEvent(AdStart)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._isInAdBreak,!0,B.ErrNotInAdBreak),t.createPredicate(this._isValidAdObject,!0,B.ErrInvalidAdObject),t.createPredicate(this._isDifferentAdObject,!0,B.ErrDuplicateAdObject)],[this._cmdAdSkip,this._cmdAdStart],this),this._ruleEngine.registerRule(A.AdComplete,"API:trackEvent(AdComplete)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._isInAdBreak,!0,B.ErrNotInAdBreak),t.createPredicate(this._isInAd,!0,B.ErrNotInAd)],[this._cmdAdComplete],this),this._ruleEngine.registerRule(A.AdSkip,"API:trackEvent(AdSkip)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._isInAdBreak,!0,B.ErrNotInAdBreak),t.createPredicate(this._isInAd,!0,B.ErrNotInAd)],[this._cmdAdSkip],this),this._ruleEngine.registerRule(A.ChapterStart,"API:trackEvent(ChapterStart)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._isValidChapterObject,!0,B.ErrInvalidChapterObject),t.createPredicate(this._isDifferentChapterObject,!0,B.ErrDuplicateChapterObject)],[this._cmdChapterSkip,this._cmdChapterStart],this),this._ruleEngine.registerRule(A.ChapterComplete,"API:trackEvent(ChapterComplete)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._isInChapter,!0,B.ErrNotInChapter)],[this._cmdChapterComplete],this),this._ruleEngine.registerRule(A.ChapterSkip,"API:trackEvent(ChapterSkip)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._isInChapter,!0,B.ErrNotInChapter)],[this._cmdChapterSkip],this),this._ruleEngine.registerRule(A.BitrateChange,"API:trackEvent(BitrateChange)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia)],[this._cmdBitrate],this),this._ruleEngine.registerRule(A.TimedMetadataUpdate,"API:trackEvent(TimedMetadataUpdate)",[t.createPredicate(this._isInSession,!0,B.ErrNotInSession),t.createPredicate(this._isInMedia,!0,B.ErrNotInMedia),t.createPredicate(this._isValidTimedMetadataObject,!0,B.ErrInvalidTimedMetadataObject)],[this._cmdTimedMetadataUpdate],this)},e.prototype._configureAdobeAnalyticsPlugin=function(){this._aaPlugin=new n(this._appMeasurement,new p(this));var a=new o;a.channel=this._config.channel?this._config.channel:"",a.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,this._aaPlugin.configure(a),this._plugins.push(this._aaPlugin)},e.prototype._configureAdobeHearbeatPlugin=function(){var a=this._appMeasurement.visitor?this._appMeasurement.visitor.marketingCloudOrgID:"";this._ahPlugin=new q(new s(this));var b=new r(this._config.trackingServer,a);b.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,b.ovp=this._config.ovp?this._config.ovp:"",b.ssl=this._config.ssl,b.sdk=this._config.appVersion?this._config.appVersion:"";var d=this._primetimeTVSDKVersion();d&&d.length>0&&(b.__primetime=!0,b.__psdkVersion=d),this._ahPlugin.configure(b),this._plugins.push(this._ahPlugin)},e.prototype._configureVideoPlayerPlugin=function(){this._playerPlugin=new k(new m(this));var a=new l;a.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,this._playerPlugin.configure(a),this._plugins.push(this._playerPlugin)},e.prototype._configureOtherPlugins=function(){if(c.plugins.nielsen&&this._config.nielsenConfigKey&&this._config.nielsenAppInfo){this._nielsenPlugin=new c.plugins.nielsen.NielsenPlugin(new c._NielsenPluginDelegate(this,this._logger));var a=new c.plugins.nielsen.NielsenPluginConfig;a.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,a.appInfo=this._config.nielsenAppInfo,a.configKey=this._config.nielsenConfigKey,this._nielsenPlugin.configure(a),this._plugins.push(this._nielsenPlugin)}},e.prototype._configureHeartbeat=function(){var a=new i;a.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,this._heartbeat=new h(new j(this),this._plugins),this._heartbeat.configure(a)},e.prototype._resetState=function(){this._taskScheduler.clearTasks(),this._mediaState={},this._plugins=[],this._playerPlugin=null,this._aaPlugin=null,this._ahPlugin=null,this._nielsenPlugin=null,this._heartbeat=null,this._currentMediaObject=null,this._currentAdBreakObject=null,this._currentAdObject=null,this._currentChapterObject=null,this._videoInfo=null,this._adBreakInfo=null,this._adInfo=null,this._chapterInfo=null,this._prerollWaitEnabled=!0,this._prerollWaitTime=N,this._playReceived=!1,this._playTaskHandle=null,this._playAfterAdStart=!1},e.prototype._primetimeTVSDKVersion=function(){return this._currentMediaObject?this._currentMediaObject.getValue(L):null},e.prototype._cleanContextData=function(a){if(null==a||"object"!=typeof a)return null;var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];"number"!=typeof d&&"string"!=typeof d&&"boolean"!=typeof d||(b[c]=d)}return b},e.prototype._prepareMetadata=function(a,b){var c={};if(b&&v.append(c,b),a){var d=this._cleanContextData(a);v.append(c,d)}return delete c[K],c},e.prototype._onDelegateError=function(a){this._logger.error(C,a.getMessage()+" | "+a.getDetails())},e.prototype._disableHBTracking=function(){var a=t.createContext();this._processRule(A.DisableTracking,a),this._processRule(A.SessionEnd,a)};var z={Session:0,Media:1,AdBreak:2,Ad:3,Chapter:4,PlayPause:5,Buffer:6,Seek:7,FPlayPause:8},A={SessionStart:0,SessionEnd:1,VideoComplete:2,Play:3,Pause:4,Error:5,AdBreakStart:6,AdBreakComplete:7,AdStart:8,AdComplete:9,AdSkip:10,ChapterStart:11,ChapterComplete:12,ChapterSkip:13,SeekStart:14,SeekComplete:15,BufferStart:16,BufferComplete:17,BitrateChange:18,TimedMetadataUpdate:19,DisableTracking:20},B={ErrUnSupportedPlatform:"MediaHeartbeat does not support tracking due to AppMeasurement or VisitorAPI not supporting the browser.",ErrNotInSession:\'MediaHeartbeat is not in active tracking session, call "API:trackSessionStart" to begin a new tracking session.\',ErrInSession:\'MediaHeartbeat is in active tracking session, call "API:trackSessionEnd" to end current tracking session.\',ErrTrackingDisabled:"MediaHeartbeat tracking is disabled for this publisher. Please contact Adobe Representative to enable tracking.",ErrNotInMedia:\'MediaHeartbeat has completed tracking session, call "API:trackSessionEnd" first to end current session and then begin a new tracking session.\',ErrInBuffer:\'MediaHeartbeat is tracking buffer events, call "API:trackEvent(BufferComplete)" first to stop tracking buffer events.\',ErrNotInBuffer:\'MediaHeartbeat is not tracking buffer events, call "API:trackEvent(BufferStart)" before "API:trackEvent(BufferComplete)".\',ErrInSeek:\'MediaHeartbeat is tracking seek events, call "API:trackEvent(SeekComplete)" first to stop tracking seek events.\',ErrNotInSeek:\'MediaHeartbeat is not tracking seek events, call "API:trackEvent(SeekStart)" before "API:trackEvent(SeekComplete)".\',ErrNotInAdBreak:\'MediaHeartbeat is not tracking any AdBreak, call "API:trackEvent(AdBreakStart)" to begin tracking AdBreak\',ErrNotInAd:\'MediaHeartbeat is not tracking any Ad, call "API:trackEvent(AdStart)" to begin tracking Ad\',ErrNotInChapter:\'MediaHeartbeat is not tracking any Chapter, call "API:trackEvent(ChapterStart)" to begin tracking Chapter\',ErrInvalidMediaObject:\'MediaInfo passed into "API:trackSessionStart" is invalid.\',ErrInvalidAdBreakObject:\'AdBreakInfo passed into "API:trackEvent(AdBreakStart)" is invalid.\',ErrDuplicateAdBreakObject:\'MediaHeartbeat is currently tracking the AdBreak passed into "API:trackEvent(AdBreakStart)".\',ErrInvalidAdObject:\'AdInfo passed into "API:trackEvent(AdStart)" is invalid.\',ErrDuplicateAdObject:\'MediaHeartbeat is currently tracking the Ad passed into "API:trackEvent(AdStart)".\',ErrInvalidChapterObject:\'ChapterInfo passed into "API:trackEvent(ChapterStart)" is invalid.\',ErrDuplicateChapterObject:\'MediaHeartbeat is currently tracking the Chapter passed into "API:trackEvent(ChapterStart)".\',ErrInvalidTimedMetadataObject:\'TimedMetadata passed into "API:trackEvent(TimedMetadataUpdate)" is invalid.\',ErrInvalidPlayerState:"MediaHeartbeat is tracking an AdBreak but not tracking any Ad and will drop any calls to track player state (Play, Pause, Buffer or Seek) in this state.",ErrAudioTrackingNotSupported:"Upgrade your AppMeasurement library to version >= \'2.11.0\' to support tracking audio content."},C="MediaHeartbeat",D="key_media_object",E="key_adbreak_object",F="key_ad_object",G="key_chapter_object",H="key_timed_metadata_object",I="key_custom_metadata",J="key_error_id",K="a.media.streamType",L="a.__pttvsdkVersion",M="granular_ad_tracking",N=250;c._MediaHeartbeatErrorMessage=B,c.MediaHeartbeatDelegate=d,c.MediaHeartbeat=e,c.MediaHeartbeat._debugLogging=!1}(a.ADB.core,a.ADB.va),a.ADB||(a.ADB={}),a.ADB.core||(a.ADB.core=core),a.ADB.va||(a.ADB.va=va),a.ADB.va.plugins||(a.ADB.va.plugins={})}(this);\n\n  }).call(lib);\n  exports.va = lib.ADB.va;\n  exports.core = lib.ADB.core;\n}));\n',language:"javascript"}}]},{id:"RL26b1173569bd43018bbe4fde08d330f9",name:"#04 [PL] ZZ HeartBeat Tracker",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:4}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:'/*! HeartBeatTracker - v1.2 - 2019-11-27 */\n\nwindow.HeartBeatTracker = function() {\n    var MediaHeartbeat = ADB.va.MediaHeartbeat;\n    var MediaHeartbeatConfig = ADB.va.MediaHeartbeatConfig;\n    var MediaHeartbeatDelegate = ADB.va.MediaHeartbeatDelegate;\n\n    //  "this object override\n    var _this = this;\n\n    //  Players list\n    //  Players are keyed on playerId\n    this.players = {};\n\n\n    //  Static configuration parameters set at DTM level\n    this.configuration = _satellite.getVar("[VIDEO] HbConfiguration");\n\n    //  AppMeasurement object - set at global level\n    this.appMeasurement = window.s;\n\n    //  Create HeartBeat Media Object\n    //  Params:\n    //      - contextData\n    //      - video_data\n    //          - video_id\n    //          - video_name\n    //          - video_length\n    //          - video_ovp\n    //      - jwPlayerObject\n\n    this.createHBPlayer = function(params) {\n\n        //  Get JWPlayer ID.\n        var player_id = params.jwPlayerObject.getConfig().id;\n        var player = false;\n        //_satellite.notify("---- HEARTBEATTRACKER: ",\n        //    "PlayerID ", player_id);       \n\n        //_satellite.notify("---- HEARTBEATTRACKER: linkTrackVars: ", s.linkTrackVars);\n        s.linkTrackVars = "";\n        s.clearVars();\n\n        //    Workaround to convert videoID to String\n        if (typeof params.video_data.video_id != "string")\n            params.video_data.video_id = params.video_data.video_id.toString();\n\n        // Verifico che non esista un player del video\n        if (typeof _this.players[player_id] != "undefined") {\n            // _satellite.notify("---- HEARTBEATTRACKER: ",\n            //     "HBPlayer for --\x3e ",\n            //     player_id,\n            //     "",\n            //     " already exists.");\n            player = _this.players[player_id]\n        } else {\n            //  Create l\'istanza della classe VideoHeartBeat Player for the video_id\n            player = new HeartBeatPlayer(\n                params,\n                this.configuration,\n                this.appMeasurement\n            );\n\n            _this.players[player_id] = player;\n            //_satellite.notify("---- HEARTBEATTRACKER:",\n            //    "HBPlayer for --\x3e ",\n            //  player_id,\n            //  "",\n            //  " CREATED!");\n        }\n\n        //  Controllare che la sessione non sia già iniziata\n        //  Inizio la session tracking (quando cambiano i video senza ADV)\n        if (!player.isTrackingSessionActive) {\n            _trackSessionStart(params, player);\n            player.isTrackingSessionActive = true;\n        }\n        //_satellite.notify("---- HEARTBEATTRACKER: linkTrackVars: ", s.linkTrackVars);\n    }\n\n    //  VIDEO CORE PLAYBACK\n    //  Method to track video play\n    this.HBTrackPlay = function(params) {\n        var player = _this.players[params.player_id];\n\n        //_satellite.notify("---- HEARTBEATTRACKER: player state on track play: " , player.player.getState())\n\n        //  Workaround to convert videoID to String\n        if (typeof params.video_data.video_id != "string")\n            params.video_data.video_id = params.video_data.video_id.toString();\n\n\n        //  Check to avoid double playTracking\n        if (player.isTracking)\n            return false;\n\n        //  Controllare che la sessione non sia già iniziata\n        //  Inizio la session tracking (quando cambiano i video senza ADV)\n        /*if (!player.isTrackingSessionActive) {\n            _trackSessionStart(params, player);\n            player.isTrackingSessionActive = true;\n        }*/\n\n        player.my_mediaHeartbeat.trackPlay();\n\n        //  Check to avoid double playTracking\n        player.isTracking = true;\n        //_satellite.notify("---- HEARTBEATTRACKER: ",\n        //  "HBPlayer --\x3e", params.player_id, "--\x3e PLAYSTART ")\n        // _satellite.notify("---- HEARTBEATTRACKER: Video ",\n        //     params.video_data.video_name);\n    }\n\n    //  Method to track video complete\n    this.HBTrackPause = function(params) {\n        var player = _this.players[params.player_id];\n\n        player.my_mediaHeartbeat.trackPause();\n\n        //_satellite.notify("---- HEARTBEATTRACKER:" +\n        //   " HBPlayer --\x3e " +\n        //  params.player_id + " TRACK PAUSE called.");\n    }\n\n    //  Method to track video complete\n    this.HBTrackComplete = function(params) {\n        var player = _this.players[params.player_id];\n\n        player.my_mediaHeartbeat.trackComplete();\n\n        player.isTracking = false;\n        \n        //_satellite.notify("---- HEARTBEATTRACKER:",\n        //  " HBPlayer --\x3e ",\n        //  params.player_id, " TRACK COMPLETE and SESSION END called.");\n    }\n\n    //  Method to stop the session when the video is unloaded, without completing\n    this.destroyHBPlayer = function(params) {\n        var player = _this.players[params.player_id];\n\n        player.my_mediaHeartbeat.trackSessionEnd();\n\n        player.isTracking = false;\n        player.isTrackingSessionActive = false;\n\n        delete _this.players[params.player_id];\n\n        //_satellite.notify("---- HEARTBEATTRACKER:",\n        //  " HBPlayer --\x3e ",\n        //  params.player_id, "SESSION END without TRACK COMPLETE called.");\n    }\n\n    //  END VIDEO CORE PLAYBACK\n\n    //  AD TRACKING\n\n    //  Method to track AdBreakStart\n    //  params:\n    //  - player_id\n    //  - ad_break_params\n    //      - ad_break_name: "preroll",\n    //      - position: 0,\n    //      - start_time: 0\n\n    this.HBTrackAdBreakStart = function(params) {\n        // console.log("---- Track Ad Break Start 1")\n\n        var player = _this.players[params.player_id];\n\n        var _adBreakInfo = ADB.va.MediaHeartbeat.createAdBreakObject(\n            params.ad_break_params.ad_break_name,\n            params.ad_break_params.position,\n            params.ad_break_params.start_time);\n\n        // console.log("---- Track Ad Break Start 2")\n\n\n\n        player.my_mediaHeartbeat.trackEvent(ADB.va.MediaHeartbeat.Event.AdBreakStart, _adBreakInfo, null);\n\n        // console.log("---- Track Ad Break Start 3")\n\n        //_satellite.notify("---- HEARTBEATTRACKER:" +\n        //   " HBPlayer --\x3e " +\n        //  " --\x3e TRACK AD BREAK START called.");\n    }\n\n    //  Method to track AdStart\n    //  params:\n    //  - player_id\n    //  - ad_params\n    //      - ad_name\n    //      - ad_id\n    //      - position\n    //      - length\n\n    this.HBTrackAdStart = function(params) {\n\n        var player = _this.players[params.player_id];\n\n\n        var _adObject = ADB.va.MediaHeartbeat.createAdObject(\n            params.ad_params.ad_name,\n            params.ad_params.ad_id,\n            params.ad_params.position,\n            params.ad_params.length);\n\n        //AD name -> The name of the ad \n        //AD id -> The unique id for the ad\n        //AD position -> The start position of the ad (number)\n        //AD length -> The length of the ad in second (number)\n\n        player.my_mediaHeartbeat.trackEvent(ADB.va.MediaHeartbeat.Event.AdStart, _adObject, null);\n\n        //_satellite.notify("---- HEARTBEATTRACKER:" +\n        //  " HBPlayer --\x3e " +\n        //  params.player_id +\n        //  " --\x3e AdTitle: " +\n        //  params.ad_params.ad_name +\n        //  " --\x3e TRACK AD START called.");\n    }\n\n    this.HBTrackAdSkip = function(params) {\n        var player = _this.players[params.player_id];\n\n        //_satellite.notify("---- HEARTBEATTRACKER: player state before skip: " + player.player.getState())\n        //  [31.01.2019] Rimosso momentaneamente per il live.   \n        player.my_mediaHeartbeat.trackEvent(ADB.va.MediaHeartbeat.Event.AdSkip);\n\n        // _satellite.notify("---- HEARTBEATTRACKER: player state after skip: " + player.player.getState())\n        //_satellite.notify("---- HEARTBEATTRACKER:" +\n        //  " HBPlayer --\x3e " +\n        //  params.player_id + " TRACK AD SKIP called.");\n    }\n\n    this.HBTrackAdComplete = function(params) {\n        var player = _this.players[params.player_id];\n\n        //  [31.01.2019] Rimosso momentaneamente per il live.\n        player.my_mediaHeartbeat.trackEvent(ADB.va.MediaHeartbeat.Event.AdComplete);\n        //player.my_mediaHeartbeat.trackEvent(ADB.va.MediaHeartbeat.Event.AdBreakComplete);\n\n        //_satellite.notify("---- HEARTBEATTRACKER:" +\n        //   " HBPlayer --\x3e " +\n        //  params.player_id + " TRACK AD COMPLETE called.");\n    }\n\n    this.HBTrackAdBreakEnd = function(params) {\n        var player = _this.players[params.player_id];\n\n        player.my_mediaHeartbeat.trackEvent(ADB.va.MediaHeartbeat.Event.AdBreakComplete);\n\n        //_satellite.notify("---- HEARTBEATTRACKER:" +\n        //  " HBPlayer --\x3e " + " TRACK AD BREAK END called.");\n    }\n\n    //  END AD TRACKING\n\n\n    //  INTERNAL METHOD\n    var _trackSessionStart = function(params, player) {\n        //_satellite.notify("---- HEARTBEATTRACKER --\x3e _trackSessionStart");\n\n        var mediaObject = undefined;\n        var customVideoMetadata = params.contextData;\n\n        mediaObject = MediaHeartbeat.createMediaObject(params.video_data.video_name,\n            params.video_data.video_id,\n            params.video_data.video_length,\n            params.video_data.video_ovp);\n\n        player.my_mediaHeartbeat.trackSessionStart(mediaObject, customVideoMetadata);\n    }\n}\n\n\n//  Class to manage MediaObjectInstances\nvar HeartBeatPlayer = function(params, Configuration, _appMeasurement) {\n\n    var MediaHeartbeat = ADB.va.MediaHeartbeat;\n    var MediaHeartbeatConfig = ADB.va.MediaHeartbeatConfig;\n    var MediaHeartbeatDelegate = ADB.va.MediaHeartbeatDelegate;\n\n    var _this = this;\n    this.video_params = params;\n    this.player = params.jwPlayerObject;\n\n    // Config\n    this.mediaConfig = new MediaHeartbeatConfig();\n    this.mediaConfig.trackingServer = Configuration.HEARTBEAT.TRACKING_SERVER;\n    this.mediaConfig.playerName = Configuration.PLAYER.NAME;\n    this.mediaConfig.channel = Configuration.HEARTBEAT.CHANNEL;\n    this.mediaConfig.debugLogging = false;\n    this.mediaConfig.appVersion = Configuration.HEARTBEAT.SDK;\n    this.mediaConfig.ssl = true;\n    this.mediaConfig.ovp = Configuration.HEARTBEAT.OVP;\n\n    // Delegate\n    this.mediaDelegate = new MediaHeartbeatDelegate();\n\n    // Replace <currentPlaybackTime> with the video player current playback time\n    this.mediaDelegate.getCurrentPlaybackTime = function() {\n        return _this.player.getCurrentTime();\n    };\n\n    this.mediaDelegate.getQoSObject = function() {\n        return MediaHeartbeat.createQoSObject(5000, 0, 24, 10);\n    };\n\n    this.my_mediaHeartbeat =\n        new MediaHeartbeat(this.mediaDelegate, this.mediaConfig, _appMeasurement);\n}',language:"javascript"}}]},{id:"RL60fc69c722dd4693a7df9d9fb0b2405f",name:"#50 [DR] Tracking CTA AOL",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track_trackingctaaol_action"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["collam.abbonamento.sky.it","collam.abbonamento-o.sky.it","collprj.abbonamento.sky.it","collprj.abbonamento-o.sky.it","abbonamento.sky.it","abbonamento-o.sky.it","preprod.abbonamento-o.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){console.info("ADOBE LAUNCH - trackingctaaol"),t.pageName="",t.events="",t.linkTrackVars="events,eVar24,prop54,eVar54,prop55,eVar55,eVar10",t.linkTrackEvents=t.events="event16",t.eVar24=_satellite.getVar("track_trackingctaaol_step"),t.prop54=window.location.href,t.prop54&&(t.eVar54="D=c54"),t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"trackingctaaol",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL5153fa37aa004dc6abcf5d61074064f2",name:"#50 [DR] Tracking CTA Recontracting",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track_ctarecontracting"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageName="",t.events="",t.linkTrackVars="events,eVar24,prop54,eVar54,prop55,eVar55",t.linkTrackEvents=t.events="event16",t.eVar24=e.detail.labelcta,t.prop54=window.location.href,t.prop54&&(t.eVar54="D=c54"),t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"trackingctarecontracting",linkType:"o"}}]},{id:"RL41519cdb8ecb40eeb31777df7cf7ecf3",name:"#55 [ER] [CLICK CORPORATE] SkyQ - Box controllo vocale",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#da-controllo-vocale.daAccordionItem.closed",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.location.href.match(/tv\/skyq/)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="eVar24,eVar55,prop55,events",t.linkTrackEvents=t.events="event16",t.eVar24="controllo vocale",t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}}]},{id:"RL989690915b5847a8a0aaa655c9e8d8b6",name:"#50 [DR] [ALL] Overlay recontracting-traffico",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track_recontracting"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){e=e.detail.page;t.pageName=_satellite.getVar("[DigitalData] PageName")+e,console.info("Adobe track_recontracting "+t.pageName),t.server=_satellite.getVar("[ALL] Server"),t.channel=_satellite.getVar("[DigitalData] Channel")?_satellite.getVar("[DigitalData] Channel"):"",t.prop2=t.getPreviousValue(t.pageName,"gpv_pn"),t.prop5=_satellite.getVar("[DigitalData] Quarto Livello")?_satellite.getVar("[DigitalData] Quarto Livello"):"",t.prop50=_satellite.getVar("[ALL] External Id")?_satellite.getVar("[ALL] External Id"):"",t.prop54=location.href,t.prop55=location.href.split(/[?#]/)[0],t.prop59=_satellite.getVar("[DigitalData] Secondo Livello")?_satellite.getVar("[DigitalData] Secondo Livello"):"",t.prop60=_satellite.getVar("[DigitalData] Terzo Livello")?_satellite.getVar("[DigitalData] Terzo Livello"):"",t.prop67=_satellite.getVar("[ALL] Cookie Login Status"),t.pageName&&(t.eVar1="D=pageName"),t.prop2&&(t.eVar2="D=c2"),t.prop5&&(t.eVar5="D=c5"),t.prop54&&(t.eVar54="D=c54"),t.prop55&&(t.eVar55="D=c55"),t.prop59&&(t.eVar59="D=c59"),t.prop60&&(t.eVar60="D=c60")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RLd70f1476462d476aa72af94ff9b4d5a5",name:"#50 [DR] Speed Test Configuratore - esito negativo",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"configuratore-speed-test_negativo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["www.sky.it","collcms.www.sky.it","caem.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.server=_satellite.getVar("[ALL] Server"),t.channel=_satellite.getVar("[DigitalData] Channel")?_satellite.getVar("[DigitalData] Channel"):"",t.pageName="sky:offerte:configuratore-abbonamento-sky:esito-speed-test-negativo",t.prop2=t.getPreviousValue(t.pageName,"gpv_pn"),t.prop5=_satellite.getVar("[DigitalData] Quarto Livello")?_satellite.getVar("[DigitalData] Quarto Livello"):"",t.prop29=_satellite.getVar("[ALL] Query String Parameter Social")?_satellite.getVar("[ALL] Query String Parameter Social"):"",t.prop50=_satellite.getVar("[ALL] External Id")?_satellite.getVar("[ALL] External Id"):"",t.prop54=location.href,t.prop55=location.href.split(/[?#]/)[0],t.prop59=_satellite.getVar("[DigitalData] Secondo Livello")?_satellite.getVar("[DigitalData] Secondo Livello"):"",t.prop60=_satellite.getVar("[DigitalData] Terzo Livello")?_satellite.getVar("[DigitalData] Terzo Livello"):"",t.prop67=_satellite.getVar("[ALL] Cookie Login Status"),t.pageName&&(t.eVar1="D=pageName"),t.prop2&&(t.eVar2="D=c2"),t.prop5&&(t.eVar5="D=c5"),t.prop54&&(t.eVar54="D=c54"),t.prop55&&(t.eVar55="D=c55"),t.prop59&&(t.eVar59="D=c59"),t.prop60&&(t.eVar60="D=c60"),t.prop67&&(t.eVar67="D=c67")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RL51a96428af8c44b9922e944dcccb4dd1",name:"#05 [PL] [TARGET] Pagina offerte",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:5}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!(_satellite.cookie.get("ext")||null!=_satellite.cookie.get("ext")||!location.href.match(/sky\.it\/offerte/)||location.href.match(/sky\.it\/offerte\?ver=b/))}}}],actions:[{modulePath:"adobe-target-v2/lib/loadTarget.js",settings:{}},{modulePath:"adobe-target-v2/lib/addPageLoadParams.js",settings:{params:{"prospect-offerte":{value:"true",checked:!0}}}},{modulePath:"adobe-target-v2/lib/firePageLoad.js",settings:{bodyHiddenStyle:"body {opacity: 0}",bodyHidingEnabled:!0}}]},{id:"RLac2f2bd3646b47e785738889b2f584e1",name:"#55 [ER] [CLICK CORPORATE] SkyQ - Box 4k hdr",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#da-qualita-hdr.daAccordionItem.closed",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.location.href.match(/tv\/skyq/)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="eVar24,eVar55,prop55,events",t.linkTrackEvents=t.events="event16",t.eVar24="qualità 4k hdr",t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}}]},{id:"RLf45c5c162f7e417fa811eb3e5aed16be",name:"#50 [PL] Siti minori Traffico",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["store.sky.it","skygo.sky.it","skygo-test.sky.it","business.skytv.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.prop29=_satellite.getVar("[ALL] Query String Parameter Social")?_satellite.getVar("[ALL] Query String Parameter Social"):"",t.prop50=_satellite.getVar("[ALL] External Id")?_satellite.getVar("[ALL] External Id"):"",t.prop54=location.href,t.prop55=location.href.split(/[?#]/)[0],t.prop67=_satellite.getVar("[ALL] Cookie Login Status"),t.pageName=location.href.split(/[?#]/)[0],""!==_satellite.getVar("[ALL] Query String Parameter Cmp")&&(t.campaign=_satellite.getVar("[ALL] Query String Parameter Cmp")),t.pageName&&(t.eVar1="D=pageName"),""!==_satellite.getVar("[ALL] Query String Parameter Intcmp")?t.eVar10=_satellite.getVar("[ALL] Query String Parameter Intcmp"):t.eVar10="",t.prop50&&(t.eVar50="D=c50"),t.prop54&&(t.eVar54="D=c54"),t.prop55&&(t.eVar55="D=c55"),t.prop67&&(t.eVar67="D=c67")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RLb3eb0ca02b0048e29905e6d6fbc49f29",name:"#50 [DR] Speed Test Aol Crosspage - esito positivo",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"fibratest_positivo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["collprj.abbonamento.sky.it","abbonamento.sky.it","collprj.abbonamento-o.sky.it","collam.abbonamento-o.sky.it","collam.abbonamento.sky.it","abbonamento-o.sky.it","preprod.abbonamento-o.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.server=_satellite.getVar("[ALL] Server"),t.channel=_satellite.getVar("[DigitalData] Channel")?_satellite.getVar("[DigitalData] Channel"):"",t.pageName="sky:acquista:crosspage:esito-positivo",t.prop2=t.getPreviousValue(t.pageName,"gpv_pn"),t.prop5=_satellite.getVar("[DigitalData] Quarto Livello")?_satellite.getVar("[DigitalData] Quarto Livello"):"",t.prop29=_satellite.getVar("[ALL] Query String Parameter Social")?_satellite.getVar("[ALL] Query String Parameter Social"):"",t.prop50=_satellite.getVar("[ALL] External Id")?_satellite.getVar("[ALL] External Id"):"",t.prop54=location.href,t.prop55=location.href.split(/[?#]/)[0],t.prop59=_satellite.getVar("[DigitalData] Secondo Livello")?_satellite.getVar("[DigitalData] Secondo Livello"):"",t.prop60=_satellite.getVar("[DigitalData] Terzo Livello")?_satellite.getVar("[DigitalData] Terzo Livello"):"",t.prop67=_satellite.getVar("[ALL] Cookie Login Status"),t.pageName&&(t.eVar1="D=pageName"),t.prop2&&(t.eVar2="D=c2"),t.prop5&&(t.eVar5="D=c5"),t.prop54&&(t.eVar54="D=c54"),t.prop55&&(t.eVar55="D=c55"),t.prop59&&(t.eVar59="D=c59"),t.prop60&&(t.eVar60="D=c60"),t.prop67&&(t.eVar67="D=c67")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RLe0c0bd990200448eb8e102aab146b9b7",name:"#50 [PL] [TAG TERZI] FACEBOOK AUDIENCE (Libreria e parametri)",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e={}.constructor.getOwnPropertyDescriptor(window,"localStorage");try{return e&&{}.constructor.defineProperty(window,"localStorage",$___mock_68baf1e69228f27e.localStorage),function(){return"true"===localStorage.getItem("cmpConsentFacebook")&&!location.href.match(/file:\/\/\/C\:\//)}.apply(this,arguments)}finally{e&&{}.constructor.defineProperty(window,"localStorage",e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"!function(f,b,e,v,n,t,s)\n{if(f.fbq)return;n=f.fbq=function(){n.callMethod?\nn.callMethod.apply(n,arguments):n.queue.push(arguments)};\nif(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\nn.queue=[];t=b.createElement(e);t.async=!0;\nt.src=v;s=b.getElementsByTagName(e)[0];\ns.parentNode.insertBefore(t,s)}(window, document,'script',\n'https://connect.facebook.net/en_US/fbevents.js');\nfbq('init', '651818464989826');\nfbq('track', 'PageView');\n",language:"javascript"}}]},{id:"RL358fd5009f204d5196dd78c44749c50f",name:"#50 [DR] Speed Test Aol Crosspage - esito in parte positivo",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"fibratest_inpartepositivo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["abbonamento.sky.it","collprj.abbonamento.sky.it","collprj.abbonamento-o.sky.it","collam.abbonamento-o.sky.it","collam.abbonamento.sky.it","abbonamento-o.sky.it","preprod.abbonamento-o.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.server=_satellite.getVar("[ALL] Server"),t.channel=_satellite.getVar("[DigitalData] Channel")?_satellite.getVar("[DigitalData] Channel"):"",t.pageName="sky:acquista:crosspage:esito-inpartepositivo",t.prop2=t.getPreviousValue(t.pageName,"gpv_pn"),t.prop5=_satellite.getVar("[DigitalData] Quarto Livello")?_satellite.getVar("[DigitalData] Quarto Livello"):"",t.prop29=_satellite.getVar("[ALL] Query String Parameter Social")?_satellite.getVar("[ALL] Query String Parameter Social"):"",t.prop50=_satellite.getVar("[ALL] External Id")?_satellite.getVar("[ALL] External Id"):"",t.prop54=location.href,t.prop55=location.href.split(/[?#]/)[0],t.prop59=_satellite.getVar("[DigitalData] Secondo Livello")?_satellite.getVar("[DigitalData] Secondo Livello"):"",t.prop60=_satellite.getVar("[DigitalData] Terzo Livello")?_satellite.getVar("[DigitalData] Terzo Livello"):"",t.prop67=_satellite.getVar("[ALL] Cookie Login Status"),t.pageName&&(t.eVar1="D=pageName"),t.prop2&&(t.eVar2="D=c2"),t.prop5&&(t.eVar5="D=c5"),t.prop54&&(t.eVar54="D=c54"),t.prop55&&(t.eVar55="D=c55"),t.prop59&&(t.eVar59="D=c59"),t.prop60&&(t.eVar60="D=c60"),t.prop67&&(t.eVar67="D=c67")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RLb0d7d15675474d8eb28453d4f826e621",name:"[DR] [AOL] aolrenewpopup_page (+ TARGET)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"aolrenewpopup_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["collprj.abbonamento.sky.it","abbonamento.sky.it","collam.abbonamento.sky.it","collam.abbonamento-o.sky.it","collprj.abbonamento-o.sky.it","abbonamento-o.sky.it","preprod.abbonamento-o.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){console.info("ADOBE aolrenwepopup"),t.events=t.products="",t.prop34=_satellite.getVar("aolrenew_promocode"),t.prop37=_satellite.getVar("aolrenew_offertype"),t.prop59="aol",t.prop62="",t.pageName=_satellite.getVar("aolrenew_pagename"),"sky:acquista:configura offerta"==_satellite.getVar("aolrenew_pagename")&&(window.pagenameBaseAolRenew="sky:acquista:configura offerta"),t.pageName&&(t.eVar1="D=pageName"),t.prop34&&(t.eVar34="D=c34"),t.prop37&&(t.eVar37="D=c37"),t.prop59&&(t.eVar59="D=c59"),t.eVar98=""}},trackerProperties:{channel:"Acquista"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/27331c16692c/33a862a7054a/7aed57be19fa/RC09b92537431446d3b9259ebeee335aa7-source.min.js",language:"html",isExternal:!0}}]},{id:"RL2e6b34eee47c45229e7fb6ee5a7069f6",name:"#50 [DR] Speed Test - esito positivo",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"fibratest_positivo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["www.sky.it","caem.sky.it","collcms.www.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{pageName:"sky:assistenza:skyviafibratest:esito-positivo"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RL2f113ac63d2a46249cba052018b4ac6a",name:"#55 [ER] [CLICK CORPORATE] Index Tv - Box Link Utili Parco ",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".boxlink.IsParco a.box-link",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"sky:home"==s.pageName}}},{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["collcms.www.sky.it","preprod-www.sky.it","www.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="eVar24,prop55,eVar55,events",t.linkTrackEvents=t.events="event16",t.eVar24="home_linkutili_parco_faidate",t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}}]},{id:"RL664ff0289eec4fa494f986a80621c6cf",name:"#55 [ER] [CLICK CORPORATE] Netflix account - Cta attiva subito",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button.basicTransition#activateButton",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.location.href.match(/it\/netflix-account/)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="eVar24,prop55,eVar55,events",t.linkTrackEvents=t.events="event16",t.eVar24="attivanetflix_cta_attivasubito_vai-al-faidate",t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}}]},{id:"RL51fee68dcaa1497b99f5ae5520e0a6ba",name:"#50 [DR] Landing Disdetta TYP (+ ADFORM)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"disdetta_typ"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!location.pathname.match(/\assistenza\/info-disdetta\/sky/)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="prop54,eVar54,prop55,eVar55",t.prop54=location.href,t.prop55=location.href.split(/[?#]/)[0],t.prop54&&(t.eVar54="D=c54"),t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{events:[{name:"event32"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"disdetta_typ",linkType:"o"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/27331c16692c/33a862a7054a/7aed57be19fa/RCac16aee3dccc446da6da4cf3263a5596-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb61910a279a141f98657b33fae2ef9d6",name:"#55 [ER] [CLICK CORPORATE] Netflix errore - Cta riprova",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#stepFailRecoverPwd > div > button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.location.href.match(/it\/(pagina-errore-netflix|pagina_errore_genericonetflix).*/)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="eVar24,prop55,eVar55,events",t.linkTrackEvents=t.events="event16",t.eVar24="riprova-attivazione-netflix",t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"click_corporate",linkType:"o"}}]},{id:"RLa162fc947a9e467ab81f2f852678b1a1",name:"#50 [DR] Tracking Esito Copertura",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track_esitocopertura"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageName="",t.events="",t.linkTrackVars="events,eVar24,prop54,eVar54,prop55,eVar55",t.linkTrackEvents=t.events="event17",t.eVar24=e.detail.label,t.prop54=window.location.href,t.prop54&&(t.eVar54="D=c54"),t.prop55=window.location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"trackingesitocopertura",linkType:"o"}}]},{id:"RL961cfb94689743a29edda716d6bbafa7",name:"#50 [DR] Workaround QMI cart",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track_nppqmi"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){console.info("adobe workaround qmi cart"),t.server=location.hostname,t.channel="corporate",t.pageName=e.detail.pageName||"",t.eVar1=e.detail.pageName||"",t.prop2=t.getPreviousValue(t.pageName,"gpv_pn"),t.prop2&&(t.eVar2="D=c2"),""!==e.detail.intcmp&&(t.eVar10=_satellite.getVar("[ALL] Intcmp")?_satellite.getVar("[ALL] Intcmp"):""),t.prop50=_satellite.getVar("[ALL] External Id")?_satellite.getVar("[ALL] External Id"):"",t.prop54=location.href,t.prop54&&(t.eVar54="D=c54"),t.prop55=location.href.split(/[?#]/)[0],t.prop55&&(t.eVar55="D=c55"),t.prop59="fai da te",t.prop59&&(t.eVar59="D=c59"),t.prop60="offerte per te",t.prop60&&(t.eVar60="D=c60"),t.prop67=_satellite.getVar("[ALL] Cookie Login Status")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL1272ef2ba4a04e2b92472a42108cb5a5",name:"#50 [ALL] [TAG TERZI] Medallia library",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["collcms.www.sky.it","www.sky.it"]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"(function() {\n    var s_mdl = document.createElement('script');\n    s_mdl.type = 'text/javascript';\n    s_mdl.async = true;\n    s_mdl.src = 'https://resources.digital-cloud.medallia.eu/wdceu/29831/onsite/embed.js';\n    var x_mdl = document.getElementsByTagName('script')[0];\n    x_mdl.parentNode.insertBefore(s_mdl, x_mdl);\n})();",language:"javascript"}}]},{id:"RL59f5f2b8cc00466fa7bdf1a4f665c6b1",name:"#50 [ALL] SP CMP opt in",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/27331c16692c/33a862a7054a/7aed57be19fa/RC485b3dacbd0347a19264a134ba1f25ef-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0e0a1a393eaf4c689ee5088535eb4406",name:"[AOL] TARGET FLAG PRIVACY",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/newaol/abbonationline|/aol/abbonationline",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<div class="ab_privacy-flag"></div>\n\n<script> \n  adobe.target.getOffer({\n    mbox: "mbox-privacy-flag",\n    success: function(offer) {\n      adobe.target.applyOffer({\n        mbox: "mbox-privacy-flag",\n        selector: ".ab_privacy-flag",\n        offer: offer\n      });\n    },\n    error: function(error) {\n      console.error(error);\n      var el = document.getElementsByClassName("ab_privacy-flag");\n      el.style.visibility = "visible";\n    }\n  });\n<\/script>',language:"html"}}]},{id:"RL0049c4520e6e4d2781ab53004f34f174",name:"#50 [ADOBE] SP CMP",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["collcms.www.sky.it","test.extra.sky.it","collcms.hotclub.sky.it","skygo-test.sky.it","trovahotel.skybusiness.clo.ud.it","trovabar.skybusiness.clo.ud.it","preprod-www.sky.it","www.sky.it","svilcms.www.sky.it","caem.www.sky.it","caem.sky.it","extra.sky.it","hotclub.sky.it","eprocurement.sky.it","preprod.abbonamento.sky.it","collcms.skyacademy.it","skyacademy.it","trovabar.sky.it","trovahotel.sky.it","skygo.sky.it","collcms.eprocurement.sky.it","collcms.skyitalia.sky.it","skyitalia.sky.it"]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"// Il codice JavaScript a seguire verifica puntualmente l'accettazione del\n// consenso Sky Data Service, scatenando opportuni eventi in gestione al\n// Datalake.\nif (typeof __tcfapi === 'function') {\n  var idSkyDataService = '6109863b5c1e7805bd9e652f';\n\n  // Gestione registrazione funzione di callback della CMP per \"catturare\" live\n  // o in pageview eventuali interazioni con la gestione dei consensi.\n  __tcfapi('addEventListener', 2, function(tcData) {\n    if(tcData.eventStatus == 'useractioncomplete') {\n      // Verifica puntuale consensi Sky Data Service\n      __tcfapi('getCustomVendorConsents', 2, function(vendorConsents) {\n        var skyDataServiceConsent = false;\n\n        if (vendorConsents && vendorConsents.consentedVendors) {\n          for(var i = 0, size = vendorConsents.consentedVendors.length; i < size; ++i) {\n            if(vendorConsents.consentedVendors[i]._id == idSkyDataService) {\n              skyDataServiceConsent = 'true';\n              break;\n            }\n          }\n        }\n\n        if(skyDataServiceConsent) {\n          console.info('CMP - Sky Data Service accettato');\n\n          s.linkTrackVars = 'events';\n          s.linkTrackEvents = s.events = 'event200';\n          s.tl(this, 'o', 'click_cmp_accetta');\n        }\n        else {\n          console.info('CMP - Sky Data Service NON accettato');\n\n          s.linkTrackVars = 'events';\n          s.linkTrackEvents = s.events = 'event199';\n          s.tl(this, 'o', 'click_cmp_rifiuta');\n        }\n      });\n    }\n  });\n}\nelse {\n  console.error(\"CMP API not available\");\n}",language:"javascript"}}]},{id:"RLf2cb079b2c5e4a82aec28f3b3f36d626",name:"#50 [ADOBE] SP CMP per SPA",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["preprod.abbonamento.sky.it","abbonamento.sky.it","collam.abbonamento.sky.it","collam.abbonamento-o.sky.it","collprj.abbonamento.sky.it","collprj.abbonamento-o.sky.it","preprod.abbonamento-o.sky.it","abbonamento-o.sky.it","skylocator.nohup.it","trova.sky.it"]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/27331c16692c/33a862a7054a/7aed57be19fa/RC98d917a239c4418999f341da669ce4fd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4c094dd3d3484077950a7f6be017e5b5",name:"#50 [DR] Page Speed Test Sky.it- esito positivo",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"page-speed-test_positivo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["svilcms.www.sky.it","caem.www.sky.it","collcms.www.sky.it","www.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){console.info("page-speed-test_positivo"),t.server=_satellite.getVar("[ALL] Server"),t.channel=_satellite.getVar("[DigitalData] Channel")?_satellite.getVar("[DigitalData] Channel"):"",t.pageName="sky:speed-test:esito-positivo",t.prop2=t.getPreviousValue(t.pageName,"gpv_pn"),t.prop5=_satellite.getVar("[DigitalData] Quarto Livello")?_satellite.getVar("[DigitalData] Quarto Livello"):"",t.prop29=_satellite.getVar("[ALL] Query String Parameter Social")?_satellite.getVar("[ALL] Query String Parameter Social"):"",t.prop50=_satellite.getVar("[ALL] External Id")?_satellite.getVar("[ALL] External Id"):"",t.prop54=location.href,t.prop55=location.href.split(/[?#]/)[0],t.prop59=_satellite.getVar("[DigitalData] Secondo Livello")?_satellite.getVar("[DigitalData] Secondo Livello"):"",t.prop60=_satellite.getVar("[DigitalData] Terzo Livello")?_satellite.getVar("[DigitalData] Terzo Livello"):"",t.prop67=_satellite.getVar("[ALL] Cookie Login Status"),t.pageName&&(t.eVar1="D=pageName"),t.prop2&&(t.eVar2="D=c2"),t.prop5&&(t.eVar5="D=c5"),t.prop54&&(t.eVar54="D=c54"),t.prop55&&(t.eVar55="D=c55"),t.prop59&&(t.eVar59="D=c59"),t.prop60&&(t.eVar60="D=c60"),t.prop67&&(t.eVar67="D=c67")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RL9c8f99e4c4314710926fda5e6ca1a43e",name:"#50 [DR] Page Speed Test Sky.it- esito in parte positivo ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"page-speed-test_inpartepositivo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["svilcms.www.sky.it","caem.www.sky.it","collcms.www.sky.it","www.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){console.info("page-speed-test_inpartepositivo"),t.server=_satellite.getVar("[ALL] Server"),t.channel=_satellite.getVar("[DigitalData] Channel")?_satellite.getVar("[DigitalData] Channel"):"",t.pageName="sky:speed-test:esito-inpartepositivo",t.prop2=t.getPreviousValue(t.pageName,"gpv_pn"),t.prop5=_satellite.getVar("[DigitalData] Quarto Livello")?_satellite.getVar("[DigitalData] Quarto Livello"):"",t.prop29=_satellite.getVar("[ALL] Query String Parameter Social")?_satellite.getVar("[ALL] Query String Parameter Social"):"",t.prop50=_satellite.getVar("[ALL] External Id")?_satellite.getVar("[ALL] External Id"):"",t.prop54=location.href,t.prop55=location.href.split(/[?#]/)[0],t.prop59=_satellite.getVar("[DigitalData] Secondo Livello")?_satellite.getVar("[DigitalData] Secondo Livello"):"",t.prop60=_satellite.getVar("[DigitalData] Terzo Livello")?_satellite.getVar("[DigitalData] Terzo Livello"):"",t.prop67=_satellite.getVar("[ALL] Cookie Login Status"),t.pageName&&(t.eVar1="D=pageName"),t.prop2&&(t.eVar2="D=c2"),t.prop5&&(t.eVar5="D=c5"),t.prop54&&(t.eVar54="D=c54"),t.prop55&&(t.eVar55="D=c55"),t.prop59&&(t.eVar59="D=c59"),t.prop60&&(t.eVar60="D=c60"),t.prop67&&(t.eVar67="D=c67")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RLf2ce974935f24bd8a9d804ddc35f553e",name:"#50 [DR] Page Speed Test Sky.it- esito negativo",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"page-speed-test_negativo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["www.sky.it","svilcms.www.sky.it","caem.www.sky.it","collcms.www.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){console.info("page-speed-test_negativo"),t.server=_satellite.getVar("[ALL] Server"),t.channel=_satellite.getVar("[DigitalData] Channel")?_satellite.getVar("[DigitalData] Channel"):"",t.pageName="sky:speed-test:esito-negativo",t.prop2=t.getPreviousValue(t.pageName,"gpv_pn"),t.prop5=_satellite.getVar("[DigitalData] Quarto Livello")?_satellite.getVar("[DigitalData] Quarto Livello"):"",t.prop29=_satellite.getVar("[ALL] Query String Parameter Social")?_satellite.getVar("[ALL] Query String Parameter Social"):"",t.prop50=_satellite.getVar("[ALL] External Id")?_satellite.getVar("[ALL] External Id"):"",t.prop54=location.href,t.prop55=location.href.split(/[?#]/)[0],t.prop59=_satellite.getVar("[DigitalData] Secondo Livello")?_satellite.getVar("[DigitalData] Secondo Livello"):"",t.prop60=_satellite.getVar("[DigitalData] Terzo Livello")?_satellite.getVar("[DigitalData] Terzo Livello"):"",t.prop67=_satellite.getVar("[ALL] Cookie Login Status"),t.pageName&&(t.eVar1="D=pageName"),t.prop2&&(t.eVar2="D=c2"),t.prop5&&(t.eVar5="D=c5"),t.prop54&&(t.eVar54="D=c54"),t.prop55&&(t.eVar55="D=c55"),t.prop59&&(t.eVar59="D=c59"),t.prop60&&(t.eVar60="D=c60"),t.prop67&&(t.eVar67="D=c67")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RL6ac2d1d038274844946509a755da1fed",name:"[DR] Scegli Sky - Glass TYP",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"scegli_skyglass_typ"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["scegli.sky.it","test.scegli.sky.it"]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.server=_satellite.getVar("[ALL] Server"),t.channel=_satellite.getVar("[DigitalData] Channel")?_satellite.getVar("[DigitalData] Channel"):"",t.pageName="sky:scegli:skyglass:typ",t.prop2=t.getPreviousValue(t.pageName,"gpv_pn"),t.prop5=_satellite.getVar("[DigitalData] Quarto Livello")?_satellite.getVar("[DigitalData] Quarto Livello"):"",t.prop29=_satellite.getVar("[ALL] Query String Parameter Social")?_satellite.getVar("[ALL] Query String Parameter Social"):"",t.prop50=_satellite.getVar("[ALL] External Id")?_satellite.getVar("[ALL] External Id"):"",t.prop54=location.href,t.prop55=location.href.split(/[?#]/)[0],t.prop59=_satellite.getVar("[DigitalData] Secondo Livello")?_satellite.getVar("[DigitalData] Secondo Livello"):"",t.prop60=_satellite.getVar("[DigitalData] Terzo Livello")?_satellite.getVar("[DigitalData] Terzo Livello"):"",t.prop67=_satellite.getVar("[ALL] Cookie Login Status"),t.pageName&&(t.eVar1="D=pageName"),t.prop2&&(t.eVar2="D=c2"),t.prop5&&(t.eVar5="D=c5"),t.prop54&&(t.eVar54="D=c54"),t.prop55&&(t.eVar55="D=c55"),t.prop59&&(t.eVar59="D=c59"),t.prop60&&(t.eVar60="D=c60"),t.prop67&&(t.eVar67="D=c67")}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RL17cd5389362241fd8cad5c5d3f0ec95a",name:"[AOL] TARGET ORDINE CAMPI",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/newaol/abbonationline|/aol/abbonationline",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<div class="ab_ordine-campi"></div>\n\n<script> \n  adobe.target.getOffer({\n    mbox: "mbox-ordine-campi",\n    success: function(offer) {\n      adobe.target.applyOffer({\n        mbox: "mbox-ordine-campi",\n        selector: ".ab_ordine-campi",\n        offer: offer\n      });\n    },\n    error: function(error) {\n      console.error(error);\n      var el = document.getElementsByClassName("ab_ordine-campi");\n      el.style.visibility = "visible";\n    }\n  });\n<\/script>',language:"html"}}]}]}}();var $___var_2b0a675722904a9a=function(){"use strict";function e(e){var t={exports:{}};return e(t,t.exports),t.exports}function c(e){return Boolean(e&&void 0!==e.length)}function n(){}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function r(a,n){for(;3===a._state;)a=a._value;0!==a._state?(a._handled=!0,i._immediateFn(function(){var e,t=1===a._state?n.onFulfilled:n.onRejected;if(null!==t){try{e=t(a._value)}catch(e){return void s(n.promise,e)}o(n.promise,e)}else(1===a._state?o:s)(n.promise,a._value)})):a._deferreds.push(n)}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var a=t.then;if(t instanceof i)return e._state=3,e._value=t,void l(e);if("function"==typeof a)return void u((n=a,r=t,function(){n.apply(r,arguments)}),e)}e._state=1,e._value=t,l(e)}catch(t){s(e,t)}var n,r}function s(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,a=e._deferreds.length;t<a;t++)r(e,e._deferreds[t]);e._deferreds=null}function d(e,t,a){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=a}function u(e,t){var a=!1;try{e(function(e){a||(a=!0,o(t,e))},function(e){a||(a=!0,s(t,e))})}catch(e){if(a)return;a=!0,s(t,e)}}function p(e){return!0===me(e)&&"[object Object]"===Object.prototype.toString.call(e)}if(window.atob){var h=document,f=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,a=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return}}()?Object.assign:function(e){for(var t,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),n=1;n<arguments.length;n++){for(var r in t=Object(arguments[n]))g.call(t,r)&&(a[r]=t[r]);if(f)for(var i=f(t),o=0;o<i.length;o++)m.call(t,i[o])&&(a[i[o]]=t[i[o]])}return a},b=window,t=function(e,t,a){var n,r=Array.isArray(t),i=Boolean(r&&e),o=document.createElement("a");if(o.href=e,(!/^https?:\/\/.*/.test(e)||!o.host)&&r){e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e}if(r&&-1===t.indexOf(o.hostname)){t=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw t.code="dynamic_host_not_allowed",t}function s(){return null!=n?n:n=i?(e=o.host,/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),"https://"+e):"";var e}var c={getTurbineHost:s,decorateWithDynamicHost:function(e){return i&&"string"==typeof e?[s(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},get isDynamicEnforced(){return r}};return b&&a.onDebugChanged(function(e){e?b.dynamicHostResolver=c:delete b.dynamicHostResolver}),c},_=function(e,a){function n(){return"true"===e.getItem("debug")}var r=[];return a.outputEnabled=n(),{onDebugChanged:function(e){r.push(e)},getDebugEnabled:n,setDebugEnabled:function(t){n()!==t&&(e.setItem("debug",t),a.outputEnabled=t,r.forEach(function(e){e(t)}))}}},v=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},y="log",k="info",w="debug",A="warn",S="error",E=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":"🚀",I=!1,T=function(e){var t;I&&window.console&&((t=Array.prototype.slice.call(arguments,1)).unshift(E),e!==w||window.console[e]||(e=k),window.console[e].apply(window.console,t))},P=T.bind(null,y),D=T.bind(null,k),C=T.bind(null,w),V=T.bind(null,A),L=T.bind(null,S),N={log:P,info:D,debug:C,warn:V,error:L,deprecation:function(){var e=I;I=!0,T.apply(null,Array.prototype.concat(A,Array.prototype.slice.call(arguments))),e||(I=!1)},get outputEnabled(){return I},set outputEnabled(e){I=e},createPrefixedLogger:function(e){e="["+e+"]";return{log:P.bind(null,e),info:D.bind(null,e),debug:C.bind(null,e),warn:V.bind(null,e),error:L.bind(null,e)}}},O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},M=e(function(e){var t;t=function(){function s(){for(var e=0,t={};e<arguments.length;e++){var a,n=arguments[e];for(a in n)t[a]=n[a]}return t}function l(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function e(c){function o(){}function a(e,t,a){if("undefined"!=typeof document){"number"==typeof(a=s({path:"/"},o.defaults,a)).expires&&(a.expires=new Date(+new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var n=JSON.stringify(t);/^[\{\[]/.test(n)&&(t=n)}catch(e){}t=c.write?c.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var r,i="";for(r in a)a[r]&&(i+="; "+r,!0!==a[r]&&(i+="="+a[r].split(";")[0]));return document.cookie=e+"="+t+i}}function t(e,t){if("undefined"!=typeof document){for(var a={},n=document.cookie?document.cookie.split("; "):[],r=0;r<n.length;r++){var i=n[r].split("="),o=i.slice(1).join("=");t||'"'!==o.charAt(0)||(o=o.slice(1,-1));try{var s=l(i[0]),o=(c.read||c)(o,s)||l(o);if(t)try{o=JSON.parse(o)}catch(e){}if(a[s]=o,e===s)break}catch(e){}}return e?a[e]:a}}return o.set=a,o.get=function(e){return t(e,!1)},o.getJSON=function(e){return t(e,!0)},o.remove=function(e,t){a(e,"",s(t,{expires:-1}))},o.defaults={},o.withConverter=e,o}(function(){})},e.exports=t()}),R={get:M.get,set:M.set,remove:M.remove},j=function(n,e){var r="com.adobe.reactor."+(e||"");return{getItem:function(e){var t={}.constructor.getOwnPropertyDescriptor(window,"localStorage");try{return t&&{}.constructor.defineProperty(window,"localStorage",$___mock_68baf1e69228f27e.localStorage),function(){try{return b[n].getItem(r+e)}catch(e){return null}}.apply(this,arguments)}finally{t&&{}.constructor.defineProperty(window,"localStorage",t)}},setItem:function(e,t){var a={}.constructor.getOwnPropertyDescriptor(window,"localStorage");try{return a&&{}.constructor.defineProperty(window,"localStorage",$___mock_68baf1e69228f27e.localStorage),function(){try{return b[n].setItem(r+e,t),!0}catch(e){return!1}}.apply(this,arguments)}finally{a&&{}.constructor.defineProperty(window,"localStorage",a)}}}},x="_sdsat_",B="dataElements.",F="dataElementCookiesMigrated",H=j("localStorage"),q=j("sessionStorage",B),U=j("localStorage",B),z="pageview",Y="session",K="visitor",Q={},G=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},W=function(e,t,a){var n;switch(t){case z:return void(Q[e]=a);case Y:return void((n=G(a))&&q.setItem(e,n));case K:return void((n=G(a))&&U.setItem(e,n))}},$=W,X=function(e,t){var a;switch(t){case z:return Q.hasOwnProperty(e)?Q[e]:null;case Y:return null===(a=q.getItem(e))?a:JSON.parse(a);case K:return null===(a=U.getItem(e))?a:JSON.parse(a)}},J=function(n){H.getItem(F)||(Object.keys(n).forEach(function(e){var t,a;a=n[t=e].storageDuration,void 0!==(e=R.get(x+t))&&W(t,a,e)}),H.setItem(F,!0))},Z=function(e,t,a,n){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+a+(n?"\n"+n:"")},ee={text:function(e){return e.textContent},cleanText:function(e){return v(e.textContent)}},te=function(e,t,a){for(var n,r=e,i=0,o=t.length;i<o;i++){if(null==r)return;var s,c=t[i];r=a&&"@"===c.charAt(0)?(s=c.slice(1),ee[s](r)):r.getAttribute&&(n=c.match(/^getAttribute\((.+)\)$/))?(s=n[1],r.getAttribute(s)):r[c]}return r},ae=function(){function e(e){var t,a,n,r=o(e);return r.hasOwnProperty("exports")||(r.exports=(t=r.definition.script,a=r.require,n=r.turbine,e={exports:{}},t.call(e.exports,e,e.exports,a,n),e.exports)),r.exports}var i={},o=function(e){var t=i[e];if(!t)throw new Error("Module "+e+" not found.");return t};return{registerModule:function(e,t,a,n,r){r={definition:t,extensionName:a,require:n,turbine:r};r.require=n,i[e]=r},hydrateCache:function(){Object.keys(i).forEach(function(t){try{e(t)}catch(e){t="Error initializing module "+t+". "+e.message+(e.stack?"\n"+e.stack:"");N.error(t)}})},getModuleExports:e,getModuleDefinition:function(e){return o(e).definition},getModuleExtensionName:function(e){return o(e).extensionName}}},ne=!1,re=function(n,r,i){function o(e,t,a){return n(t)?(s.push(t),a=r(t,a),s.pop(),null==a&&i?"":a):e}var s=[],a=function(e,a){var t=/^%([^%]+)%$/.exec(e);return t?o(e,t[1],a):e.replace(/%(.+?)%/g,function(e,t){return o(e,t,a)})},c=function(e,t){for(var a={},n=Object.keys(e),r=0;r<n.length;r++){var i=n[r],o=e[i];a[i]=d(o,t)}return a},l=function(e,t){for(var a=[],n=0,r=e.length;n<r;n++)a.push(d(e[n],t));return a},d=function(e,t){return"string"==typeof e?a(e,t):Array.isArray(e)?l(e,t):"object"==typeof e&&null!==e?c(e,t):e};return function(e,t){return 10<s.length?(N.error("Data element circular reference detected: "+s.join(" -> ")),e):d(e,t)}},ie=setTimeout;i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var a=new this.constructor(n);return r(this,new d(e,t,a)),a},i.prototype.finally=function(t){var a=this.constructor;return this.then(function(e){return a.resolve(t()).then(function(){return e})},function(e){return a.resolve(t()).then(function(){return a.reject(e)})})},i.all=function(t){return new i(function(r,i){if(!c(t))return i(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(t);if(0===o.length)return r([]);for(var s=o.length,e=0;e<o.length;e++)!function t(a,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return n.call(e,function(e){t(a,e)},i),0}o[a]=e,0==--s&&r(o)}catch(a){i(a)}}(e,o[e])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(a){return new i(function(e,t){t(a)})},i.race=function(r){return new i(function(e,t){if(!c(r))return t(new TypeError("Promise.race accepts an array"));for(var a=0,n=r.length;a<n;a++)i.resolve(r[a]).then(e,t)})},i._immediateFn="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){ie(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var oe=function(a){if(a.__esModule)return a;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(a).forEach(function(e){var t=Object.getOwnPropertyDescriptor(a,e);Object.defineProperty(n,e,t.get?t:{enumerable:!0,get:function(){return a[e]}})}),n}(Object.freeze({__proto__:null,default:i})),se="undefined"!=typeof window&&window.Promise||O.Promise||oe.default||oe,ce=se.resolve(),le=function(o,s,c,l){return function(t,e){var a,n;if(t.conditions)for(var r=0;r<t.conditions.length;r++){a=t.conditions[r];try{var i=o(a,e,[e]);if(n=i,Boolean(n&&"object"==typeof n&&"function"==typeof n.then))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!s(a,i))return c(a,t),!1}catch(e){return l(a,t,e),!1}}return!0}},de=function(e,t,a){return'Failed to execute "'+e+'" for "'+t+'" rule. '+a.message+(a.stack?"\n"+a.stack:"")},ue=function(e,t){return t&&!e.negate||!t&&e.negate},pe=[],he=!1,fe=function(e){he?e():pe.push(e)},ge=function(e){var t;return(e=e||new Error("The extension triggered an error, but no error information was provided."))instanceof Error||(t="object"==typeof e?JSON.stringify(e):String(e),e=new Error(t)),e},me=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)},be=function(e){var t,a;return!1!==p(e)&&"function"==typeof(t=e.constructor)&&!1!==p(a=t.prototype)&&!1!==a.hasOwnProperty("isPrototypeOf")},_e=".js",ve=function(e){return e.substr(0,e.lastIndexOf("/"))},ye=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},ke=function(e,t,a,n){a=a||"=";var r={};if("string"!=typeof e||0===e.length)return r;var i=/\+/g;e=e.split(t=t||"&");t=1e3;n&&"number"==typeof n.maxKeys&&(t=n.maxKeys);var o=e.length;0<t&&t<o&&(o=t);for(var s=0;s<o;++s){var c,l=e[s].replace(i,"%20"),d=l.indexOf(a),d=0<=d?(c=l.substr(0,d),l.substr(d+1)):(c=l,""),l=decodeURIComponent(c),d=decodeURIComponent(d);Object.prototype.hasOwnProperty.call(r,l)?Array.isArray(r[l])?r[l].push(d):r[l]=[r[l],d]:r[l]=d}return r},we=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},Ae=function(a,n,r,e){return n=n||"&",r=r||"=","object"==typeof(a=null===a?void 0:a)?Object.keys(a).map(function(e){var t=encodeURIComponent(we(e))+r;return Array.isArray(a[e])?a[e].map(function(e){return t+encodeURIComponent(we(e))}).join(n):t+encodeURIComponent(we(a[e]))}).join(n):e?encodeURIComponent(we(e))+r+encodeURIComponent(we(a)):""},Se=e(function(e,t){t.decode=t.parse=ke,t.encode=t.stringify=Ae}),Ee="@adobe/reactor-",Ie={cookie:R,document:h,"load-script":function(e){var t=document.createElement("script");t.src=e,t.async=!0;var a,n,e=(a=e,n=t,new se(function(e,t){n.onload=function(){e(n)},n.onerror=function(){t(new Error("Failed to load script "+a))}}));return document.getElementsByTagName("head")[0].appendChild(t),e},"object-assign":a,promise:se,"query-string":{parse:function(e){return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,"")),Se.parse(e)},stringify:function(e){return Se.stringify(e)}},window:b},Te=function(d,u,p,h,f,g,m){var b,s,c,_=d.extensions,v=d.buildInfo,y=d.environment,k=d.property.settings;return _&&(s=_,c=u,b=function(e,t){e=s[e];if(e){var a=e.modules;if(a)for(var n=Object.keys(a),r=0;r<n.length;r++){var i=n[r],o=a[i];if(o.shared&&o.name===t)return c.getModuleExports(i)}}},Object.keys(_).forEach(function(r){var i=_[r],e=i.settings;Array.isArray(i.filePaths)&&(e=g(e,i.filePaths));var t,a,o,n,s,c,l=(t=h,a=e,function(){return a?t(a):{}});i.modules&&(e=N.createPrefixedLogger(i.displayName),n=m,s=i.hostedLibFilesBaseUrl,c=v.minified,o={buildInfo:v,environment:y,property:{name:d.property.name,id:d.property.id},getDataElementValue:f,getExtensionSettings:l,getHostedLibFileUrl:function(e){var t;return c&&((t=e.split(".")).splice(t.length-1||1,0,"min"),e=t.join(".")),n(s)+e},getSharedModule:b,logger:e,propertySettings:k,replaceTokens:h,onDebugChanged:p.onDebugChanged,get debugEnabled(){return p.getDebugEnabled()}},Object.keys(i.modules).forEach(function(t){var a,e=i.modules[t],n=(a=function(e){e=function(e,t){ye(t,_e)||(t+=_e);var t=t.split("/"),a=ve(e).split("/");return t.forEach(function(e){e&&"."!==e&&(".."===e?a.length&&a.pop():a.push(e))}),a.join("/")}(t,e);return u.getModuleExports(e)},function(e){if(0===e.indexOf(Ee)){var t=e.substr(Ee.length),t=Ie[t];if(t)return t}if(0===e.indexOf("./")||0===e.indexOf("../"))return a(e);throw new Error('Cannot resolve module "'+e+'".')});u.registerModule(t,e,r,n,o)}))}),u.hydrateCache()),u},Pe=function(e){for(var t=h.querySelectorAll("script"),a=0;a<t.length;a++){var n=t[a];if(e.test(n.src))return n}},y=function(n,r){return function(t,e,a){return n&&be(t)&&Object.keys(t).length&&Array.isArray(e)&&e.length&&e.forEach(function(e){Boolean(null!=a&&/^core\/.*actions.*\/customCode\.js$/.test(a))&&"source"===e&&!t.isExternal||function t(e,a,n){if(e.length&&be(a)){var r=e[0];if(1!==e.length){var i=e.slice(1);if("string"!=typeof(e=r)||-1===e.indexOf("[")||-1===e.indexOf("]"))return t(i,a[r],n);e=a[r=(e=r).substr(0,e.indexOf("["))],Array.isArray(e)&&e.forEach(function(e){return t(i,e,n)})}else a.hasOwnProperty(r)&&"string"==typeof a[r]&&(a[r]=n(a[r]))}}(e.split("."),t,r)}),t}},S=function(){return Pe(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))},M=window._satellite;if(M&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var De=M.container;delete M.container;B=a({},De.buildInfo);Object.defineProperty(B,"environment",{get:function(){return N.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),De.environment.stage}}),De.buildInfo=B;O=_(j("localStorage"),N),oe="";h.currentScript&&h.currentScript.getAttribute("src")?oe=h.currentScript.getAttribute("src"):S()&&(oe=S().getAttribute("src"));try{Le=t(oe,De.company.cdnAllowList,O)}catch(e){throw N.warn("Please review the following error:"),e}var B=y(Le.isDynamicEnforced,Le.decorateWithDynamicHost),_=ae(),j=De.property.settings.undefinedVarsReturnEmpty,S=De.property.settings.ruleComponentSequencingEnabled,Ce=De.dataElements||{};J(Ce);var t=function(e){return Ce[e]},oe=(Nt=_,Mt=function(){return Ve.apply(null,arguments)},jt=B,function(t,e){var a=Ot(t);if(!a)return Rt?"":void 0;var n,r,i=a.storageDuration;try{n=Nt.getModuleExports(a.modulePath),r=Nt.getModuleDefinition(a.modulePath)}catch(e){return void N.error(Z(a,t,e.message,e.stack))}if("function"==typeof n){var o,s=a.settings||{};!a.hasTransformedFilePaths&&r.filePaths&&(jt(s,r.filePaths,a.modulePath),a.hasTransformedFilePaths=!0);try{o=n(Mt(s,e),e)}catch(e){return void N.error(Z(a,t,e.message,e.stack))}return i&&(null!=o?$(t,i,o):o=X(t,i)),"string"==typeof(o=null==o&&null!=a.defaultValue?a.defaultValue:o)&&(a.cleanText&&(o=v(o)),a.forceLowerCase&&(o=o.toLowerCase())),o}N.error(Z(a,t,"Module did not export a function."))}),y={},ae=function(){if("string"==typeof arguments[0])Lt[arguments[0]]=arguments[1];else if(arguments[0]){var e,t=arguments[0];for(e in t)Lt[e]=t[e]}},J=function(e){var t=e.split(".")[0];return Boolean(Vt(e)||"this"===t||"event"===t||"target"===t||Ct.hasOwnProperty(t))},t=(Tt=Ct=Lt=y,Pt=Vt=Ot=t,Dt=oe,function(e,t){var a,n;return Pt(e)?a=Dt(e,t):"this"===(e=(n=e.split(".")).shift())?t&&(a=te(t.element,n,!0)):"event"===e?t&&(a=te(t,n)):"target"===e?t&&(a=te(t.target,n)):a=te(Tt[e],n),a}),Ve=re(J,t,Rt=j);(function(e,t,a,n,r){var i=N.createPrefixedLogger("Custom Script");e.track=function(e){N.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=i,e.notify=function(e,t){switch(N.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:i.info(e);break;case 4:i.warn(e);break;case 5:i.error(e);break;default:i.log(e)}},e.getVar=n,e.setVar=r,e.setCookie=function(e,t,a){var n="",r={};a&&(n=", { expires: "+a+" }",r.expires=a),N.deprecation('_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+n+")."),R.set(e,t,r)},e.readCookie=function(e){return N.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),R.get(e)},e.removeCookie=function(e){N.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),R.remove(e)},e.cookie=R,e.pageBottom=function(){},e.setDebug=a;var o=!1;Object.defineProperty(e,"_container",{get:function(){return o||(N.warn("_satellite._container may change at any time and should only be used for debugging."),o=!0),t}})})(M,De,O.setDebugEnabled,t,ae),Te(De,_,O,Ve,oe,B,Le.decorateWithDynamicHost);var ae=(It=M,function(t,a){var e=It._monitors;e&&(ne||(N.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),ne=!0),e.forEach(function(e){e[t]&&e[t](a)}))}),Te=(St=Ve,Et=B,function(e,t,a){a=a||[];var n=At.getModuleExports(e.modulePath);if("function"!=typeof n)throw new Error("Module did not export a function.");var r=At.getModuleDefinition(e.modulePath),i=e.settings||{};!e.hasTransformedFilePaths&&r.filePaths&&(Et(i,r.filePaths,e.modulePath),e.hasTransformedFilePaths=!0);t=St(i,t);return n.bind(null,t).apply(null,a)}),O=function(e){var t=wt.getModuleDefinition(e.modulePath);return t&&t.displayName||e.modulePath},oe=function(e,t){var a=vt(e);yt.log('Condition "'+a+'" for rule "'+t.name+'" was not met.'),kt("ruleConditionFailed",{rule:t,condition:e})},Le=function(e,t,a){var n=mt(e);bt.error(gt(n,t.name,a)),_t("ruleConditionFailed",{rule:t,condition:e})},B=(pt=mt=vt=O,function(e,t,a){var n=pt(e);ht.error(ut(n,t.name,a)),ft("ruleActionFailed",{rule:t,action:e})}),O=function(e){lt.log('Rule "'+e.name+'" fired.'),dt("ruleCompleted",{rule:e})},_=(Ue=S,rt=le(Te,ue,oe,Le),it=function(t,e){var a;if(t.actions)for(var n=0;n<t.actions.length;n++){a=t.actions[n];try{ot(a,e,[e])}catch(e){return void st(a,t,e)}}ct(t)},ze=function(e,t){rt(e,t)&&it(e,t)},tt=ue,at=Le,nt=oe,Qe=function(o,t,s,e){return e.then(function(){var i;return new se(function(e,t){var a=Ze(o,s,[s]),n=o.timeout,r=new se(function(e,t){i=setTimeout(function(){t(new Error("A timeout occurred because the condition took longer than "+n/1e3+" seconds to complete. "))},n)});se.race([a,r]).then(e,t)}).catch(function(e){return clearTimeout(i),e=et(e),at(o,t,e),se.reject(e)}).then(function(e){if(clearTimeout(i),!tt(o,e))return nt(o,t),se.reject()})})},Xe=et=ge,Je=st=B,Ge=function(s,t,c,e){return e.then(function(){var i,o=s.delayNext;return new se(function(e,t){var a=$e(s,c,[c]);if(!o)return e();var n=s.timeout,r=new se(function(e,t){i=setTimeout(function(){t(new Error("A timeout occurred because the action took longer than "+n/1e3+" seconds to complete. "))},n)});se.race([a,r]).then(e,t)}).catch(function(e){return clearTimeout(i),e=Xe(e),Je(s,t,e),se.reject(e)}).then(function(){clearTimeout(i)})})},We=ct=O,Ye=function(t,a){return t.conditions&&t.conditions.forEach(function(e){ce=Qe(e,t,a,ce)}),t.actions&&t.actions.forEach(function(e){ce=Ge(e,t,a,ce)}),ce=(ce=ce.then(function(){We(t)})).catch(function(){})},Ke=dt=ft=_t=kt=ae,Re=function(e,t){Ke("ruleTriggered",{rule:t}),(Ue?Ye:ze)(t,e)},je=$e=Ze=ot=Te,xe=function(e,t){return be(t=t||{})?t=a({},t,e):a(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return N.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},Be=ut=gt=de,qe=wt=At=_,Fe=function(e){var t=e.rule,a=e.event,e=qe.getModuleDefinition(a.modulePath).name;return{$type:qe.getModuleExtensionName(a.modulePath)+"."+e,$rule:{id:t.id,name:t.name}}},He=lt=ht=bt=yt=N,function(a,e){var n=e.rule,t=e.event;t.settings=t.settings||{};try{var r=Fe(e);je(t,null,[function(e){var t=xe(r,e);a(function(){Re(t,n)})}])}catch(e){He.error(Be(t,n,e))}});Ne=function(e){var a=[];return e.forEach(function(t){t.events&&t.events.forEach(function(e){a.push({rule:t,event:e})})}),a.sort(function(e,t){return e.event.ruleOrder-t.event.ruleOrder})},Oe=De.rules||[],Me=_,Ne(Oe).forEach(function(e){Me(fe,e)}),he=!0,pe.forEach(function(e){e()}),pe=[]}return M}var Ne,Oe,Me,Re,je,xe,Be,Fe,He,qe,Ue,ze,Ye,Ke,Qe,Ge,We,$e,Xe,Je,Ze,et,tt,at,nt,rt,it,ot,st,ct,lt,dt,ut,pt,ht,ft,gt,mt,bt,_t,vt,yt,kt,wt,At,St,Et,It,Tt,Pt,Dt,Ct,Vt,Lt,Nt,Ot,Mt,Rt,jt;console.warn("Adobe Launch is unsupported in IE 9 and below.")}();_satellite=$___var_2b0a675722904a9a}()}
